if (self.CavalryLogger) { CavalryLogger.start_js(["GKGDM"]); }

__d("BasicTypeaheadLoggerJSConstants",[],(function a(b,c,d,e,f,g){f.exports={EventNames:{ADS_TARGETING:"ads_targeting",MENTIONS:"mentions",TINDER_MENTIONS:"tinder_mentions",REACT_COMPOSER_MENTIONS:"react_composer_mentions",PHOTO_TAGGER:"photo-tagger",PROFILE:"profile",TIMELINE_COLLECTION:"timeline_collection",OGCOMPOSER_TAGGER:"ogcomposer-tagger",PLACES_TYPEAHEAD:"places_typeahead",CHAT_MENTIONS_ENTITIES:"chat_mentions_entities",REACT_COMPOSER_OG_TAGGER:"react_composer_og_tagger",REACT_SHARE_DIALOG_OG_TAGGER:"react_share_dialog_og_tagger",REACT_COMPOSER_LOCATION_TAGGER:"react_composer_location_tagger",REACT_SHARE_DIALOG_LOCATION_TAGGER:"react_share_dialog_location_tagger",GROUP_SEARCH_TA:"group_search_ta"},Fields:{EVENT:"event",STRATEGY_NAME:"strategy_name",HAS_INTENT_MENTION:"has_intent_mention",USER_ID:"userid",SELECTED_POSITION:"selected_position",SELECTED_ID:"selected_id",QUERIES_HISTORY:"queries_history",NUM_QUERIES:"num_queries",CANDIDATE_RESULTS:"candidate_results",CANDIDATE_RESULTS_ADS:"candidate_results_ads",QUERY:"query",LAST_NOT_BACKSPACED_QUERY:"last_not_backspaced_query",REQUEST_ID:"request_id",REQUEST_IDS_HISTORY:"request_ids_history",SESSION_ID:"session_id",SESSION_TIME:"session_time",NORMALIZED_BACKEND_QUERY:"normalized_backend_query",SELECTED_TYPE:"selected_type",SELECTED_QUERY:"selected_query",SELECTED_ORIGINAL_ID:"selected_original_id",SELECTED_SCORE:"selected_score",PLACE_ID:"place_id",CLIENT_TIME:"client_time",TIMEZONE:"timezone",TIMEZONE_ID:"timezone_id",ACTION_TYPE_ID:"action_type_id",SELECTED_ID_INT:"selected_id_int",CLICK:"click",FILTERED_CANDIDATE_RESULTS:"filtered_candidate_results",FBTYPE:"fbtype",PAGE:"page",PAGE_VISIBILITY_DUMMY:"page_visibility_dummy",SEARCH_VERSION:"search_version",GK_STATUS:"gk_status",QE_GROUP:"qe_group",EVENT_SPECIFIC_DATA:"event_specific_data",REF:"ref",SOURCE:"source",GEO_PROFILE_COUNTRY:"geo_profile_country",CURRENT_GEO_PROFILE:"current_geo_profile",CURRENT_CITY_GLOBAL_ID:"current_city_global_id",CURRENT_REGION_ID:"current_region_id",CURRENT_COUNTRY:"current_country",COLLECTION_DATA:"collection_data",FILTERED_COUNT:"filtered_count",GOOD_CLICK:"good_click",GOOD_CLICK_INT:"good_click_int",FALLBACK_CLICK:"fallback_click",ENTITY_CLICK:"entity_click",ENTITY_CLICK_INT:"entity_click_int",HAD_RESULTS:"had_results",NUM_RESULTS:"num_results",PAGE_CATEGORY:"page_category",PAGE_VISIBILITY:"page_visibility",PAGE_IS_AUTHENTIC:"page_is_authentic",PRECISION:"precision",EVENT_CONTEXT:"event_context",PAGE_SOURCE:"page_source",ENTITY_TYPE:"entity_type",EVENT_VALID:"event_valid",QUERY_LENGTH:"query_length",FIRST_RESULT:"first_result",HAD_DUPLICATES:"had_duplicates",COMPLETE_APP_COUNT:"complete_app_count",APP_COLLECTION_SIZE:"app_collection_size",COLLECTION_SIZE:"collection_size",NON_EMPTY_FRIENDS_COUNT:"non_empty_friends_count",CAROUSEL_COLLECTION_SIZE:"carousel_collection_size",QUALITY_ACCURACY:"quality_accuracy",SELECTED_WITH_MOUSE:"selected_with_mouse",AVG_QUERY_LATENCY:"avg_query_latency",IS_EMPLOYEE:"is_employee",PROFILE_SECTION:"profile_section",TYPEAHEAD_SOURCE:"typeahead_source",MINUTIAE_COMPOSER_VERSION:"minutiae_composer_version",LAST_QUERY_LATENCY:"last_query_latency",AD_ACCOUNT_ID:"ad_account_id",SUGGESTION_MODE:"suggestion_mode",NEXT_SUGGESTION_MODE:"next_suggestion_mode"},MinutiaeComposerVersions:{LEGACY:"legacy",LEGACY_TOKENIZED:"legacy_tokenized",REACT:"react"}}}),null);
__d("TopicFeedsConstant",[],(function a(b,c,d,e,f,g){var h={DEFAULT_PHOTO_AUTO_TAGGING_DELAY:3000,DEFAULT_PHOTO_POLLING_DURATION:10000,DEFAULT_PHOTO_POLLING_INTERVAL:1000,DEFAULT_TEXT_AUTO_TAGGING_DELAY:3000,DEFAULT_COMPOSER_TOPIC_LIMIT:3,TOPIC_CONFIDENCE_USER_ADD:3,TOPIC_CONFIDENCE_USER_REMOVE:-1,TOPIC_CONFIDENCE_BOOTSTRAP:2};f.exports=h}),null);
__d('ComposerDraftTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:ComposerDraftLoggerConfig',this.$ComposerDraftTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:ComposerDraftLoggerConfig',this.$ComposerDraftTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$ComposerDraftTypedLogger1={};return this};h.prototype.updateData=function(j){this.$ComposerDraftTypedLogger1=babelHelpers['extends']({},this.$ComposerDraftTypedLogger1,j);return this};h.prototype.setDraftType=function(j){this.$ComposerDraftTypedLogger1.draft_type=j;return this};h.prototype.setEventType=function(j){this.$ComposerDraftTypedLogger1.event_type=j;return this};h.prototype.setVC=function(j){this.$ComposerDraftTypedLogger1.vc=j;return this};var i={draft_type:true,event_type:true,vc:true};f.exports=h}),null);
__d('MemePickerDialogTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:MemePickerDialogLoggerConfig',this.$MemePickerDialogTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:MemePickerDialogLoggerConfig',this.$MemePickerDialogTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$MemePickerDialogTypedLogger1={};return this};h.prototype.updateData=function(j){this.$MemePickerDialogTypedLogger1=babelHelpers['extends']({},this.$MemePickerDialogTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$MemePickerDialogTypedLogger1.event=j;return this};h.prototype.setMeme=function(j){this.$MemePickerDialogTypedLogger1.meme=j;return this};h.prototype.setVC=function(j){this.$MemePickerDialogTypedLogger1.vc=j;return this};var i={event:true,meme:true,vc:true};f.exports=h}),null);
__d('ProfileCustomVideoThumbnailTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:ProfileCustomVideoThumbnailLoggerConfig',this.$ProfileCustomVideoThumbnailTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:ProfileCustomVideoThumbnailLoggerConfig',this.$ProfileCustomVideoThumbnailTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$ProfileCustomVideoThumbnailTypedLogger1={};return this};h.prototype.updateData=function(j){this.$ProfileCustomVideoThumbnailTypedLogger1=babelHelpers['extends']({},this.$ProfileCustomVideoThumbnailTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$ProfileCustomVideoThumbnailTypedLogger1.event=j;return this};h.prototype.setVC=function(j){this.$ProfileCustomVideoThumbnailTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$ProfileCustomVideoThumbnailTypedLogger1.video_id=j;return this};var i={event:true,vc:true,video_id:true};f.exports=h}),null);
__d('TimelineMapScrollableArea',['Animation','ArbiterMixin','CSS','DOM','Event','Run','Scroll','SimpleDrag','Style','Vector','$','shield'],(function a(b,c,d,e,f,g){function h(i,j){i&&this.init(c('$')(i),j)}Object.assign(h.prototype,c('ArbiterMixin'),{init:function i(j,k){k=k||{};this._elem=j;this._wrap=c('DOM').find(j,'div.fbScrollableAreaWrap');this._body=c('DOM').find(this._wrap,'div.fbScrollableAreaBody');this._track=c('DOM').find(j,'div.fbScrollableAreaTrack');this._gripper=c('DOM').find(this._track,'div.fbScrollableAreaGripper');this._options=k;this.adjustGripper();this._listeners=[c('Event').listen(this._wrap,'scroll',this._handleScroll.bind(this))];if(k.fade!==false)this._listeners.push(c('Event').listen(j,'mouseenter',c('shield')(this.adjustGripper,this)),c('Event').listen(j,'mouseenter',c('shield')(this.showScrollbar,this)),c('Event').listen(j,'mousemove',this._handleMousemove.bind(this)),c('Event').listen(j,'mouseout',c('shield')(this.hideScrollbar,this)));if(k.fade!==undefined)this._listeners.push(c('Event').listen(this._track,'click',this.clickToScroll.bind(this)));if(k.verticalscroll)this._listeners.push(c('Event').listen(this._wrap,'mousewheel',this.mouseWheel.bind(this)),c('Event').listen(this._wrap,'DOMMouseScroll',this.mouseWheel.bind(this)));this.initDrag();if(!k.persistent)c('Run').onLeave(this.destroy.bind(this));},getRoot:function i(){return this._elem},initDrag:function i(){var j=new (c('SimpleDrag'))(this._gripper);j.subscribe('start',function(k,event){if(!(event.which&&event.which===1||event.button&&event.button===1))return;this.inform('dragstart');var l=c('Vector').getEventPosition(event).x,m=this._gripper.offsetLeft,n=j.subscribe('update',function(p,q){var r=c('Vector').getEventPosition(q).x-l,s=this._elem.clientWidth,t=this._body.offsetWidth,u=this._track.offsetWidth,v=s/t*u,w=t-this._wrap.offsetWidth,x=m+r,y=u-v;x=Math.max(Math.min(x,y),0);var z=x/y*w;c('Scroll').setLeft(this._wrap,z)}.bind(this)),o=j.subscribe('end',function(){j.unsubscribe(n);j.unsubscribe(o);this.inform('dragend')}.bind(this))}.bind(this))},adjustGripper:function i(){var j=this._elem.clientWidth,k=this._body.offsetWidth,l=this._track.offsetWidth,m=j/k*l;if(m<l){c('Style').set(this._gripper,'width',m+'px');var n=c('Scroll').getLeft(this._wrap)/k*l;c('Style').set(this._gripper,'left',n+'px');c('CSS').show(this._gripper)}else c('CSS').hide(this._gripper);this._checkContentBoundaries();return this},_checkContentBoundaries:function i(){var j=c('Scroll').getLeft(this._wrap),k=this._wrap.scrollWidth-this._wrap.clientWidth;c('CSS').conditionClass(this._elem,'contentBefore',j>0);c('CSS').conditionClass(this._elem,'contentAfter',j<k)},destroy:function i(){this._listeners.forEach(function(j){j.remove()});this._listeners.length=0},_handleMousemove:function i(event){var j=c('Vector').getElementPosition(this._track).y,k=c('Vector').getElementDimensions(this._track).y;if(Math.abs(j+k/2-c('Vector').getEventPosition(event).y)<25){this.showScrollbar(false)}else this.hideScrollbar();},_handleScroll:function i(event){this.adjustGripper();if(this._options.fade!==false)this.showScrollbar();},hideScrollbar:function i(){if(!this._scrollbarVisible)return this;this._scrollbarVisible=false;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null}this._hideTimeout=setTimeout(function(){if(this._scrollbarAnimation){this._scrollbarAnimation.stop();this._scrollbarAnimation=null}this._scrollbarAnimation=new (c('Animation'))(this._track).from('opacity',1).to('opacity',0).duration(250).ondone(c('CSS').addClass.bind(null,this._track,'invisible_elem')).go()}.bind(this),750);return this},showScrollbar:function i(j){if(this._scrollbarVisible)return this;this._scrollbarVisible=true;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null}if(this._scrollbarAnimation){this._scrollbarAnimation.stop();this._scrollbarAnimation=null}this.adjustGripper();c('Style').set(this._track,'opacity',1);c('CSS').removeClass(this._track,'invisible_elem');if(j!==false)this.hideScrollbar();return this},clickToScroll:function i(event){var j=c('Vector').getEventPosition(event).x,k=this._elem.clientWidth,l=this._body.offsetWidth,m=this._track.offsetWidth,n=k/l*m,o=c('Vector').getElementPosition(this._gripper);if(j>=o.x&&j<=o.x+n)return;var p=j<o.x?-1:1,q=this._wrap.offsetWidth*.8*p;this.scrollBy(q)},scrollBy:function i(j){this.setScroll(c('Scroll').getLeft(this._wrap)+j)},getMaxBodyOffset:function i(){return this._body.offsetWidth-this._wrap.offsetWidth},setScroll:function i(j){var k=j;k=Math.max(Math.min(k,this.getMaxBodyOffset()),0);c('Scroll').setLeft(this._wrap,k)},scrollIntoView:function i(j){var k=this._wrap.clientWidth,l=j.offsetWidth,m=c('Scroll').getLeft(this._wrap),n=m+k,o=j.offsetLeft,p=o+l;if(o<m||k<l){this.setScroll(o)}else if(p>n)this.setScroll(m+(p-n));},mouseWheel:function i(event){if(this.getMaxBodyOffset()<=0)return;var j=0;if(event.wheelDelta){var k=event.wheelDelta;if(event.wheelDeltaX&&event.wheelDeltaY)k=Math.abs(event.wheelDeltaX)>Math.abs(event.wheelDeltaY)?event.wheelDeltaX:event.wheelDeltaY;j=-k*10/40}else if(event.detail)j=event.detail*10;this.scrollBy(j);event.prevent()}});f.exports=b.TimelineMapScrollableArea||h}),null);
__d('MNPageComposerUtils',[],(function a(b,c,d,e,f,g){'use strict';h.prototype.shouldShowMessagingButton=function(i,j,k,l,m,n,o){var p=i&&i>1&&o!=null&&o;return p||!(i&&i>1||j&&j>1||!i&&!j||k||l||m||n)};function h(){}f.exports=new h()}),null);
__d('FaceRecognitionController',['ArbiterMixin','BanzaiODS','Poller','mixin','removeFromArray','FacerecWaterfallEvent'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this);this._config=babelHelpers['extends']({uri:'/photos/tagging/recognition/',interval:2000,maxRequests:4,targetIsPage:false,targetID:null},k);this._cleanup();this._poller=new (c('Poller'))({dontStart:true,maxRequests:this._config.maxRequests,interval:this._config.interval,setupRequest:function(l,m){if(!this._pendingPhotos||this._pendingPhotos.length===0)m.skip();l.setURI(this._config.uri).setData({recognition_project:'composer_facerec',photos:this._pendingPhotos,waterfallID:this._config.waterfallID,target:this._config.targetID,is_page:this._config.targetIsPage,include_unrecognized_faceboxes:!!this._config.include_unrecognized_faceboxes,include_face_crop_src:!!this._config.include_face_crop_src,include_recognized_user_profile_picture:!!this._config.include_recognized_user_profile_picture,include_low_confidence_recognitions:!!this._config.include_low_confidence_recognitions}).setHandler(this._handleResponse.bind(this))}.bind(this)});this._poller.subscribe('done',function(){var l=this._pendingPhotos;this._cleanup();this.inform('done',{unresolved:l,facerecWaterfallEvent:c('FacerecWaterfallEvent').CLIENT_RECOGNITION_POLLER_GIVE_UP})}.bind(this))}j.prototype.setWaterfallID=function(k){'use strict';this._config.waterfallID=k};j.prototype.start=function(k){'use strict';Array.prototype.push.apply(this._pendingPhotos,k);this._poller.reset();this._resetSafeguardTimeout()};j.prototype.stop=function(){'use strict';this._poller.stop();this._cleanup()};j.prototype._cleanup=function(){'use strict';window.clearTimeout(this._safeguardTimeout);this._safeguardTimeout=null;this._pendingPhotos=[]};j.prototype._resetSafeguardTimeout=function(){'use strict';window.clearTimeout(this._safeguardTimeout);this._safeguardTimeout=window.setTimeout(function(){c('BanzaiODS').bumpEntityKey('composer_facerec','safeguard');var k=this._pendingPhotos;this._poller.stop();this._cleanup();this.inform('done',{unresolved:k,facerecWaterfallEvent:c('FacerecWaterfallEvent').CLIENT_RECOGNITION_POLLER_TIMEOUT})}.bind(this),(this._config.maxRequests+2)*this._config.interval)};j.prototype._handleResponse=function(k){'use strict';var l=k.getPayload();l.forEach(function(m){var n=0;c('removeFromArray')(this._pendingPhotos,m.fbid);m.faceboxes.forEach(function(o){n+=o.recognitions.length;o.recognitions.forEach(function(p){this.inform('recognition',{photo:m.fbid,facebox:{fbid:o.fbid,x:o.x,y:o.y},recognition:p})}.bind(this))}.bind(this));this.inform('photo',{photo:m.fbid,faceboxes:m.faceboxes,recognitions:n})}.bind(this));if(!this._pendingPhotos.length){this._poller.stop();this._cleanup();this.inform('done',{unresolved:this._pendingPhotos})}};f.exports=j}),null);
__d("ComposerMemePickerDialogEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MEME_PROMPT_CLICKED:"meme_prompt_clicked",MEME_PICKER_OPENED:"meme_picker_opened",MEME_SELECTED:"meme_selected",MEME_POSTED:"meme_posted"})}),null);
__d('MemePickerLogger',['ComposerMemePickerDialogEvent','FunnelLogger','MemePickerDialogTypedLogger'],(function a(b,c,d,e,f,g){var h='WWW_MEME_PICKER_DIALOG_FUNNEL',i=false,j={_log:function k(l,m){new (c('MemePickerDialogTypedLogger'))().setEvent(l).setMeme(m).log();if(!i){i=true;c('FunnelLogger').startFunnel(h)}c('FunnelLogger').appendAction(h,l)},logMemePromptClicked:function k(){this._log(c('ComposerMemePickerDialogEvent').MEME_PROMPT_CLICKED)},logMemePickerOpened:function k(){this._log(c('ComposerMemePickerDialogEvent').MEME_PICKER_OPENED)},logMemeSelected:function k(l){this._log(c('ComposerMemePickerDialogEvent').MEME_SELECTED,l)},logMemePosted:function k(l){this._log(c('ComposerMemePickerDialogEvent').MEME_POSTED,l)}};f.exports=j}),null);
__d('ReactComposerPhotoUploader',['ActorURI','AsyncUploadRequest','FaceRecognitionController','JpegResizer','Map','PhotosUploadID','PhotosUploadWaterfallErrorCodes','ReactComposerLoggingStore','ReactComposerMediaConfig','ReactComposerMediaUploadActions','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerMediaUtils','ReactComposerPhotoActions','SphericalPhotoConfig','XComposerPhotoUploader','ifRequired','performanceNow'],(function a(b,c,d,e,f,g){'use strict';var h=b.URL||b.webkitURL||{};function i(j,k,l){this.$ReactComposerPhotoUploader1=j.composerID;this.$ReactComposerPhotoUploader5=l;var m=c('ReactComposerMediaConfig').photo,n=null;if(c('JpegResizer').isSupported()){n=c('JpegResizer').getSingleton(k>1?c('JpegResizer').DEFAULT_POOL_SIZE:1);n.setHighQuality(m.highQuality)}else c('ReactComposerMediaUploadActions').resizerUnavailable(this.$ReactComposerPhotoUploader1);var o=c('ActorURI').create(m.uploadEndpoint,j.actorID);this.$ReactComposerPhotoUploader2=new (c('XComposerPhotoUploader'))({uploadEndpoint:o,uploadData:Object.assign({qn:c('ReactComposerLoggingStore').getSessionID(this.$ReactComposerPhotoUploader1),target_id:j.targetID},m.uploadData),retryLimit:m.retryLimit,concurrentLimit:m.concurrentLimit,resizer:n,onUploadEnqueued:this.$ReactComposerPhotoUploader6.bind(this),onResizeStart:this.$ReactComposerPhotoUploader7.bind(this),onResizeSuccess:this.$ReactComposerPhotoUploader8.bind(this),onResizeFailure:this.$ReactComposerPhotoUploader9.bind(this),onResizeProgress:this.$ReactComposerPhotoUploader10.bind(this),onSphericalCheckSuccess:this.$ReactComposerPhotoUploader11.bind(this),onSphericalCheckFailure:this.$ReactComposerPhotoUploader12.bind(this),onUploadIsSpherical:this.$ReactComposerPhotoUploader13.bind(this),onUploadStart:this.$ReactComposerPhotoUploader14.bind(this),onUploadProgress:this.$ReactComposerPhotoUploader15.bind(this),onUploadSuccess:this.$ReactComposerPhotoUploader16.bind(this),onUploadFailure:this.$ReactComposerPhotoUploader17.bind(this),gks:j.gks});this.$ReactComposerPhotoUploader3=new (c('FaceRecognitionController'))({include_unrecognized_faceboxes:true,include_low_confidence_recognitions:true,include_face_crop_src:true});this.$ReactComposerPhotoUploader3.subscribe('photo',this.$ReactComposerPhotoUploader18.bind(this));this.$ReactComposerPhotoUploader3.subscribe('done',this.$ReactComposerPhotoUploader19.bind(this));this.$ReactComposerPhotoUploader4=new (c('Map'))()}i.prototype.upload=function(j){var k=c('ReactComposerMediaUploadStore').getUploads(this.$ReactComposerPhotoUploader1).size;this.$ReactComposerPhotoUploader2.upload(j,k)};i.prototype.retry=function(j){var k=this.$ReactComposerPhotoUploader2.getAsyncUploadRequest([j]);k.send()};i.prototype.getAsyncUploadRequest=function(j,k){return this.$ReactComposerPhotoUploader2.getAsyncUploadRequest(j,k)};i.prototype.enqueueAsyncUploadRequest=function(j,k,l,m,n){k.forEach(function(o){var p=l.indexMap?l.indexMap.get(o.uploadID):c('ReactComposerMediaUploadStore').getUploads(j).size;c('ReactComposerMediaUploadActions').enqueue(j,o.uploadID,o.name,p,c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED,c('ReactComposerMediaUploadType').PHOTO,h.createObjectURL?h.createObjectURL(o):null,m.xyTags,n)});this.getAsyncUploadRequest(k,l).send()};i.prototype.isUploadLimitExceeded=function(j,k){var l=this.getMaxSelectableFilesCount(j),m=!k||!c('AsyncUploadRequest').isSupported()?1:k.length;return m>l};i.prototype.getMaxSelectableFilesCount=function(j){return !!j?c('ReactComposerMediaConfig').photo.limit:1};i.prototype.$ReactComposerPhotoUploader6=function(j){c('ReactComposerMediaUploadActions').enqueue(this.$ReactComposerPhotoUploader1,j.uploadID,j.fileName,c('ReactComposerMediaUploadStore').getUploads(this.$ReactComposerPhotoUploader1).size,c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED,c('ReactComposerMediaUploadType').PHOTO,j.fileURL,null,j.isSpherical)};i.prototype.$ReactComposerPhotoUploader13=function(j,k,l){c('ReactComposerMediaUploadActions').isSpherical(this.$ReactComposerPhotoUploader1,j.uploadID,k,l)};i.prototype.$ReactComposerPhotoUploader7=function(j){c('ReactComposerMediaUploadActions').startResizing(this.$ReactComposerPhotoUploader1,j.uploadID,{bytes:j.size})};i.prototype.$ReactComposerPhotoUploader10=function(j,event){setTimeout(function(){return c('ReactComposerMediaUploadActions').progressResizing(this.$ReactComposerPhotoUploader1,j,100*event.written/event.total)}.bind(this),0)};i.prototype.$ReactComposerPhotoUploader8=function(j,k,l,m){c('ReactComposerMediaUploadActions').doneResizing(this.$ReactComposerPhotoUploader1,j.uploadID,{dt:m,media_data_size:j.size,bytes:k.size,custom_tags:{skipped_resizing:l}})};i.prototype.$ReactComposerPhotoUploader9=function(j,k,l,m){c('ReactComposerMediaUploadActions').failResizing(this.$ReactComposerPhotoUploader1,j.uploadID,{dt:m,bytes:j.size,error_code:l.code,error_info:l.message})};i.prototype.$ReactComposerPhotoUploader11=function(j,k,l){var m=l.isSpherical()&&c('SphericalPhotoConfig').is_www_perceived_perf_on;c('ReactComposerMediaUploadActions').doneSphericalCheck(this.$ReactComposerPhotoUploader1,j.uploadID,{dt:k,projection_type:l.getProjectionType()},l,m)};i.prototype.$ReactComposerPhotoUploader12=function(j,k){var l=arguments.length<=2||arguments[2]===undefined?false:arguments[2],m=l?c('PhotosUploadWaterfallErrorCodes').SPHERICAL_CHECK_TIMEOUT:c('PhotosUploadWaterfallErrorCodes').SPHERICAL_CHECK_FAILED;c('ReactComposerMediaUploadActions').failSphericalCheck(this.$ReactComposerPhotoUploader1,j.uploadID,{error_code:m,dt:k})};i.prototype.$ReactComposerPhotoUploader14=function(j,k){c('ReactComposerMediaUploadActions').startUploading(this.$ReactComposerPhotoUploader1,j,k.upload,c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_UPLOADING);this.$ReactComposerPhotoUploader4.set(j,c('performanceNow')())};i.prototype.$ReactComposerPhotoUploader15=function(j,k){setTimeout(function(){return c('ReactComposerMediaUploadActions').progressUploading(this.$ReactComposerPhotoUploader1,j,100*k.event.loaded/k.event.total)}.bind(this),0)};i.prototype.$ReactComposerPhotoUploader16=function(j,k){if(c('ReactComposerMediaUploadStore').getHasUploadBeenRemoved(this.$ReactComposerPhotoUploader1,j))return;if(!k.response.payload)return;var l=Array.isArray(k.response.payload)?k.response.payload:[k.response.payload],m=this.$ReactComposerPhotoUploader4.get(j)||0,n=m?c('performanceNow')()-m:0,o=l[0],p=l.slice(1);c('ReactComposerMediaUploadActions').doneUploading({composerID:this.$ReactComposerPhotoUploader1,uploadID:j,type:c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE,fileUpload:k.upload,timeToUpload:n,photoID:o.photoID,sphericalPhotoID:o.sphericalPhotoID,thumbSrc:o.thumbSrc,originalPhotoID:o.originalPhotoID,mediaLocation:o.mediaLocation,cubestripURI:c('SphericalPhotoConfig').spherical_photo_www_upload&&o.cubestripURI||null,imageSrc:o.imageSrc,width:o.width,height:o.height});c('ReactComposerMediaUtils').changeToPeopleTaggerAfterUpload(this.$ReactComposerPhotoUploader1);this.$ReactComposerPhotoUploader20(j,o,k.upload);p.forEach(function(q){var r=c('PhotosUploadID').getNewID();c('ReactComposerMediaUploadActions').doneUploadingExtra(this.$ReactComposerPhotoUploader1,r,q.photoID,q.thumbSrc,c('SphericalPhotoConfig').spherical_photo_www_upload&&q.cubestripURI||null,q.imageSrc,q.width,q.height);this.$ReactComposerPhotoUploader20(r,q,k.upload)}.bind(this))};i.prototype.$ReactComposerPhotoUploader20=function(j,k,l){if(this.$ReactComposerPhotoUploader21()){c('ReactComposerPhotoActions').startRecognizing(this.$ReactComposerPhotoUploader1,k.photoID);this.$ReactComposerPhotoUploader3.start([k.photoID])}var m=c('ReactComposerMediaUploadStore').getMediaUpload(this.$ReactComposerPhotoUploader1,j);if(m.xyTags)c('ReactComposerMediaUtils').handleXYTagsOnly(this.$ReactComposerPhotoUploader1,m.photoID,m.xyTags);};i.prototype.$ReactComposerPhotoUploader17=function(j,k,l){if(c('ReactComposerMediaUploadStore').getHasUploadBeenRemoved(this.$ReactComposerPhotoUploader1,j))return;var m=k.response,n={code:m.getError(),description:m.getErrorDescription(),summary:m.getErrorSummary(),"transient":m.isTransient()||m.getError()==1004||m.getError()==1006};c('ReactComposerMediaUploadActions').failUploading(this.$ReactComposerPhotoUploader1,j,k.upload,c('performanceNow')()-this.$ReactComposerPhotoUploader4.get(j),n,c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_FAILED)};i.prototype.$ReactComposerPhotoUploader18=function(j,k){if(this.$ReactComposerPhotoUploader21())k.faceboxes.forEach(function(l){var m=void 0;if(l.recognitions.length>0){var n=l.recognitions[0].user;m={subjectID:n.fbid,value:n.name}}c('ReactComposerPhotoActions').addFacebox(this.$ReactComposerPhotoUploader1,k.photo,{id:l.fbid,x:l.x,y:l.y,top:l.top,left:l.left,width:l.width,height:l.height,croppedURI:l.src,bestRecognition:m,allRecognitions:l.allRecognitions})}.bind(this));c('ReactComposerPhotoActions').finishRecognizingPhoto(this.$ReactComposerPhotoUploader1,k.photo)};i.prototype.$ReactComposerPhotoUploader19=function(j,k){c('ReactComposerPhotoActions').finishRecognizing(this.$ReactComposerPhotoUploader1,k.unresolved,k.facerecWaterfallEvent||null)};i.prototype.$ReactComposerPhotoUploader21=function(){if(this.$ReactComposerPhotoUploader5.disableFaceRecognition)return false;return c('ifRequired')('ReactComposerOptimisticPostingStore',function(j){return !j.isOptimisticallyPosting(this.$ReactComposerPhotoUploader1)}.bind(this),function(){return true})};f.exports=i}),null);
__d('ReactComposerScrapedAttachmentPhotoDropWarningDialog.react',['fbt','LayerHideOnEscape','React','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogHeader.react','XUIDialogHeaderTitle.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerScrapedAttachmentPhotoDropWarningDialog1=function(){this.props.onCancel&&this.props.onCancel()}.bind(this),this.$ReactComposerScrapedAttachmentPhotoDropWarningDialog2=function(){this.props.onCancel&&this.props.onCancel()}.bind(this),n}l.prototype.componentDidMount=function(){this.refs.dialog&&this.refs.dialog.layer&&this.refs.dialog.layer.subscribe('hide',this.$ReactComposerScrapedAttachmentPhotoDropWarningDialog1)};l.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{ref:'dialog',shown:this.props.shown,width:500,layerHideOnBlur:false,behaviors:{LayerHideOnEscape:c('LayerHideOnEscape')},key:'dialog'},c('React').createElement(c('XUIDialogHeader.react'),null,c('React').createElement(c('XUIDialogHeaderTitle.react'),null,h._("Remove link preview"))),c('React').createElement(c('XUIDialogBody.react'),null,h._("Uploading a photo will remove the link preview. Do you want to continue?")),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIButton.react'),{use:'confirm',onClick:this.props.onConfirm,label:h._("Upload Photo")}),c('React').createElement(c('XUIButton.react'),{onClick:this.props.onCancel,label:h._("Cancel")})))};l.propTypes={shown:k.bool,onConfirm:k.func,onCancel:k.func};f.exports=l}),null);
__d('ReactComposerDragDropPromptContainer.react',['React','ReactComposerAttachmentType','ReactComposerContextMixin','ReactComposerDragDropPromptLazy.react','ReactComposerFileStore','ReactComposerFileUtils','ReactComposerLoggingName','ReactComposerPhotoUploader','ReactComposerScrapedAttachmentActions','ReactComposerScrapedAttachmentPhotoDropWarningDialog.react','ReactComposerScrapedAttachmentStore','ReactComposerStatusUtils','ReactComposerVideoUploadStore','ReactComposerWorkFileStore','FluxContainer'],(function a(b,c,d,e,f,g){var h,i,j=c('ReactComposerContextMixin').contextTypes,k=c('ReactComposerWorkFileStore').module;h=babelHelpers.inherits(l,c('React').PureComponent);i=h&&h.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.state={photoDropWarningShown:false,pendingFiles:null},this.$ReactComposerDragDropPromptContainer4=function(r){var s=this.context.composerID,t=c('ReactComposerFileUtils').selectFileOrWorkFileModule(c('ReactComposerFileStore'),k).getMaxFileUploadSize(s);if(c('ReactComposerFileUtils').hasExceededFileSize(r[0],t))return;c('ReactComposerStatusUtils').loadDroppedFile(s,r[0])}.bind(this),this.$ReactComposerDragDropPromptContainer5=function(r){if(c('ReactComposerScrapedAttachmentStore').hasAttachment(this.context.composerID)&&this.state.pendingFiles==null){this.setState({photoDropWarningShown:true,pendingFiles:r});return}if(!this.$ReactComposerDragDropPromptContainer1)return;c('ReactComposerStatusUtils').uploadDroppedMedia(this.context.composerID,r,this.$ReactComposerDragDropPromptContainer1,this.props.config.targetData.targetSupportsMultiMedia,this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA],this.context)}.bind(this),this.$ReactComposerDragDropPromptContainer2=function(){this.setState({photoDropWarningShown:false,pendingFiles:null})}.bind(this),this.$ReactComposerDragDropPromptContainer3=function(){var r=this.state.pendingFiles;this.setState({photoDropWarningShown:false,pendingFiles:null});if(r)this.$ReactComposerDragDropPromptContainer5(r);}.bind(this),this.$ReactComposerDragDropPromptContainer6=function(r){c('ReactComposerStatusUtils').scrapeLink(this.context.composerID,this.context.targetID,r,this.context.composerType,this.context.actorID,c('ReactComposerLoggingName').LINK_DROPPED)}.bind(this),n}l.getStores=function(){'use strict';return [c('ReactComposerVideoUploadStore')]};l.calculateState=function(m,n,o){'use strict';var p=o.composerID;return {pendingFiles:m&&m.pendingFiles,photoDropWarningShown:!!(m&&m.photoDropWarningShown),enabled:!c('ReactComposerVideoUploadStore').getVideo(p)}};l.prototype.componentWillMount=function(){'use strict';var m=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],n=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA];this.$ReactComposerDragDropPromptContainer1=new (c('ReactComposerPhotoUploader'))(this.context,n.photoLimit,{disableFaceRecognition:n.disableFaceboxTagger});c('ReactComposerScrapedAttachmentActions').enabled(this.context.composerID,m.canScrapeShare)};l.prototype.renderLayers=function(){'use strict';return c('React').createElement(c('ReactComposerScrapedAttachmentPhotoDropWarningDialog.react'),{shown:this.state.photoDropWarningShown,onCancel:this.$ReactComposerDragDropPromptContainer2,onConfirm:this.$ReactComposerDragDropPromptContainer3,key:'photoDropWarningDialog'})};l.prototype.render=function(){'use strict';if(!this.state.enabled)return c('React').createElement('span',null,this.renderLayers());return c('React').createElement('span',null,c('React').createElement(c('ReactComposerDragDropPromptLazy.react'),{root:this.props.root,onFilesDrop:this.$ReactComposerDragDropPromptContainer4,onMediaDrop:this.$ReactComposerDragDropPromptContainer5,onURLDrop:this.$ReactComposerDragDropPromptContainer6}),this.renderLayers())};l.contextTypes=j;f.exports=c('FluxContainer').create(l,{withProps:true,withContext:true})}),null);
__d('ReactComposerLiveVideoPreviewButton.react',['fbt','React','XUIAmbientNUX.react','XUIButton.react'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.$ReactComposerLiveVideoPreviewButton1=function(){'use strict';return c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.button}.bind(this),shown:this.props.showNUX,position:'below',width:'auto',onCloseButtonClick:this.props.onNUXCloseButtonClick},h._("Click to continue. The next screen will show a preview before you go live."))};l.prototype.render=function(){'use strict';return c('React').createElement('span',null,c('React').createElement(c('XUIButton.react'),{disabled:this.props.disabled,ref:'button',label:h._("Next"),onClick:this.props.onClick,use:'confirm'}),this.$ReactComposerLiveVideoPreviewButton1())};function l(){'use strict';i.apply(this,arguments)}l.propTypes={disabled:k.bool,showNUX:k.bool,onClick:function m(){},onNUXCloseButtonClick:function m(){}};f.exports=l}),null);
__d('ReactComposerCollageDragHandler',['Map','Vector'],(function a(b,c,d,e,f,g){'use strict';function h(m){return m.reduce(function(n,o){return n+o})}function i(m){var n=m.length;if(n===0)return null;var o=h(m.map(function(q){return q.x}))/n,p=h(m.map(function(q){return q.y}))/n;return new (c('Vector'))(o,p)}function j(m){var n=m.length;if(n===0)return null;var o=0,p=0;for(var q=0;q<n;q++){var r=m.item(q);o+=r.pageX;p+=r.pageY}return new (c('Vector'))(o/n,p/n)}function k(event){return event.buttons!==undefined?event.buttons&1:event.button===0&&event.type!=='mouseup'}function l(m,n,o,p){this.$ReactComposerCollageDragHandler1=m;this.$ReactComposerCollageDragHandler2=n;this.$ReactComposerCollageDragHandler3=o;this.$ReactComposerCollageDragHandler4=p;this.$ReactComposerCollageDragHandler7=false;this.$ReactComposerCollageDragHandler5=new (c('Map'))()}l.prototype.onMouseDown=function(event){if(k(event)){this.$ReactComposerCollageDragHandler7=true;this.$ReactComposerCollageDragHandler8(event);this.$ReactComposerCollageDragHandler2(this.$ReactComposerCollageDragHandler1,this.$ReactComposerCollageDragHandler6)}};l.prototype.onMouseUp=function(event){if(!k(event)&&this.$ReactComposerCollageDragHandler7){this.$ReactComposerCollageDragHandler7=false;this.$ReactComposerCollageDragHandler8(event);this.$ReactComposerCollageDragHandler4(this.$ReactComposerCollageDragHandler1,this.$ReactComposerCollageDragHandler6)}};l.prototype.onMouseMove=function(event){if(!k(event))this.$ReactComposerCollageDragHandler7=false;if(this.$ReactComposerCollageDragHandler7){var m=this.$ReactComposerCollageDragHandler8(event);this.$ReactComposerCollageDragHandler3(this.$ReactComposerCollageDragHandler1,this.$ReactComposerCollageDragHandler6,m)}};l.prototype.onBlur=function(event){if(this.$ReactComposerCollageDragHandler7)this.$ReactComposerCollageDragHandler4(this.$ReactComposerCollageDragHandler1,this.$ReactComposerCollageDragHandler6);this.$ReactComposerCollageDragHandler7=false;this.$ReactComposerCollageDragHandler6=null;if(this.$ReactComposerCollageDragHandler5.size>0)this.$ReactComposerCollageDragHandler4(this.$ReactComposerCollageDragHandler1,j(Array.from(this.$ReactComposerCollageDragHandler5.values())));this.$ReactComposerCollageDragHandler5=new (c('Map'))()};l.prototype.onTouchStart=function(event){if(this.$ReactComposerCollageDragHandler5.size===0){var m=j(event.targetTouches);this.$ReactComposerCollageDragHandler2(this.$ReactComposerCollageDragHandler1,m)}this.$ReactComposerCollageDragHandler9(event)};l.prototype.onTouchMove=function(event){var m=j(event.targetTouches),n=this.$ReactComposerCollageDragHandler9(event);this.$ReactComposerCollageDragHandler3(this.$ReactComposerCollageDragHandler1,m,n)};l.prototype.onTouchEnd=function(event){this.$ReactComposerCollageDragHandler9(event);if(!event.targetTouches.length)this.$ReactComposerCollageDragHandler4(this.$ReactComposerCollageDragHandler1,j(event.changedTouches));};l.prototype.onTouchCancel=function(event){this.$ReactComposerCollageDragHandler9(event);if(!event.targetTouches.length)this.$ReactComposerCollageDragHandler4(this.$ReactComposerCollageDragHandler1,j(event.changedTouches));};l.prototype.$ReactComposerCollageDragHandler8=function(event){var m=new (c('Vector'))(event.pageX,event.pageY),n=null;if(this.$ReactComposerCollageDragHandler6)n=m.sub(this.$ReactComposerCollageDragHandler6);this.$ReactComposerCollageDragHandler6=m;return n};l.prototype.$ReactComposerCollageDragHandler9=function(event){event.preventDefault();var m=[],n=this.$ReactComposerCollageDragHandler5;this.$ReactComposerCollageDragHandler5=new (c('Map'))();for(var o=0;o<event.targetTouches.length;o++){var p=event.targetTouches.item(o),q=new (c('Vector'))(p.pageX,p.pageY),r=n.get(p.identifier);this.$ReactComposerCollageDragHandler5.set(p.identifier,q);if(r)m.push(q.sub(r));}var s=i(m);return s};f.exports=l}),null);
__d('ReactComposerPhotoActionButton.react',['cx','React','Tooltip','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=c('joinClasses')(this.props.className,"_jfh");return c('React').createElement('button',babelHelpers['extends']({className:m,onClick:this.props.onClick,tabIndex:'0','aria-label':this.props.tooltip},c('Tooltip').propsFor(this.props.tooltip)),c('React').createElement('div',{className:this.props.iconClassName}))};function l(){i.apply(this,arguments)}l.propTypes={tooltip:k.node,className:k.string,onClick:k.func,iconClassName:k.string};f.exports=l}),null);
__d('ReactComposerPhotoEditActionButton.react',['cx','fbt','React','ReactComposerPhotoActionButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=i._("Edit photo");return c('React').createElement(c('ReactComposerPhotoActionButton.react'),{className:"_4_z4",onClick:this.props.onClick,tooltip:n,iconClassName:"_4_z5"})};function m(){j.apply(this,arguments)}m.propTypes={onClick:l.func};f.exports=m}),null);
__d('ReactComposerMediaAttachmentActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({SET_MEDIA_CONFIG:null},'ReactComposerMediaAttachmentActionType')}),null);
__d('ReactComposerMediaAttachmentStore',['ReactComposerMediaAttachmentActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {createAlbumLink:null,taggingDataSource:null,videoUploader:null,videoProgressBar:null,videoProgressBarInstance:null}},function(l){switch(l.type){case c('ReactComposerMediaAttachmentActionType').SET_MEDIA_CONFIG:k&&k.$ReactComposerMediaAttachmentStore1(l);break;}});k=this}j.prototype.getCreateAlbumLink=function(k){'use strict';return this.getComposerData(k).createAlbumLink};j.prototype.getTaggingDataSource=function(k){'use strict';return this.getComposerData(k).taggingDataSource};j.prototype.getVideoUploader=function(k){'use strict';return this.getComposerData(k).videoUploader};j.prototype.getVideoProgressBarInstance=function(k){'use strict';return this.getComposerData(k).videoProgressBarInstance};j.prototype.getVideoProgressBar=function(k){'use strict';return this.getComposerData(k).videoProgressBar};j.prototype.$ReactComposerMediaAttachmentStore1=function(k){'use strict';var l=this.getComposerData(k.composerID);l.createAlbumLink=k.config.createAlbumLink;l.taggingDataSource=k.config.taggingDataSource;l.videoUploader=k.config.videoUploader;l.videoProgressBar=k.config.videoProgressBar;l.videoProgressBarInstance=k.config.videoProgressBarInstance;this.emitChange(k.composerID)};f.exports=new j()}),null);
__d('ReactComposerFaceboxTaggerTypeaheadPresenter',['cx','React','XUITypeaheadView.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement('div',{className:"_3ntx"},c('React').createElement(c('XUITypeaheadView.react'),this.props))};function k(){i.apply(this,arguments)}var l={ViewRenderer:k,useLayer:true};f.exports=l}),null);
__d('ReactComposerPhotoFaceboxTagger.react',['cx','fbt','React','ReactComposerFaceboxTaggerTypeaheadPresenter','XUITypeahead.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={query:''},this.$ReactComposerPhotoFaceboxTagger1=function(s){this.props.onTagAdded(this.props.faceboxID,s.getUniqueID(),s.getTitle())}.bind(this),this.$ReactComposerPhotoFaceboxTagger2=function(event){this.setState({query:event.target.value})}.bind(this),o}m.prototype.render=function(){var n=i._("Who is this?");return c('React').createElement(c('XUITypeahead.react'),{className:"_xgd",queryString:this.state.query,placeholder:n,onSelectAttempt:this.$ReactComposerPhotoFaceboxTagger1,onChange:this.$ReactComposerPhotoFaceboxTagger2,searchSource:this.props.dataSource,highlightOnSelect:true,showEntriesOnFocus:true,autoHighlight:true,selectOnTab:true,focusedOnInit:true,presenter:c('ReactComposerFaceboxTaggerTypeaheadPresenter')})};m.propTypes={faceboxID:l.string.isRequired,dataSource:l.object.isRequired,onTagAdded:l.func.isRequired};f.exports=m}),null);
__d('ReactComposerQAndAActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({SET_QANDA_CONFIG:null},'ReactComposerQAndAActionType')}),null);
__d('ReactComposerQAndAStore',['ReactComposerQAndAActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {photoLimit:1,profilePicURI:null,profileURI:null,faceboxDataSource:null}},function(l){switch(l.type){case c('ReactComposerQAndAActionType').SET_QANDA_CONFIG:k&&k.$ReactComposerQAndAStore1(l);break;}});k=this}j.prototype.getPhotoLimit=function(k){'use strict';return this.getComposerData(k).photoLimit};j.prototype.getProfilePicSrc=function(k){'use strict';return this.getComposerData(k).profilePicSrc};j.prototype.getProfileURI=function(k){'use strict';return this.getComposerData(k).profileURI};j.prototype.getFaceboxDataSource=function(k){'use strict';return this.getComposerData(k).faceboxDataSource};j.prototype.$ReactComposerQAndAStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','config']),m=l[0],n=l[1],o=this.getComposerData(m);o.photoLimit=n.photoLimit;o.profilePicSrc=n.profilePicSrc;o.profileURI=n.profileURI;o.faceboxDataSource=n.faceboxDataSource;this.emitChange(k.composerID)};f.exports=new j()}),null);
__d('ReactComposerPhotoFaceboxTaggerContainer.react',['React','ReactComponentWithPureRenderMixin','ReactComposerMediaAttachmentStore','ReactComposerPhotoFaceboxTagger.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerQAndAStore'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerPhotoFaceboxTaggerContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerMediaAttachmentStore'),c('ReactComposerQAndAStore'))],propTypes:{faceboxID:h.string.isRequired,onTagAdded:h.func.isRequired},statics:{calculateState:function j(k){var l=c('ReactComposerMediaAttachmentStore').getTaggingDataSource(k)||c('ReactComposerQAndAStore').getFaceboxDataSource(k);l&&l.bootstrap();return {dataSource:l}}},render:function j(){return c('React').createElement(c('ReactComposerPhotoFaceboxTagger.react'),{faceboxID:this.props.faceboxID,dataSource:this.state.dataSource,onTagAdded:this.props.onTagAdded})}});f.exports=i}),null);
__d('ReactComposerPhotoProductTagActionButton.react',['cx','fbt','AsyncRequest','CommerceProductTaggerType','CommerceSelfServeNUXType','React','ReactComposerPhotoActionButton.react','ReactComposerTaggerActions','ReactComposerTaggerType','XCommerceSelfServeMerchantNUXSeenController','XUIAmbientNUX.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$ReactComposerPhotoProductTagActionButton2=function(){var s=c('XCommerceSelfServeMerchantNUXSeenController').getURIBuilder().setInt('page_id',this.props.pageID).setEnum('nux_type',c('CommerceSelfServeNUXType').COMPOSER_PRODUCT_PHOTO_TAGGER_BUTTON).getURI();new (c('AsyncRequest'))(s).send();this.props.onHideNux()}.bind(this),o}m.prototype.render=function(){var n=i._("Tag Products");return c('React').createElement('div',null,c('React').createElement(c('ReactComposerPhotoActionButton.react'),{ref:'fbReactComposerPhotoActionbutton',className:"_a69"+(this.props.hasTag?' '+"_a6b":''),tooltip:n,iconClassName:"_a6_",onClick:this.props.onClick}),this.$ReactComposerPhotoProductTagActionButton1())};m.prototype.$ReactComposerPhotoProductTagActionButton1=function(){if(!this.props.showNux)return null;var n=this.props.productTaggerType,o=n===c('CommerceProductTaggerType').SHOP_PAGE?i._("Tag products from your shop in this photo"):i._("Tag products in this photo");return c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.fbReactComposerPhotoActionbutton}.bind(this),onCloseButtonClick:this.$ReactComposerPhotoProductTagActionButton2,position:'right',shown:true,width:'auto'},o)};m.propTypes={composerID:l.string.isRequired,pageID:l.string.isRequired,productTaggerType:l.string.isRequired,hasTag:l.bool.isRequired,onClick:l.any,onHideNux:l.func.isRequired,showNux:l.bool.isRequired};f.exports=m}),null);
__d('ReactComposerPhotoTagActionButton.react',['cx','fbt','React','ReactComposerPhotoActionButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=i._("Tag");return c('React').createElement(c('ReactComposerPhotoActionButton.react'),{className:"_cwf"+(this.props.hasTag?' '+"_cwh":''),tooltip:n,iconClassName:"_cwg",onClick:this.props.onClick})};function m(){j.apply(this,arguments)}m.propTypes={hasTag:l.bool.isRequired,onClick:l.any};f.exports=m}),null);
__d('ReactComposerPhotoTaggedFaceboxSummary.react',['cx','fbt','ix','Image.react','LeftRight.react','React','TooltipLink.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').PureComponent);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$ReactComposerPhotoTaggedFaceboxSummary1=function(){this.props.onTagRemoved(this.props.faceboxID,this.props.taggedSubjectID)}.bind(this),p}n.prototype.render=function(){var o=i._("Edit name");return c('React').createElement(c('LeftRight.react'),{className:"_31bg"},c('React').createElement('div',{className:"_31bh"},this.props.taggedValue),c('React').createElement(c('TooltipLink.react'),{alignH:'center',position:'below',tooltip:o,onClick:this.$ReactComposerPhotoTaggedFaceboxSummary1},c('React').createElement(c('Image.react'),{src:j("76906")})))};n.propTypes={faceboxID:m.string.isRequired,onTagRemoved:m.func.isRequired,taggedSubjectID:m.string.isRequired,taggedValue:m.string.isRequired};f.exports=n}),null);
__d('ReactComposerPhotoTagger.react',['cx','fbt','ActorURI','AsyncRequest','CommerceProductTaggerType','ContextualLayerAutoFlip','Image.react','ImageBlock.react','immutable','LayerHideOnBlur','LayerHideOnEscape','LayerTabIsolation','ModalPhotoEditorTabName','PhotoEditorTargetType','React','ReactComponentWithPureRenderMixin','ReactComposerContextMixin','ReactComposerPhotoActions','ReactComposerPhotoEditActionButton.react','ReactComposerPhotoFaceboxTaggerContainer.react','ReactComposerPhotoProductTagActionButton.react','ReactComposerPhotoStore','ReactComposerPhotoTagActionButton.react','ReactComposerPhotoTaggedFaceboxSummary.react','ReactLayeredComponentMixin_DEPRECATED','XStickerPhotoEditorController','XUIContextualDialog.react','XUIContextualDialogBody.react','XUIContextualDialogFooter.react','XUIDialogCloseButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=268,l=32,m=c('React').createClass({displayName:'ReactComposerPhotoTagger',_photoEditorRequest:undefined,mixins:[c('ReactLayeredComponentMixin_DEPRECATED'),c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{canTagFromModal:j.bool,draggingPhotos:j.bool,enableFaceboxTagger:j.bool.isRequired,disablePhotoEditing:j.bool.isRequired,faceboxes:j.instanceOf(c('immutable').Map).isRequired,onEditClick:j.func,onHideProductTaggerNux:j.func.isRequired,onTagAdded:j.func.isRequired,onTagIntent:j.func,onTagRemoved:j.func.isRequired,originalID:j.string,photoID:j.string.isRequired,productTaggerType:j.string.isRequired,shown:j.bool.isRequired,showProductTaggerNux:j.bool.isRequired},getDefaultProps:function n(){return {shown:false}},componentWillReceiveProps:function n(o){if(!this.props.draggingPhotos&&o.draggingPhotos)c('ReactComposerPhotoActions').setPhotoBeingTagged(this.context.composerID,null);},render:function n(){var o=null,p=this.props.productTaggerType!==c('CommerceProductTaggerType').NONE;if(p){o=this._onProductTagClick}else if(this.props.canTagFromModal)o=this._onTagClick;var q=null;if(p){q=c('React').createElement(c('ReactComposerPhotoProductTagActionButton.react'),{composerID:this.context.composerID,productTaggerType:this.props.productTaggerType,pageID:this.context.targetID,hasTag:c('ReactComposerPhotoStore').hasTagsInPhoto(this.context.composerID,this.props.photoID),onClick:o,onHideNux:this.props.onHideProductTaggerNux,showNux:this.props.showProductTaggerNux})}else if(this.props.enableFaceboxTagger)q=c('React').createElement(c('ReactComposerPhotoTagActionButton.react'),{hasTag:c('ReactComposerPhotoStore').hasTagsInPhoto(this.context.composerID,this.props.photoID),onClick:o});var r=this.props.disablePhotoEditing?null:c('React').createElement(c('ReactComposerPhotoEditActionButton.react'),{onClick:this._onEditClick});return c('React').createElement('div',{className:"_jfi"+(p?' '+"uiContextualLayerParent":''),onClick:this._onClick,role:'presentation',tabIndex:'-1'},q,r)},renderLayers:function n(){if(!this.props.shown||!this.props.enableFaceboxTagger)return null;return {dialog:this._getDialog()}},_getDialog:function n(){return c('React').createElement(c('XUIContextualDialog.react'),{ref:'dialog',shown:this.props.shown,onToggle:this._onDialogToggled,contextRef:function(){return this}.bind(this),position:'below',alignment:'center',width:k,behaviors:{LayerHideOnBlur:c('LayerHideOnBlur'),LayerHideOnEscape:c('LayerHideOnEscape'),ContextualLayerAutoFlip:c('ContextualLayerAutoFlip'),LayerTabIsolation:c('LayerTabIsolation')}},c('React').createElement(c('XUIContextualDialogBody.react'),null,this._getDialogBody()),c('React').createElement(c('XUIContextualDialogFooter.react'),null,c('React').createElement(c('XUIDialogCloseButton.react'),{use:'confirm',label:'Close',onClick:this._onCloseButtonClicked})))},_getDialogBody:function n(){if(this.props.faceboxes.size===0)return i._("We could not find any faces to tag.");return this.props.faceboxes.valueSeq().map(function(o){var p=o.taggedSubjectID?c('React').createElement(c('ReactComposerPhotoTaggedFaceboxSummary.react'),{faceboxID:o.id,onTagRemoved:this.props.onTagRemoved,taggedSubjectID:o.taggedSubjectID,taggedValue:o.taggedValue}):c('React').createElement(c('ReactComposerPhotoFaceboxTaggerContainer.react'),{faceboxID:o.id,onTagAdded:this.props.onTagAdded});return c('React').createElement(c('ImageBlock.react'),{key:o.id,className:"_qv7"},c('React').createElement(c('Image.react'),{className:"_qv8",height:l,src:o.croppedURI,width:l}),p)}.bind(this))},_onCloseButtonClicked:function n(){c('ReactComposerPhotoActions').setPhotoBeingTagged(this.context.composerID,null)},_onDialogToggled:function n(o){if(!o)this._onCloseButtonClicked();},_onClick:function n(){this.props.onTagIntent&&this.props.onTagIntent();c('ReactComposerPhotoActions').setPhotoBeingTagged(this.context.composerID,this.props.photoID)},_onTagClick:function n(event){this._onEditClick(event,null,c('ModalPhotoEditorTabName').TAG)},_onProductTagClick:function n(event){this._onEditClick(event,null,c('ModalPhotoEditorTabName').PRODUCT_TAG)},_onEditClick:function n(event,o,p){event.stopPropagation();if(this._photoEditorRequest)return;c('ReactComposerPhotoActions').startPhotoEdit(this.context.composerID,this.props.photoID);var q=c('XStickerPhotoEditorController').getURIBuilder().setString('grid_id',this.context.composerID).setEnum('target_type',c('PhotoEditorTargetType').COMPOSER).setInt('latest_fbid',this.props.photoID).setInt('photo_fbid',this.props.originalID||this.props.photoID).setEnum('initial_tab',p).getURI();q=c('ActorURI').create(q,this.context.actorID);this._photoEditorRequest=new (c('AsyncRequest'))(q).setFinallyHandler(function(){this._photoEditorRequest=null;c('ReactComposerPhotoActions').finishLoadingPhotoEdit(this.context.composerID,this.props.photoID)}.bind(this));this._photoEditorRequest&&this._photoEditorRequest.send();this.props.onEditClick&&this.props.onEditClick()}});f.exports=m}),null);
__d('SphericalMediaGyroIcon.react',['fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=h._("360 photo");j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=this.props.isEnabled?i("95829"):i("95830");return c('React').createElement(c('Image.react'),{className:this.props.className,src:n,alt:l})};function m(){j.apply(this,arguments)}m.defaultProps={isEnabled:true};f.exports=m}),null);
__d('ReactComposerCollagePhoto.react',['cx','BootloadedComponent.react','CircularProgressBar.react','CommerceProductTaggerType','Image.react','immutable','JSResource','React','ReactComposerCollageDragHandler','ReactComposerContextMixin','ReactComposerPhotoTagger.react','SphericalMediaGyroIcon.react','XUICloseButton.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('ReactComposerContextMixin').contextTypes,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;m.prototype.render=function(){var n={height:this.props.containerHeight,overflow:'hidden',position:'relative',width:this.props.containerWidth},o=Boolean(this.props.isSpherical||this.props.sphericalPhotoID),p=void 0,q=void 0,r=void 0,s=void 0,t=void 0;if(!o){t=this.$ReactComposerCollagePhoto1();if(!this.props.isDragging)s=this.$ReactComposerCollagePhoto2();}else s=this.$ReactComposerCollagePhoto3();if(!this.props.isDragging)p=this.$ReactComposerCollagePhoto4();if(this.props.isRecognizingFaceboxes||this.props.isLoadingPhotoEdit||this.props.uploading&&this.props.uploadProgress===100)r=this.$ReactComposerCollagePhoto5();if(this.props.uploading&&this.props.uploadProgress<100)q=c('React').createElement(c('CircularProgressBar.react'),{percentComplete:this.props.uploadProgress});var u="_jfc"+(' '+"_4c06")+'';return c('React').createElement('div',{ref:'root',className:u,onMouseDown:function(v){return this.props.dragHandler.onMouseDown(v)}.bind(this),onMouseUp:function(v){return this.props.dragHandler.onMouseUp(v)}.bind(this),onMouseMove:function(v){return this.props.dragHandler.onMouseMove(v)}.bind(this),onTouchStart:function(v){return this.props.dragHandler.onTouchStart(v)}.bind(this),onTouchMove:function(v){return this.props.dragHandler.onTouchMove(v)}.bind(this),onTouchEnd:function(v){return this.props.dragHandler.onTouchEnd(v)}.bind(this),onTouchCancel:function(v){return this.props.dragHandler.onTouchCancel(v)}.bind(this),style:n},t,c('React').createElement('div',{onMouseDown:function v(w){return w.stopPropagation()}},p,s),r,q)};m.prototype.$ReactComposerCollagePhoto5=function(){return c('React').createElement('div',{className:"_do4"},c('React').createElement('div',{className:"_do5"},c('React').createElement('div',{className:"_do6"})))};m.prototype.$ReactComposerCollagePhoto2=function(){if(!this.props.posting&&!this.props.uploading)return c('React').createElement(c('ReactComposerPhotoTagger.react'),{draggingPhotos:false,enableFaceboxTagger:this.props.enableFaceboxTagger,productTaggerType:this.props.productTaggerType,disablePhotoEditing:!this.props.enablePhotoEditing,faceboxes:this.props.faceboxes,onTagAdded:this.props.onTagAdded,onTagRemoved:this.props.onTagRemoved,showProductTaggerNux:false,onHideProductTaggerNux:this.props.onHideProductTaggerNux,photoID:this.props.photoID,shown:this.props.showPhotoTagger});return null};m.prototype.$ReactComposerCollagePhoto3=function(){if(this.props.uploading)return c('React').createElement('div',null,this.$ReactComposerCollagePhoto1(),c('React').createElement(c('SphericalMediaGyroIcon.react'),{className:"_jk8"}));var n=!(this.props.posting||this.props.uploading||this.props.isDragging);return c('React').createElement('div',null,c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ReactComposerSphericalPhoto.react').__setRef('ReactComposerCollagePhoto.react'),bootloadPlaceholder:this.$ReactComposerCollagePhoto5(),loadingElement:this.$ReactComposerCollagePhoto5(),className:"_5g6c",containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,height:this.props.height,imageStyle:this.props.style,photoID:this.props.photoID,showEditButton:n,sphericalPhotoID:this.props.sphericalPhotoID,thumbSrc:this.props.imageSrc,uploadID:this.props.uploadID,width:this.props.width}))};m.prototype.$ReactComposerCollagePhoto4=function(){if(!this.props.posting)return c('React').createElement(c('XUICloseButton.react'),{className:"_jfe",onClick:this.props.onRemoveButtonClicked,onMouseDown:function n(o){return o.stopPropagation()},size:'medium',shade:'light'});return null};m.prototype.$ReactComposerCollagePhoto1=function(){return c('React').createElement(c('Image.react'),{src:this.props.fileURL,width:this.props.width,height:this.props.height,style:this.props.style})};function m(){i.apply(this,arguments)}m.defaultProps={width:0,height:0,photoID:'',style:{},posting:false,showPhotoTagger:false,enableFaceboxTagger:false,productTaggerType:c('CommerceProductTaggerType').NONE,enablePhotoEditing:true,isSpherical:false};m.propTypes={uploadID:l.string.isRequired,uploading:l.bool.isRequired,photoID:l.string,width:l.number.isRequired,height:l.number.isRequired,containerWidth:l.number.isRequired,containerHeight:l.number.isRequired,dragHandler:l.instanceOf(c('ReactComposerCollageDragHandler')).isRequired,isDragging:l.bool.isRequired,fileURL:l.string.isRequired,style:l.object.isRequired,uploadProgress:l.number.isRequired,faceboxes:l.instanceOf(c('immutable').Map),imageSrc:l.string,isLoadingPhotoEdit:l.bool,isRecognizingFaceboxes:l.bool,isSpherical:l.bool,sphericalPhotoID:l.string,enableFaceboxTagger:l.bool.isRequired,enablePhotoEditing:l.bool.isRequired,productTaggerType:l.string.isRequired,onHideProductTaggerNux:l.func.isRequired,showPhotoTagger:l.bool.isRequired,onTagAdded:l.func.isRequired,onTagRemoved:l.func.isRequired};m.contextTypes=k;f.exports=m}),null);
__d('ReactComposerCollagePhotoContainer.react',['React','ReactComponentWithPureRenderMixin','ReactComposerCollageDragHandler','ReactComposerCollagePhoto.react','ReactComposerContextMixin','ReactComposerMediaUploadActions','ReactComposerMediaUploadStore','ReactComposerPhotoActions','ReactComposerPhotoStore','ReactComposerPhotoUploadState','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStore'],(function a(b,c,d,e,f,g){'use strict';var h=c('ReactComposerContextMixin').contextTypes,i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerCollagePhotoContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerStore'),c('ReactComposerPhotoStore'),c('ReactComposerMediaUploadStore'))],propTypes:{upload:i.object.isRequired,itemWidth:i.number.isRequired,itemHeight:i.number.isRequired,opacity:i.number,enableFaceboxTagger:i.bool,enablePhotoEditing:i.bool,dragHandler:i.instanceOf(c('ReactComposerCollageDragHandler')).isRequired,isDragging:i.bool,productTaggerType:i.string,focus:i.object.isRequired,containerWidth:i.number.isRequired,containerHeight:i.number.isRequired,isSpherical:i.bool,onRemoveItem:i.func},statics:{calculateState:function k(l,m){var n=m.upload,o=this._overallProgress(n);if(n.state==c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_DONE){var p=c('ReactComposerPhotoStore').getPhoto(l,m.upload.photoID),q=c('ReactComposerPhotoStore').getPhotoBeingTagged(l)===m.upload.photoID;return {uploading:false,overallProgress:o,faceboxes:p.faceboxes,isLoadingPhotoEdit:p.isLoadingPhotoEdit,isRecognizingFaceboxes:p.isRecognizingFaceboxes,isSpherical:n.isSpherical,isSphericalDisabled:Boolean(n.sphericalPhotoID),sphericalPhotoID:n.sphericalPhotoID,showPhotoTagger:q,imageSrc:p.imageSrc}}else return {isSpherical:n.isSpherical,uploading:true,overallProgress:o};},_overallProgress:function k(l){switch(l.state){case c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_RESIZE_STARTED:return .1*l.progress;case c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_UPLOADING:return .1*100+.9*l.progress;case c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_DONE:return 100;default:return 0;}}},render:function k(){var l=this._calculateSmallestFitSize(this.props.containerWidth,this.props.containerHeight),m=this._generateStyle(l,this.props.containerWidth,this.props.containerHeight);return c('React').createElement(c('ReactComposerCollagePhoto.react'),{ref:'container',uploadID:this.props.upload.id,photoID:this.props.upload.photoID,width:l.width,height:l.height,dragHandler:this.props.dragHandler,isDragging:this.props.isDragging,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,fileURL:this.props.upload.fileURL,style:m,posting:this.state.posting,uploading:this.state.uploading,uploadProgress:this.state.overallProgress,faceboxes:this.state.faceboxes,imageSrc:this.state.imageSrc,isLoadingPhotoEdit:this.state.isLoadingPhotoEdit,isRecognizingFaceboxes:this.state.isRecognizingFaceboxes,isSpherical:this.state.isSpherical,sphericalPhotoID:this.state.sphericalPhotoID,enableFaceboxTagger:this.props.enableFaceboxTagger,enablePhotoEditing:this.props.enablePhotoEditing,productTaggerType:this.props.productTaggerType,onEditClick:this._onEditClick,showPhotoTagger:this.state.showPhotoTagger,onHideProductTaggerNux:this._onHideProductTaggerNux,onTagAdded:this._onTagAdded,onTagRemoved:this._onTagRemoved,onRemoveButtonClicked:this._onRemoveButtonClicked})},_calculateSmallestFitSize:function k(l,m){var n=this.props,o=n.itemWidth,p=n.itemHeight;if(this.state.isSpherical&&this.state.uploading){p=this.props.upload.height;o=this.props.upload.width}var q=Math.max(l/o,m/p);return {width:Math.round(o*q),height:Math.round(p*q)}},_generateStyle:function k(l,m,n){var o=(l.width-m)/l.width*50,p=(l.height-n)/l.height*50,q=this.props.focus.x>=50?Math.min(this.props.focus.x,50+o):Math.max(this.props.focus.x,50-o),r=this.props.focus.y>=50?Math.min(this.props.focus.y,50+p):Math.max(this.props.focus.y,50-p),s='translate(-'+q+'%, -'+r+'%)',t={position:'absolute',left:'50%',top:'50%',WebkitTransformOrigin:'0% 0%',MozTransformOrigin:'0% 0%',msTransformOrigin:'0% 0%',WebkitTransform:s,MozTransform:s,msTransform:s};if(this.props.opacity)t.opacity=this.props.opacity;return t},_onRemoveButtonClicked:function k(){this.props.onRemoveItem&&this.props.onRemoveItem(this.props.upload.id);if(this.state.uploading){c('ReactComposerMediaUploadActions').removeMediaUpload(this.context.composerID,this.props.upload.id)}else c('ReactComposerPhotoActions').removePhoto(this.context.composerID,this.props.upload.photoID,this.props.upload.id);},_onTagRemoved:function k(l,m){c('ReactComposerPhotoActions').untagFacebox(this.context.composerID,this.props.upload.photoID,l,m)},_onTagAdded:function k(l,m,n){c('ReactComposerPhotoActions').tagFacebox(this.context.composerID,this.props.upload.photoID,l,m,n)},_onHideProductTaggerNux:function k(){},_onEditClick:function k(){}});j.contextTypes=h;f.exports=j}),null);
__d('ReactComposerCollageVideo.react',['cx','CircularProgressBar.react','React','ReactComposerCollageDragHandler','XUICloseButton.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerCollageVideo2=function(r){var s=this.refs.video_element,t=this.refs.play_button;if(s.paused){s.play();t.style.display='none'}else{s.pause();t.style.display='block'}r.stopPropagation()}.bind(this),n}l.prototype.render=function(){var m={height:this.props.containerHeight,overflow:'hidden',position:'relative',width:this.props.containerWidth},n=void 0;if(!this.props.posting)n=c('React').createElement(c('XUICloseButton.react'),{className:"_1sju",onClick:this.props.onRemoveButtonClicked,size:'medium',shade:'light'});var o=this.$ReactComposerCollageVideo1();return c('React').createElement('div',{ref:'root',className:"_1sjs _3dx6",style:m,onMouseDown:function(p){return this.props.dragHandler.onMouseDown(p)}.bind(this),onMouseUp:function(p){return this.props.dragHandler.onMouseUp(p)}.bind(this),onMouseMove:function(p){return this.props.dragHandler.onMouseMove(p)}.bind(this),onTouchStart:function(p){return this.props.dragHandler.onTouchStart(p)}.bind(this),onTouchMove:function(p){return this.props.dragHandler.onTouchMove(p)}.bind(this),onTouchEnd:function(p){return this.props.dragHandler.onTouchEnd(p)}.bind(this),onTouchCancel:function(p){return this.props.dragHandler.onTouchCancel(p)}.bind(this)},c('React').createElement('div',{onMouseDown:function p(q){return q.stopPropagation()}},n),o,c('React').createElement('div',{className:"_1oxz",onClick:this.$ReactComposerCollageVideo2,onMouseDown:function p(q){return q.stopPropagation()},ref:'play_button',role:'button',tabIndex:'0'}),c('React').createElement(c('CircularProgressBar.react'),{percentComplete:50*Math.log10(Math.max(1,this.props.uploadProgress))}))};l.prototype.$ReactComposerCollageVideo1=function(){return c('React').createElement('video',{ref:'video_element',loop:true,muted:true,src:this.props.fileURL,width:this.props.width,height:this.props.height,style:this.props.style})};l.defaultProps={width:0,height:0,style:{},posting:false};l.propTypes={width:k.number.isRequired,height:k.number.isRequired,containerWidth:k.number.isRequired,containerHeight:k.number.isRequired,dragHandler:k.instanceOf(c('ReactComposerCollageDragHandler')).isRequired,fileURL:k.string.isRequired,style:k.object.isRequired,uploadProgress:k.number.isRequired};f.exports=l}),null);
__d('ReactComposerCollageVideoContainer.react',['React','ReactComposerCollageDragHandler','ReactComposerCollageVideo.react','ReactComposerMediaUploadActions','ReactComposerMediaUploadStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStore'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerCollageVideoContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerStore'),c('ReactComposerMediaUploadStore'))],propTypes:{upload:h.object.isRequired,itemWidth:h.number.isRequired,itemHeight:h.number.isRequired,fileURL:h.string.isRequired,dragHandler:h.instanceOf(c('ReactComposerCollageDragHandler')).isRequired,opacity:h.number,focus:h.object.isRequired,containerWidth:h.number.isRequired,containerHeight:h.number.isRequired,onRemoveItem:h.func},statics:{calculateState:function j(k,l){return {overallProgress:l.upload.progress||0}}},render:function j(){var k=this._calculateSmallestFitSize(this.props.containerWidth,this.props.containerHeight),l=this._generateStyleFromFocus(k,this.props.containerWidth,this.props.containerHeight);if(this.props.opacity)l.opacity=this.props.opacity;return c('React').createElement('div',null,c('React').createElement(c('ReactComposerCollageVideo.react'),{ref:'container',width:k.width,height:k.height,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,dragHandler:this.props.dragHandler,fileURL:this.props.fileURL,style:l,uploadProgress:this.state.overallProgress,posting:this.state.posting,onRemoveButtonClicked:this._onRemoveButtonClicked}))},_calculateSmallestFitSize:function j(k,l){var m=Math.max(k/this.props.itemWidth,l/this.props.itemHeight);return {width:Math.round(this.props.itemWidth*m),height:Math.round(this.props.itemHeight*m)}},_generateStyleFromFocus:function j(k,l,m){var n=(k.width-l)/k.width*50,o=(k.height-m)/k.height*50,p=this.props.focus.x>=50?Math.min(this.props.focus.x,50+n):Math.max(this.props.focus.x,50-n),q=this.props.focus.y>=50?Math.min(this.props.focus.y,50+o):Math.max(this.props.focus.y,50-o),r='translate(-'+p+'%, -'+q+'%)';return {position:'absolute',left:'50%',top:'50%',WebkitTransformOrigin:'0% 0%',MozTransformOrigin:'0% 0%',msTransformOrigin:'0% 0%',WebkitTransform:r,MozTransform:r,msTransform:r}},_onRemoveButtonClicked:function j(){this.props.onRemoveItem&&this.props.onRemoveItem(this.props.upload.id);c('ReactComposerMediaUploadActions').removeMediaUpload(this.context.composerID,this.props.upload.id)}});f.exports=i}),null);
__d('ReactComposerDraggableCollageItem.react',['cx','React','ReactComponentWithPureRenderMixin','ReactComposerCollageDragHandler','ReactComposerCollagePhotoContainer.react','ReactComposerCollageVideoContainer.react','ReactComposerContextMixin','ReactComposerMediaUploadType'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=0,k=0,l={x:50,y:50},m=c('React').createClass({displayName:'ReactComposerDraggableCollageItem',_dragHandler:undefined,_grabbed:undefined,_scrollParent:undefined,mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{upload:i.object.isRequired,itemWidth:i.number.isRequired,itemHeight:i.number.isRequired,width:i.number.isRequired,height:i.number.isRequired,isDragging:i.bool,opacity:i.number,focus:i.object.isRequired,onGrab:i.func.isRequired,onDrag:i.func.isRequired,onDrop:i.func.isRequired,onRemoveItem:i.func,enableFaceboxTagger:i.bool,enablePhotoEditing:i.bool,productTaggerType:i.string},getDefaultProps:function n(){return {width:j,height:k,focus:l,isDragging:false}},render:function n(){var o=this._dragHandler;if(!o){o=new (c('ReactComposerCollageDragHandler'))(this.props.upload.id,this.props.onGrab,this.props.onDrag,this.props.onDrop);this._dragHandler=o}var p=(this.props.isDragging?"_5uy":'')+(' '+"_3imc");return c('React').createElement('div',{className:p,key:this.props.upload.id,ref:'draggable_media'},this._getInnerMediaComponent(o))},_getInnerMediaComponent:function n(o){if(this.props.upload.mediaType==c('ReactComposerMediaUploadType').VIDEO)return this._getInnerVideoComponent(o);return this._getInnerPhotoComponent(o)},_getInnerVideoComponent:function n(o){return c('React').createElement(c('ReactComposerCollageVideoContainer.react'),{key:this.props.upload.id,upload:this.props.upload,itemWidth:this.props.itemWidth,itemHeight:this.props.itemHeight,opacity:this.props.opacity,fileURL:this.props.upload.fileURL,focus:l,containerWidth:this.props.width,containerHeight:this.props.height,dragHandler:o,onRemoveItem:this.props.onRemoveItem})},_getInnerPhotoComponent:function n(o){return c('React').createElement(c('ReactComposerCollagePhotoContainer.react'),{key:this.props.upload.id,upload:this.props.upload,itemWidth:this.props.itemWidth,itemHeight:this.props.itemHeight,opacity:this.props.opacity,dragHandler:o,isDragging:this.props.isDragging,focus:l,containerWidth:this.props.width,containerHeight:this.props.height,enableFaceboxTagger:this.props.enableFaceboxTagger,enablePhotoEditing:this.props.enablePhotoEditing,onRemoveItem:this.props.onRemoveItem,productTaggerType:this.props.productTaggerType})}});f.exports=m}),null);
__d('ReactComposerCollage.react',['immutable','Map','React','ReactComposerDraggableCollageItem.react'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){if(this.props.mediaUploads.size===0)return null;var l={marginLeft:5};if(!this.props.styleInfos)return null;var m=babelHelpers['extends']({},l,{position:'relative',width:this.props.width,height:this.props.height});return c('React').createElement('div',{style:{margin:'auto',width:this.props.scaleFactor*100+'%'}},c('React').createElement('div',{style:m},this.$ReactComposerCollage1()))};k.prototype.$ReactComposerCollage1=function(){var l=this.props.mediaUploads.sortBy(function(n){return n.id}),m=[];l.forEach(function(n){var o=this.$ReactComposerCollage2(n);if(o)m.push(o);}.bind(this));return m};k.prototype.$ReactComposerCollage2=function(l){var m=this.props.styleInfos;if(!m)return null;var n=m.get(l.id);if(!n)return null;var o=this.$ReactComposerCollage3(n),p={left:o.left,top:o.top,height:o.height,width:o.width,zIndex:o.zIndex,position:'absolute'};return c('React').createElement('div',{style:p,key:l.id},this.$ReactComposerCollage4(l,o,n))};k.prototype.$ReactComposerCollage3=function(l){var m=l.dragEffectPercent/100,n=1.075*m+1*(1-m),o=.9*m+1*(1-m);o=Math.round(o*100)/100;var p=Math.round(m*80)+20,q=Math.round(l.height*n),r=Math.round(l.width*n),s=babelHelpers['extends']({},l,{height:q,top:Math.round(l.centerY-q/2),width:r,left:Math.round(l.centerX-r/2),zIndex:p});if(o<1)s.opacity=o;return s};k.prototype.$ReactComposerCollage5=function(l){var m=l.width,n=l.height;if(l.isSpherical)m=n=Math.min(m,n);return {width:m,height:n}};k.prototype.$ReactComposerCollage4=function(l,m,n){var o=Math.round(n.dragEffectPercent)>0,p=this.$ReactComposerCollage5(l);return c('React').createElement(c('ReactComposerDraggableCollageItem.react'),{key:l.id,upload:l,itemWidth:p.width,itemHeight:p.height,width:m.width,height:m.height,opacity:m.opacity,isDragging:o,enableFaceboxTagger:this.props.enableFaceboxTagger,enablePhotoEditing:this.props.enablePhotoEditing,productTaggerType:this.props.productTaggerType,onGrab:this.props.onGrab,onDrag:this.props.onDrag,onDrop:this.props.onDrop,onRemoveItem:this.props.onRemoveItem})};function k(){h.apply(this,arguments)}k.propTypes={styleInfos:j.instanceOf(c('Map')),mediaUploads:j.instanceOf(c('immutable').List).isRequired,enableFaceboxTagger:j.bool,enablePhotoEditing:j.bool,productTaggerType:j.string,width:j.number,height:j.number,onDrag:j.func,onDrop:j.func,onGrab:j.func,onRemoveItem:j.func};f.exports=k}),null);
__d('ReactComposerCollageAnimationUtils',[],(function a(b,c,d,e,f,g){'use strict';var h=Object.prototype.hasOwnProperty,i={equal:function j(k,l){return Math.abs(k-l)<.5},isZero:function j(k){if(typeof k!=='object'||k===null)return false;var l=Object.keys(k);for(var m=0;m<l.length;m++)if(!this.equal(k[l[m]],0))return false;return true},isEqual:function j(k,l){if(typeof k!=='object'||k===null||typeof l!=='object'||l===null)return false;var m=Object.keys(k),n=Object.keys(l);if(m.length!==n.length)return false;for(var o=0;o<m.length;o++)if(!h.call(l,m[o])||!this.equal(k[m[o]],l[m[o]]))return false;return true}};f.exports=i}),null);
__d('ReactComposerCollageAnimationController',['Map','ReactComposerCollageAnimationUtils','performanceNow','requestAnimationFrame'],(function a(b,c,d,e,f,g){'use strict';var h=.1,i=2000,j=1,k={springConstant:300,dampingConstant:25},l={springConstant:300,dampingConstant:25},m={springConstant:200,dampingConstant:16},n=new (c('Map'))([['centerX',k],['centerY',k],['height',l],['width',l],['dragEffectPercent',m]]),o={centerX:true,centerY:true,height:false,width:false};function p(q,r,s,t,u,v){this.$ReactComposerCollageAnimationController7=false;this.$ReactComposerCollageAnimationController8=0;this.$ReactComposerCollageAnimationController1=q;this.$ReactComposerCollageAnimationController2=r;this.$ReactComposerCollageAnimationController3=s;this.$ReactComposerCollageAnimationController4=t;this.$ReactComposerCollageAnimationController5=u;this.$ReactComposerCollageAnimationController6=v}p.prototype.startAnimating=function(){if(this.$ReactComposerCollageAnimationController7)return;this.$ReactComposerCollageAnimationController7=true;this.$ReactComposerCollageAnimationController8=c('performanceNow')();c('requestAnimationFrame')(function(){return this.$ReactComposerCollageAnimationController9()}.bind(this))};p.prototype.stopAnimating=function(){this.$ReactComposerCollageAnimationController7=false};p.prototype.$ReactComposerCollageAnimationController9=function(){if(!this.$ReactComposerCollageAnimationController7)return;var q=false,r=c('performanceNow')(),s=(r-this.$ReactComposerCollageAnimationController8)/1000;s=Math.min(s,h);this.$ReactComposerCollageAnimationController8=r;var t=this.$ReactComposerCollageAnimationController1(),u=this.$ReactComposerCollageAnimationController3(),v=this.$ReactComposerCollageAnimationController5(),w=this.$ReactComposerCollageAnimationController6();t.forEach(function(x,y){var z=u.get(y)||{},aa=v.get(y);if(!aa)return;var ba=w.get(y),ca=this.$ReactComposerCollageAnimationController10(x,aa,z),da=this.$ReactComposerCollageAnimationController11(z,ca,s,ba),ea=this.$ReactComposerCollageAnimationController12(x,da,s,ba,aa);this.$ReactComposerCollageAnimationController13(x,ea,aa,z);if(!c('ReactComposerCollageAnimationUtils').isZero(da)){q=true;u.set(y,da)}if(!c('ReactComposerCollageAnimationUtils').isEqual(x,ea)){q=true;if(ba){var fa=ea.width-x.width,ga=ea.height-x.height,ha=fa*((ba.x-x.centerX)/(x.width||1)),ia=ga*((ba.y-x.centerY)/(x.height||1));ea.centerX-=ha;ea.centerY-=ia}}t.set(y,ea)}.bind(this));if(q&&this.$ReactComposerCollageAnimationController7){this.$ReactComposerCollageAnimationController2(t);this.$ReactComposerCollageAnimationController4(u);c('requestAnimationFrame')(function(){return this.$ReactComposerCollageAnimationController9()}.bind(this))}else this.$ReactComposerCollageAnimationController7=false;};p.prototype.$ReactComposerCollageAnimationController13=function(q,r,s,t){n.forEach(function(u,v){var w=Math.abs(q[v]-r[v]),x=Math.abs(s[v]-r[v]);if(w<j&&x<.5){r[v]=s[v];t[v]=0}})};p.prototype.$ReactComposerCollageAnimationController10=function(q,r,s){var t={};n.forEach(function(u,v){t[v]=u.springConstant*(r[v]-q[v])-u.dampingConstant*(s[v]||0)});return t};p.prototype.$ReactComposerCollageAnimationController11=function(q,r,s,t){var u={};n.forEach(function(v,w){u[w]=t&&o[w]?0:Math.max(-i,Math.min(i,(q[w]||0)+r[w]*s))});return u};p.prototype.$ReactComposerCollageAnimationController12=function(q,r,s,t,u){var v={};n.forEach(function(w,x){var y=q[x]+r[x]*s,z=this.$ReactComposerCollageAnimationController14(y,q[x],u[x]);v[x]=t&&o[x]?q[x]:z}.bind(this));return v};p.prototype.$ReactComposerCollageAnimationController14=function(q,r,s){var t=Math.abs(q-s),u=Math.abs(r-s);if(t>u){var v=u/10;return q>s?s+v:s-v}else return q;};f.exports=p}),null);
__d('ReactComposerCollageContainer.react',['immutable','Map','React','ReactComponentWithPureRenderMixin','ReactComposerCollage.react','ReactComposerCollageAnimationController','ReactComposerCollageUtils','ReactComposerContextMixin','ReactComposerMediaUploadActions','ReactDOM','Vector','VelocityTracker'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=500,j=c('React').createClass({displayName:'ReactComposerCollageContainer',_orderedUploads:c('immutable').List(),_width:i,_layoutConfig:null,_currentStyles:new (c('Map'))(),_targetLocations:new (c('Map'))(),_currentVelocities:new (c('Map'))(),_dragPoints:new (c('Map'))(),_velocityTrackers:new (c('Map'))(),_animationController:null,_allowLayoutChanges:true,mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{containerWidth:h.number,scaleFactor:h.number,mediaUploads:h.instanceOf(c('immutable').List).isRequired,enableFaceboxTagger:h.bool,productTaggerType:h.string,disablePhotoEditing:h.bool,showSellUploadLink:h.bool},getInitialState:function k(){this._currentStyles=new (c('Map'))();return {currentStyles:new (c('Map'))()}},componentWillMount:function k(){this._updateVarsFromProps(this.props);this._animationController&&this._animationController.startAnimating()},componentWillUnmount:function k(){this._animationController&&this._animationController.stopAnimating()},componentWillReceiveProps:function k(l){this._updateVarsFromProps(l)},_getCollageItemStyles:function k(){return this._currentStyles},_setCollageItemStyles:function k(l){this._currentStyles=l;this.setState({currentStyles:l});this.forceUpdate()},_getCollageItemVelocities:function k(){return this._currentVelocities},_setCollageItemVelocities:function k(l){this._currentVelocities=l},_getCollageItemDestinations:function k(){return this._targetLocations},_getCollageItemDragPoints:function k(){return this._dragPoints},_updateVarsFromProps:function k(l){if(!this._animationController)this._animationController=new (c('ReactComposerCollageAnimationController'))(function(){return this._getCollageItemStyles()}.bind(this),function(n){return this._setCollageItemStyles(n)}.bind(this),function(){return this._getCollageItemVelocities()}.bind(this),function(n){return this._setCollageItemVelocities(n)}.bind(this),function(){return this._getCollageItemDestinations()}.bind(this),function(){return this._getCollageItemDragPoints()}.bind(this));this._width=l.containerWidth*l.scaleFactor-10;var m=l.mediaUploads.filter(function(n){return !!n.width&&!!n.height});this._onNewOrderedUploads(m)},_onNewOrderedUploads:function k(l){this._orderedUploads=l;this._recomputeStyles()},_recomputeStyles:function k(){var l,m=this;if(this._orderedUploads.size>0){(function(){var n=[];if(m._orderedUploads.size===1){m._layoutConfig=null;n=c('ReactComposerCollageUtils').getSingleItemStyleInfo(m._orderedUploads.first(),m._width)}else{m._layoutConfig=c('ReactComposerCollageUtils').getCollageLayoutConfig(m._orderedUploads,m._width);n=m._layoutConfig.getItemStyleInfos()}var o=new (c('Map'))(),p=m._currentStyles,q=false;m._orderedUploads.forEach(function(r,s){var t=n[s],u={centerX:t.left+t.width/2,centerY:t.top+t.height/2,width:t.width,height:t.height,dragEffectPercent:this._dragPoints.get(r.id)?100:0};o.set(r.id,u);if(!p.get(r.id)){var v=babelHelpers['extends']({},u,{width:0,height:0});p.set(r.id,v);q=true}}.bind(m));m._targetLocations=o;if(q)m._setCollageItemStyles(p);m._animationController&&m._animationController.startAnimating()})()}else{this._layoutConfig=null;this._targetLocations=new (c('Map'))();this._currentVelocities=new (c('Map'))()}},render:function k(){if(!this._orderedUploads||!this._orderedUploads.size)return null;var l=0;if(this._layoutConfig){l=this._layoutConfig.getCalculatedHeight()}else this.state.currentStyles.forEach(function(m){l=m.height});return c('React').createElement(c('ReactComposerCollage.react'),{styleInfos:this.state.currentStyles,mediaUploads:this._orderedUploads,enableFaceboxTagger:this.props.enableFaceboxTagger,enablePhotoEditing:this.props.enablePhotoEditing,productTaggerType:this.props.productTaggerType,onGrab:this._onGrab,onDrag:this._onDrag,onDrop:this._onDrop,width:this._width,height:l,scaleFactor:this.props.scaleFactor,onRemoveItem:function(m){return this._onRemoveItem(m)}.bind(this)})},_onGrab:function k(l,m){if(this._orderedUploads.size<2)return;var n=c('Vector').getElementPosition(c('ReactDOM').findDOMNode(this)),o=m.sub(n);this._dragPoints.set(l,o);this._recomputeStyles();var p=new (c('VelocityTracker'))();p.update(o.x,o.y);this._velocityTrackers.set(l,p)},_onRemoveItem:function k(l){this._currentStyles['delete'](l);this._currentVelocities['delete'](l);this._dragPoints['delete'](l)},_onDrag:function k(l,m,n){if(this._orderedUploads.size<2)return;var o=this._currentStyles,p=babelHelpers['extends']({},o.get(l));p.centerX+=n.x;p.centerY+=n.y;o.set(l,p);this._setCollageItemStyles(o);var q=c('Vector').getElementPosition(c('ReactDOM').findDOMNode(this)),r=m.sub(q);this._dragPoints.set(l,r);var s=this._velocityTrackers.get(l);s&&s.update(r.x,r.y);var t=this._orderedUploads;if(!t)return;if(!this._allowLayoutChanges){var u=true;this._dragPoints.forEach(function(y,z){if(!y)return;var aa=t.findIndex(function(da){return da.id===z}),ba=o.get(z);if(!ba)return;var ca=this._getCollageIndex(t,ba.centerX,ba.centerY);if(ca!==aa)u=false;}.bind(this));if(u){this._allowLayoutChanges=true}else return;}var v=t.findIndex(function(y){return y.id===l}),w=this._getCollageIndex(t,p.centerX,p.centerY);if(w!==0&&!w)return;if(v==w&&v>=0&&w>=0)return;var x=t.splice(v,1,t.get(w)).splice(w,1,t.get(v));this._allowLayoutChanges=false;this._onNewOrderedUploads(x)},_onDrop:function k(l,m){if(this._orderedUploads.size<2)return;this._dragPoints.set(l,null);this._recomputeStyles();var n=this._velocityTrackers.get(l);this._velocityTrackers.set(l,null);var o=this._currentVelocities.get(l);if(o){o.centerX=n?n.getVelocityX():0;o.centerY=n?n.getVelocityY():0;this._currentVelocities.set(l,o)}var p=this._orderedUploads;if(!p)return;var q=p.map(function(r){return r.id});c('ReactComposerMediaUploadActions').reorderMedias(this.context.composerID,q)},_getCollageIndex:function k(l,m,n){var o=c('ReactComposerCollageUtils').getCollageLayoutConfig(l,this._width);return o&&o.getIndexForPoint(m,n)}});f.exports=j}),null);
__d('ReactComposerCollagePlusButton.react',['cx','fbt','Link.react','React','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerLoggingName','ReactComposerMediaFilePickerController.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.props.composerConfig.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA];return c('React').createElement(c('ReactComposerMediaFilePickerController.react'),{containerClassName:"_kqb",loggingName:c('ReactComposerLoggingName').MEDIA_COLLAGE_PLUS_BUTTON,disableFaceRecognition:!this.props.enableFaceboxTagger,mediaAcceptParam:this.props.composerConfig.mediaAcceptParam,mediaConfig:n,photoLimit:n.photoLimit,targetData:this.props.composerConfig.targetData},c('React').createElement(c('Link.react'),null,c('React').createElement('span',{className:"_kqk"}),i._("Add More Photos\/Videos")))};function m(){j.apply(this,arguments)}m.propTypes={composerConfig:c('ReactComposerConfig').isRequired,enableFaceboxTagger:l.bool};f.exports=m}),null);
__d('ReactComposerInstantMediaAttachmentSelector.react',['fbt','ix','ComposerTargetData','React','ReactComponentWithPureRenderMixin','ReactComposerAttachmentSelectorContainer.react','ReactComposerAttachmentType','ReactComposerContextMixin','ReactComposerLoggingName'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerInstantMediaAttachmentSelector',mixins:[c('ReactComposerContextMixin'),c('ReactComponentWithPureRenderMixin')],propTypes:{targetData:j.instanceOf(c('ComposerTargetData')).isRequired,icon:j.object},render:function l(){var m=h._("Photo\/Video");return c('React').createElement(c('ReactComposerAttachmentSelectorContainer.react'),{attachmentID:c('ReactComposerAttachmentType').MEDIA,label:m,icon:this.props.icon||i("40533"),'data-testid':'media-attachment-selector',loggingName:c('ReactComposerLoggingName').MEDIA_TAB_SELECTOR,disableSelectAttachment:true})}});f.exports=k}),null);
__d('ReactComposerInstantMediaAttachmentSelectorContainer.react',['cx','ComposerTargetData','React','ReactComposerInstantMediaAttachmentSelector.react','ReactComposerLoggingName','ReactComposerMediaFilePickerController.react'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){'use strict';return c('React').createElement(c('ReactComposerMediaFilePickerController.react'),babelHelpers['extends']({},this.props,{loggingName:c('ReactComposerLoggingName').MEDIA_TAB_SELECTOR,containerClassName:"_yt4"}),c('React').createElement(c('ReactComposerInstantMediaAttachmentSelector.react'),babelHelpers['extends']({},this.props,{targetData:this.props.targetData,'data-testid':'instant-media-attachment-selector'})))};function l(){'use strict';i.apply(this,arguments)}l.propTypes={disableFaceRecognition:k.bool.isRequired,mediaAcceptParam:k.shape({photos:k.string,both:k.string}).isRequired,photoLimit:k.number.isRequired,targetData:k.instanceOf(c('ComposerTargetData')).isRequired,icon:k.object};l.defaultProps={disableFaceRecognition:false};f.exports=l}),null);
__d('ReactComposerCrossPostToInstagramRow.react',['cx','fbt','FBToggleSwitch.react','LeftFillRightFitLayout.react','PagesComposerActions','React','XUICardSection.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerCrossPostToInstagramRow1=function(r){c('PagesComposerActions').setInstagramCrossPosting(this.props.composerID,r)}.bind(this),n}l.prototype.render=function(){return c('React').createElement(c('XUICardSection.react'),{className:"_1nth"},c('React').createElement(c('LeftFillRightFitLayout.react'),null,c('React').createElement('div',null,c('React').createElement('div',{className:"_1nti"}),c('React').createElement('div',{className:"_1ntj"},i._("Post this photo to Instagram?"))),c('React').createElement('div',{className:"_1ntk"},c('React').createElement(c('FBToggleSwitch.react'),{onToggle:this.$ReactComposerCrossPostToInstagramRow1}))))};f.exports=l}),null);
__d('ReactComposerDraftDelete',['ReactComposerDraftUtils','WebStorage'],(function a(b,c,d,e,f,g){var h={deleteDraft:function i(j){var k=c('WebStorage').getLocalStorage();if(k)k.removeItem(c('ReactComposerDraftUtils').createUserSpecificStorageName(j));}};f.exports=h}),null);
__d('ReactComposerDraftGet',['ReactComposerDraftUtils','WebStorage'],(function a(b,c,d,e,f,g){var h=1000*60*60,i=72*h,j={hasDraft:function k(l){try{var m=j.getDraft(l);return !!m}catch(n){return false}},getDraft:function k(l){try{var m=c('ReactComposerDraftUtils').createUserSpecificStorageName(l),n=c('WebStorage').getLocalStorage(),o=n&&n.getItem(m);o=o&&c('ReactComposerDraftUtils').decode(o);if(o&&o.prefillConfig&&o.draftTime&&this._isNotExpired(o.draftTime))return o;}catch(p){}return null},_isNotExpired:function k(l){return Date.now()-l<i}};f.exports=j}),null);
__d('ReactComposerDraftEventLogger',['ComposerDraftTypedLogger','ReactComposerDraftTypes'],(function a(b,c,d,e,f,g){var h={log:function i(j,k){var l=c('ReactComposerDraftTypes').NONE;if(k.draftTypeAuto){l=c('ReactComposerDraftTypes').AUTO}else if(k.draftTypeAutomsg)l=c('ReactComposerDraftTypes').AUTOMSG;new (c('ComposerDraftTypedLogger'))().setEventType(j).setDraftType(l).log()}};f.exports=h}),null);
__d('getBlockNumberAndOffsetFromText',['splitTextIntoTextBlocks'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=i.slice(0,j),l=c('splitTextIntoTextBlocks')(k),m=l.map(function(o){return o.length}).slice(0,-1),n=m.reduce(function(o,p){return o+p+1},0);return {block:l.length-1,offset:j-n}}f.exports=h}),null);
__d('ReactComposerPrefillMentionsInput',['EditorState','SelectionState','createEditorStateWithEntities','getBlockNumberAndOffsetFromText','getMentionsInputDecorator'],(function a(b,c,d,e,f,g){var h={createEditorState:function i(j,k){if(!j||!j.text)return c('EditorState').createEmpty();var l=c('createEditorStateWithEntities')({text:j.text,ranges:j.ranges||[],decorator:c('getMentionsInputDecorator')(),addEntityToContentStateFn:function p(q,r){return r.createEntity('MENTION','IMMUTABLE',{id:q.id,isWeak:!!q.weakreference,type:q.type})}});if(k){var m=l.getCurrentContent().getBlockMap(),n=c('getBlockNumberAndOffsetFromText')(j.text,k.start),o=c('getBlockNumberAndOffsetFromText')(j.text,k.end);l=c('EditorState').acceptSelection(l,new (c('SelectionState'))({anchorKey:m.skip(n.block).first().getKey(),anchorOffset:n.offset,focusKey:m.skip(o.block).first().getKey(),focusOffset:o.offset,isBackward:false}))}else l=c('EditorState').moveSelectionToEnd(l);return l},getMentionsFromEditorState:function i(j){var k=j.getCurrentContent(),l=[],m=0;k.getBlockMap().forEach(function(n){n.findEntityRanges(function(){return true},function(o,p){var q=n.getEntityAt(o);if(!q)return;var r=k.get(q);l.push({entity:{id:Number(r.getData().id),noncoworker:false,type:r.getData().type,url:''},length:p-o,offset:o+m})});m+=n.getLength()+1});return l}};f.exports=h}),null);
__d('ReactComposerTopicFeedsTaggerActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({USER_ADD_TAG:null,USER_REMOVE_TAG:null,PREFILL_TAGS:null,SERVER_UPDATE_TAGS:null,SET_COMPOSER_FEED_ID:null,SET_PHOTO_AUTO_TAGGING_DELAY:null,SET_PHOTO_POLLING_DURATION:null,SET_PHOTO_POLLING_INTERVAL:null,SET_TAGGER_MOUNTED:null,SET_TEXT_AUTO_TAGGING_DELAY:null,SET_RESHARE_URL:null,SET_DARK_LAUNCH:null,SET_TARGET_ID:null},'ReactComposerTopicFeedsTaggerActionType')}),null);
__d('ReactComposerTopicFeedsTaggerActions',['ReactComposerDispatcher','ReactComposerTopicFeedsTaggerActionType'],(function a(b,c,d,e,f,g){h.prototype.addTag=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topicID:j,type:c('ReactComposerTopicFeedsTaggerActionType').USER_ADD_TAG})};h.prototype.removeTag=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topicID:j,type:c('ReactComposerTopicFeedsTaggerActionType').USER_REMOVE_TAG})};h.prototype.setDarkLaunch=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,isDarkLaunch:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_DARK_LAUNCH})};h.prototype.setPhotoAutoTaggingDelay=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,delay:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_AUTO_TAGGING_DELAY})};h.prototype.setPhotoPollingDuration=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,duration:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_DURATION})};h.prototype.setPhotoPollingInterval=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,interval:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_INTERVAL})};h.prototype.setTaggerMounted=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,isMounted:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_TAGGER_MOUNTED})};h.prototype.setTextAutoTaggingDelay=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,delay:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_TEXT_AUTO_TAGGING_DELAY})};h.prototype.updateTags=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topics:j,type:c('ReactComposerTopicFeedsTaggerActionType').SERVER_UPDATE_TAGS})};h.prototype.prefillTags=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topicIDs:j,type:c('ReactComposerTopicFeedsTaggerActionType').PREFILL_TAGS})};h.prototype.setComposerFeedID=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,composerFeedID:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_COMPOSER_FEED_ID})};h.prototype.setReshareURL=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,reshareURL:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_RESHARE_URL})};h.prototype.setTargetID=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,targetID:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_TARGET_ID})};function h(){'use strict'}f.exports=new h()}),null);
__d("XFeedTopicClassifierController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/feed\/topic\/classifier\/",{message:{type:"String",defaultValue:""},place_tag_id:{type:"FBID"},photo_ids:{type:"FBIDVector"},captions:{type:"StringVector"},urls:{type:"StringVector"},session_id:{type:"String"},tagged_profile_ids:{type:"FBIDVector"},mention_ids:{type:"FBIDVector"},mentions:{type:"HackType"},minutiae_action_id:{type:"FBID"},minutiae_object_id:{type:"FBID"},minutiae_object_string:{type:"String"},target_ent_id:{type:"FBID"},topics:{type:"HackType"},use_new_form:{type:"Bool",defaultValue:false},classification_session_id:{type:"String"},sequence_number:{type:"Int"}})}),null);
__d('ReactComposerTopicFeedsAutoTaggingRequester',['AsyncRequest','Map','ReactComposerLoggingStore','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerTopicFeedsTaggerActions','ReactComposerTopicFeedsTaggerStore','XFeedTopicClassifierController','emptyFunction','uuid'],(function a(b,c,d,e,f,g){var h=5000;function i(){'use strict';this.$ReactComposerTopicFeedsAutoTaggingRequester1=new (c('Map'))();this.$ReactComposerTopicFeedsAutoTaggingRequester2=new (c('Map'))();this.$ReactComposerTopicFeedsAutoTaggingRequester3=new (c('Map'))();this.$ReactComposerTopicFeedsAutoTaggingRequester4=Date.now()}i.prototype.sendThrottledRequest=function(j,k){'use strict';if(this.$ReactComposerTopicFeedsAutoTaggingRequester1.has(j))return;this.$ReactComposerTopicFeedsAutoTaggingRequester1.set(j,setTimeout(function(){this.sendImmediateRequest(j);this.$ReactComposerTopicFeedsAutoTaggingRequester1['delete'](j)}.bind(this),k||h))};i.prototype.sendPhotoPollingRequest=function(j,k,l){'use strict';this.$ReactComposerTopicFeedsAutoTaggingRequester5(j);var m=[];for(var n=l;n<=k;n+=l)m.push(setTimeout(function(){return this.sendImmediateRequest(j)}.bind(this),n));this.$ReactComposerTopicFeedsAutoTaggingRequester2.set(j,m)};i.prototype.$ReactComposerTopicFeedsAutoTaggingRequester5=function(j){'use strict';var k=this.$ReactComposerTopicFeedsAutoTaggingRequester2.get(j);if(k){k.forEach(function(l){clearTimeout(l)});this.$ReactComposerTopicFeedsAutoTaggingRequester2['delete'](j)}};i.prototype.sendImmediateRequest=function(j){'use strict';var k=c('ReactComposerStatusStore').getMessageText(j),l=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').LOCATION),m=l.place&&l.place.getUniqueID(),n=c('ReactComposerMediaUploadStore').getUploadsOfType(j,c('ReactComposerMediaUploadType').PHOTO).map(function(ca){return ca.photoID}).toArray().filter(function(ca){return ca}),o=null,p=c('ReactComposerTopicFeedsTaggerStore').getReshareURL(j);if(!p)p=c('ReactComposerScrapedAttachmentStore').getMarkup(j)&&c('ReactComposerScrapedAttachmentStore').getPermissiveMatch(j);if(p)o=[p];var q=this.$ReactComposerTopicFeedsAutoTaggingRequester6(c('ReactComposerStatusStore').getEditorState(j)),r=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').PEOPLE)||[],s=r.map(function(ca){return ca.getUniqueID()}),t=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').ACTIVITY),u=null,v=null,w=null;if(t&&t.action&&t.object){u=t.action.getUniqueID();if(isNaN(t.object.getUniqueID())){w=t.object.getUniqueID()}else v=t.object.getUniqueID();}var x=c('ReactComposerTopicFeedsTaggerStore').getNextPredictionSequenceNumber(j),y=c('ReactComposerTopicFeedsTaggerStore').getTargetID(j),z=c('uuid')(),aa=Date.now(),ba=c('XFeedTopicClassifierController').getURIBuilder().setString('message',k).setFBID('place_tag_id',m).setFBIDVector('photo_ids',n).setHackType('mentions',q).setFBIDVector('tagged_profile_ids',s).setStringVector('urls',o).setString('session_id',c('ReactComposerLoggingStore').getSessionID(j)).setFBID('minutiae_action_id',u).setFBID('minutiae_object_id',v).setString('minutiae_object_string',w).setFBID('target_ent_id',y).setHackType('topics',c('ReactComposerTopicFeedsTaggerStore').getComposerData(j).topicsInfoList.toArray()).setString('classification_session_id',z).setInt('sequence_number',x).getURI();new (c('AsyncRequest'))(ba).setHandler(function(ca){return this.$ReactComposerTopicFeedsAutoTaggingRequester7(ca,j,z,aa,x)}.bind(this)).send()};i.prototype.clearAllPendingRequests=function(j){'use strict';if(!this.$ReactComposerTopicFeedsAutoTaggingRequester1.has(j))return;clearTimeout(this.$ReactComposerTopicFeedsAutoTaggingRequester1.get(j));this.$ReactComposerTopicFeedsAutoTaggingRequester5(j);this.$ReactComposerTopicFeedsAutoTaggingRequester1['delete'](j);this.$ReactComposerTopicFeedsAutoTaggingRequester4=Date.now()};i.prototype.updatePostStatus=function(j,k){'use strict';this.$ReactComposerTopicFeedsAutoTaggingRequester3.set(j,k)};i.prototype.$ReactComposerTopicFeedsAutoTaggingRequester7=function(j,k,l,m,n){'use strict';if(!j||!j.payload)return;var o=null,p=true;if(this.$ReactComposerTopicFeedsAutoTaggingRequester3.get(k)){p=false;o='This post has already been submitted.'}else if(m<this.$ReactComposerTopicFeedsAutoTaggingRequester4){p=false;o='Classify start time < Last Request Timestamp'}if(p){this.$ReactComposerTopicFeedsAutoTaggingRequester4=m;c('ReactComposerTopicFeedsTaggerActions').updateTags(k,j.payload)}};i.prototype.$ReactComposerTopicFeedsAutoTaggingRequester6=function(j){'use strict';if(!j)return [];var k=j.getCurrentContent(),l=[];k.getBlockMap().forEach(function(m){m.findEntityRanges(c('emptyFunction').thatReturnsTrue,function(n,o){var p=m.getEntityAt(n);if(!p)return;var q=k.getEntity(p);if(q.getType()!=='MENTION')return;l.push({mention_id:q.getData().id,mention_type:q.getData().type,offset:n,length:o-n})})});return l};f.exports=new i()}),null);
__d('ReactComposerTopicFeedsTaggerStore',['invariant','immutable','ReactComposerActionTypes','ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerScrapedAttachmentActionType','ReactComposerStatusActionType','ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerType','ReactComposerTopicFeedsAutoTaggingRequester','ReactComposerTopicFeedsTaggerActionType','TopicFeedsConstant'],(function a(b,c,d,e,f,g,h){var i,j,k=c('TopicFeedsConstant').DEFAULT_PHOTO_AUTO_TAGGING_DELAY,l=c('TopicFeedsConstant').DEFAULT_PHOTO_POLLING_DURATION,m=c('TopicFeedsConstant').DEFAULT_PHOTO_POLLING_INTERVAL,n=c('TopicFeedsConstant').DEFAULT_TEXT_AUTO_TAGGING_DELAY,o=c('TopicFeedsConstant').TOPIC_CONFIDENCE_USER_ADD,p=c('TopicFeedsConstant').TOPIC_CONFIDENCE_USER_REMOVE,q=c('TopicFeedsConstant').TOPIC_CONFIDENCE_BOOTSTRAP;i=babelHelpers.inherits(r,c('ReactComposerStoreBase'));j=i&&i.prototype;function r(){'use strict';var s=void 0;j.constructor.call(this,function(){return {autoTaggingEnabled:true,photoAutoTaggingDelay:k,photoPollingDuration:l,photoPollingInterval:m,reshareURL:null,sequenceCounter:0,topicsInfoList:c('immutable').List(),taggerEnabled:false,targetID:null,textAutoTaggingDelay:n}},function(t){if(!s)return;var u=s.validateAction(t,'composerID');if(!s.getIsTaggerEnabled(u)&&!s.$ReactComposerTopicFeedsTaggerStore1(t))return;switch(t.type){case c('ReactComposerTopicFeedsTaggerActionType').SET_TAGGER_MOUNTED:s.$ReactComposerTopicFeedsTaggerStore2(t);break;case c('ReactComposerTopicFeedsTaggerActionType').USER_ADD_TAG:s.$ReactComposerTopicFeedsTaggerStore3(t);break;case c('ReactComposerTopicFeedsTaggerActionType').USER_REMOVE_TAG:s.$ReactComposerTopicFeedsTaggerStore4(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SERVER_UPDATE_TAGS:s.$ReactComposerTopicFeedsTaggerStore5(t);break;case c('ReactComposerTopicFeedsTaggerActionType').PREFILL_TAGS:s.$ReactComposerTopicFeedsTaggerStore6(t);break;case c('ReactComposerStatusActionType').SET_EDITOR_STATE:s.$ReactComposerTopicFeedsTaggerStore7(t);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:c('ReactComposerDispatcher').waitFor([c('ReactComposerMediaUploadStore').getDispatchToken()]);s.$ReactComposerTopicFeedsTaggerStore8(t);break;case c('ReactComposerActionTypes').POST_STARTED:s.$ReactComposerTopicFeedsTaggerStore9(t);break;case c('ReactComposerActionTypes').POST_ERROR:s.$ReactComposerTopicFeedsTaggerStore10(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_COMPOSER_FEED_ID:s.$ReactComposerTopicFeedsTaggerStore11(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_TEXT_AUTO_TAGGING_DELAY:s.$ReactComposerTopicFeedsTaggerStore12(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_AUTO_TAGGING_DELAY:s.$ReactComposerTopicFeedsTaggerStore13(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_DURATION:s.$ReactComposerTopicFeedsTaggerStore14(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_INTERVAL:s.$ReactComposerTopicFeedsTaggerStore15(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_DARK_LAUNCH:s.$ReactComposerTopicFeedsTaggerStore16(t);break;case c('ReactComposerTaggerActionType').SET_TAGGER_DATA:s.$ReactComposerTopicFeedsTaggerStore17(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_RESHARE_URL:s.$ReactComposerTopicFeedsTaggerStore18(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_TARGET_ID:s.$ReactComposerTopicFeedsTaggerStore19(t);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:s.$ReactComposerTopicFeedsTaggerStore20(t);break;}});s=this}r.prototype.getComposerFeedID=function(s){'use strict';return this.getComposerData(s).composerFeedID};r.prototype.getUserAddedTopics=function(s){'use strict';return this.getComposerData(s).topicsInfoList.filter(function(t){return t.confidence===o}).map(function(t){return t.feed_id})};r.prototype.getUserRemovedTopics=function(s){'use strict';return this.getComposerData(s).topicsInfoList.filter(function(t){return t.confidence===p}).map(function(t){return t.feed_id})};r.prototype.getTaggedTopics=function(s){'use strict';return this.getComposerData(s).topicsInfoList.filter(function(t){return t.confidence>0}).map(function(t){return t.feed_id})};r.prototype.getIsTaggerEnabled=function(s){'use strict';return this.getComposerData(s).taggerEnabled};r.prototype.getIsDarkLaunch=function(s){'use strict';return this.getComposerData(s).isDarkLaunch};r.prototype.getReshareURL=function(s){'use strict';return this.getComposerData(s).reshareURL};r.prototype.getTargetID=function(s){'use strict';return this.getComposerData(s).targetID};r.prototype.getNextPredictionSequenceNumber=function(s){'use strict';return ++this.getComposerData(s).sequenceCounter};r.prototype.$ReactComposerTopicFeedsTaggerStore1=function(s){'use strict';return s.type===c('ReactComposerTopicFeedsTaggerActionType').SET_TAGGER_MOUNTED||s.type===c('ReactComposerTopicFeedsTaggerActionType').PREFILL_TAGS};r.prototype.$ReactComposerTopicFeedsTaggerStore2=function(s){'use strict';var t=this.validateAction(s,['composerID','isMounted']),u=t[0],v=t[1],w=this.getComposerData(u);w.taggerEnabled=v};r.prototype.$ReactComposerTopicFeedsTaggerStore3=function(s){'use strict';var t=this.validateAction(s,['composerID','topicID']),u=t[0],v=t[1],w=this.getComposerData(u),x={feed_id:v,confidence:o,context:''},y=w.topicsInfoList.findIndex(function(aa){return aa.feed_id===v});if(y>=0){var z=w.topicsInfoList.get(y);z.confidence===p||h(0);x.context=z.context;w.topicsInfoList=w.topicsInfoList['delete'](y)}w.topicsInfoList=w.topicsInfoList.push(x);w.autoTaggingEnabled=false;c('ReactComposerTopicFeedsAutoTaggingRequester').clearAllPendingRequests(u);this.emitChange(u)};r.prototype.$ReactComposerTopicFeedsTaggerStore4=function(s){'use strict';var t=this.validateAction(s,['composerID','topicID']),u=t[0],v=t[1],w=this.getComposerData(u),x=w.topicsInfoList.findIndex(function(z){return z.feed_id===v});x>=0||h(0);var y={feed_id:v,confidence:p,context:w.topicsInfoList.get(x).context};w.topicsInfoList=w.topicsInfoList['delete'](x);w.topicsInfoList=w.topicsInfoList.push(y);c('ReactComposerTopicFeedsAutoTaggingRequester').clearAllPendingRequests(u);c('ReactComposerTopicFeedsAutoTaggingRequester').sendImmediateRequest(u);w.autoTaggingEnabled=false;this.emitChange(u)};r.prototype.$ReactComposerTopicFeedsTaggerStore5=function(s){'use strict';var t=this.validateAction(s,['composerID','topics']),u=t[0],v=t[1],w=this.getComposerData(u);if(w.autoTaggingEnabled){w.topicsInfoList=c('immutable').List(v);this.emitChange(u)}};r.prototype.$ReactComposerTopicFeedsTaggerStore6=function(s){'use strict';var t=this.validateAction(s,['composerID','topicIDs']),u=t[0],v=t[1],w=this.getComposerData(u);w.topicsInfoList=c('immutable').List(v.map(function(x){return {feed_id:x,confidence:q,context:''}}));this.emitChange(u)};r.prototype.$ReactComposerTopicFeedsTaggerStore7=function(s){'use strict';var t=this.validateAction(s,['composerID','editorState']),u=t[0],v=t[1];if(this.getComposerData(u).autoTaggingEnabled&&v.getCurrentContent().getPlainText().length>0)c('ReactComposerTopicFeedsAutoTaggingRequester').sendThrottledRequest(u,this.getComposerData(u).textAutoTaggingDelay);};r.prototype.$ReactComposerTopicFeedsTaggerStore11=function(s){'use strict';var t=this.validateAction(s,['composerID','composerFeedID']),u=t[0],v=t[1];this.getComposerData(u).composerFeedID=v};r.prototype.$ReactComposerTopicFeedsTaggerStore8=function(s){'use strict';var t=this.validateAction(s,'composerID');if(this.getComposerData(t).autoTaggingEnabled)c('ReactComposerTopicFeedsAutoTaggingRequester').sendPhotoPollingRequest(t,this.getComposerData(t).photoPollingDuration,this.getComposerData(t).photoPollingInterval);};r.prototype.$ReactComposerTopicFeedsTaggerStore9=function(s){'use strict';var t=this.validateAction(s,'composerID');c('ReactComposerTopicFeedsAutoTaggingRequester').clearAllPendingRequests(t);c('ReactComposerTopicFeedsAutoTaggingRequester').updatePostStatus(t,true);this.getComposerData(t).autoTaggingEnabled=false};r.prototype.$ReactComposerTopicFeedsTaggerStore10=function(s){'use strict';var t=this.validateAction(s,'composerID');this.getComposerData(t).autoTaggingEnabled=true;c('ReactComposerTopicFeedsAutoTaggingRequester').updatePostStatus(t,false)};r.prototype.$ReactComposerTopicFeedsTaggerStore12=function(s){'use strict';var t=this.validateAction(s,['composerID','delay']),u=t[0],v=t[1];this.getComposerData(u).textAutoTaggingDelay=v};r.prototype.$ReactComposerTopicFeedsTaggerStore13=function(s){'use strict';var t=this.validateAction(s,['composerID','delay']),u=t[0],v=t[1];this.getComposerData(u).photoAutoTaggingDelay=v};r.prototype.$ReactComposerTopicFeedsTaggerStore14=function(s){'use strict';var t=this.validateAction(s,['composerID','duration']),u=t[0],v=t[1];this.getComposerData(u).photoPollingDuration=v};r.prototype.$ReactComposerTopicFeedsTaggerStore15=function(s){'use strict';var t=this.validateAction(s,['composerID','interval']),u=t[0],v=t[1];this.getComposerData(u).photoPollingInterval=v};r.prototype.$ReactComposerTopicFeedsTaggerStore17=function(s){'use strict';var t=this.validateAction(s,['composerID','taggerID','taggerData']),u=t[0],v=t[1],w=t[2];if(v===c('ReactComposerTaggerType').ACTIVITY&&w.object||v===c('ReactComposerTaggerType').PEOPLE&&w.length>0||v===c('ReactComposerTaggerType').LOCATION&&w.place)c('ReactComposerTopicFeedsAutoTaggingRequester').sendImmediateRequest(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore16=function(s){'use strict';var t=this.validateAction(s,['composerID','isDarkLaunch']),u=t[0],v=t[1];this.getComposerData(u).isDarkLaunch=v};r.prototype.$ReactComposerTopicFeedsTaggerStore18=function(s){'use strict';var t=this.validateAction(s,['composerID','reshareURL']),u=t[0],v=t[1];this.getComposerData(u).reshareURL=v;c('ReactComposerTopicFeedsAutoTaggingRequester').sendImmediateRequest(u)};r.prototype.$ReactComposerTopicFeedsTaggerStore19=function(s){'use strict';var t=this.validateAction(s,['composerID','targetID']),u=t[0],v=t[1];this.getComposerData(u).targetID=v};r.prototype.$ReactComposerTopicFeedsTaggerStore20=function(s){'use strict';var t=this.validateAction(s,'composerID');c('ReactComposerTopicFeedsAutoTaggingRequester').sendImmediateRequest(t)};f.exports=new r()}),null);
__d('ReactComposerDraftSave',['fbt','ReactComposerAttachmentStore','ReactComposerCollectionStore','ReactComposerDraftDelete','ReactComposerDraftEventLogger','ReactComposerDraftGet','ReactComposerDraftUtils','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerMultilingualStatusStore','ReactComposerPhotoStore','ReactComposerPhotoUploadState','ReactComposerPrefillMentionsInput','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerTopicFeedsTaggerStore','WebStorage'],(function a(b,c,d,e,f,g,h){var i={getPrefillConfig:function j(k,l){return {attachmentPreviewData:this._getAttachmentPreviewData(k),canvasID:c('ReactComposerCollectionStore').getCanvasID(k),mediasData:this._getMediaData(k),mentionsInput:{textWithEntities:this._getTextWithEntitiesData(k),focusedOnLoad:true},multilingualData:this._getMultilingualData(k),selectedAttachment:c('ReactComposerAttachmentStore').getSelectedAttachmentID(k),shouldActivateSelectedAttachment:true,taggersData:this._getTaggersData(k),topicFeedTags:c('ReactComposerTopicFeedsTaggerStore').getTaggedTopics(k).toArray()}},saveAsDraft:function j(k,l,m){var n=this.getPrefillConfig(k,l);if(this.isDraftEmpty(n)){if(c('ReactComposerDraftGet').hasDraft(l))c('ReactComposerDraftDelete').deleteDraft(l);return true}var o={draftTime:Date.now(),prefillConfig:n},p=c('WebStorage').getLocalStorage();try{var q=c('WebStorage').setItemGuarded(p,c('ReactComposerDraftUtils').createUserSpecificStorageName(l),c('ReactComposerDraftUtils').encode(o));if(q)throw q;}catch(s){var r=h._("We cannot save your post as a draft. If you wish to post this later, you will have to start the post over again.");alert(r);c('ReactComposerDraftEventLogger').log('error_save_draft',m);return false}return true},_getMediaData:function j(k){var l=[],m=c('ReactComposerMediaUploadStore').getUploads(k),n=c('ReactComposerPhotoStore').getPhotos(k);m.forEach(function(o){if(o.state==c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_DONE)if(o.mediaType==c('ReactComposerMediaUploadType').VIDEO){l.push({photoID:o.photoID,uploadID:o.photoID,filename:o.filename,mediaType:o.mediaType,fileURL:o.fileURL,thumbSrc:o.thumbSrc,cubestripURI:o.cubestripURI,height:o.height,width:o.width})}else if(o.mediaType==c('ReactComposerMediaUploadType').PHOTO){l.push({photoID:o.photoID,uploadID:o.photoID,filename:o.filename,mediaType:o.mediaType,fileURL:null,thumbSrc:n.get(o.photoID).thumbSrc,imageSrc:n.get(o.photoID).imageSrc,cubestripURI:n.get(o.photoID).cubestripURI,height:o.height,width:o.width})}else throw new Error('invalid type');});return l},_getTextWithEntitiesData:function j(k){var l=c('ReactComposerStatusStore').getComposerData(k),m=l.editorState?c('ReactComposerPrefillMentionsInput').getMentionsFromEditorState(l.editorState):[];return {aggregatedranges:[],ranges:m,text:c('ReactComposerStatusStore').getMessageText(k)}},_getAttachmentPreviewData:function j(k){var l=c('ReactComposerScrapedAttachmentStore').getAttachmentConfig(k);return l?{scrapedURL:l.params.url}:null},_getMultilingualData:function j(k){var l=[],m=c('ReactComposerMultilingualStatusStore').getLanguageDialects(k),n=c('ReactComposerMultilingualStatusStore').getMessages(k);if(m)for(var o=0;o<m.length;o++)l.push({dialect:m[o],message:n[o]});return {multilingualStatuses:l,specifiedDialect:c('ReactComposerMultilingualStatusStore').getSpecifiedPostLanguage(k)}},_getTaggersData:function j(k){var l=c('ReactComposerTaggerStore').getTaggersData(k),m={};m[c('ReactComposerTaggerType').ACTIVITY]={action:l[c('ReactComposerTaggerType').ACTIVITY].action?l[c('ReactComposerTaggerType').ACTIVITY].action.toPlainObject():null,object:l[c('ReactComposerTaggerType').ACTIVITY].object?l[c('ReactComposerTaggerType').ACTIVITY].object.toPlainObject():null};m[c('ReactComposerTaggerType').LOCATION]={implicitLocation:l[c('ReactComposerTaggerType').LOCATION].implicitLocation,place:l[c('ReactComposerTaggerType').LOCATION].place?l[c('ReactComposerTaggerType').LOCATION].place.toPlainObject():null};var n=[];l[c('ReactComposerTaggerType').PEOPLE].forEach(function(o){n.push(o.toPlainObject())});m[c('ReactComposerTaggerType').PEOPLE]=n;return m},isDraftEmpty:function j(k){var l=k.attachmentPreviewData,m=k.canvasID,n=k.mediasData,o=k.mentionsInput,p=k.multilingualData,q=k.taggersData,r=k.topicFeedTags;if(o&&o.textWithEntities&&o.textWithEntities.text&&o.textWithEntities.text.trim())return false;if(n&&n.length)return false;if(q){if(q[c('ReactComposerTaggerType').ACTIVITY]&&(q[c('ReactComposerTaggerType').ACTIVITY].action||q[c('ReactComposerTaggerType').ACTIVITY].object))return false;if(q[c('ReactComposerTaggerType').LOCATION]&&(q[c('ReactComposerTaggerType').LOCATION].implicitLocation||q[c('ReactComposerTaggerType').LOCATION].place))return false;if(q[c('ReactComposerTaggerType').PEOPLE]&&q[c('ReactComposerTaggerType').PEOPLE].length)return false;}if(l)return false;if(r&&r.length)return false;if(p&&(p.specifiedDialect||p.multilingualStatuses&&p.multilingualStatuses.length))return false;if(m)return false;return true}};f.exports=i}),null);
__d('ReactComposerDraftUtils',['Base64','ReactComposerDraftGet','ReactComposerDraftSave'],(function a(b,c,d,e,f,g){var h='composerLocalDraft/',i={createUserSpecificStorageName:function j(k){return h+k},encode:function j(k){return c('Base64').encodeObject(k)},decode:function j(k){return c('Base64').decodeObject(k)},isComposerSaved:function j(k,l){var m=c('ReactComposerDraftGet').getDraft(l),n=m&&m.prefillConfig,o=!!n&&i.serializeObject(n),p=c('ReactComposerDraftSave').getPrefillConfig(k,l),q=!!p&&i.serializeObject(p);return o===q},serializeObject:function j(k){var l=i.sortObjectKeys(k);return JSON.stringify(l)},sortObjectKeys:function j(k){var l={},m=Object.keys(k).sort();m.forEach(function(n){l[n]=k[n]!==null&&typeof k[n]==='object'?i.sortObjectKeys(k[n]):k[n]});return l}};f.exports=i}),null);
__d('ReactComposerDraftAutosaveContainer.react',['cx','fbt','Arbiter','React','ReactComposerContextMixin','ReactComposerDraftGet','ReactComposerDraftSave','ReactComposerDraftUtils','ReactComposerEvents'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('ReactComposerContextMixin').contextTypes,m=100,n=400;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){'use strict';k.constructor.call(this);this.$ReactComposerDraftAutosaveContainer1=null;this.$ReactComposerDraftAutosaveContainer2=null;this.$ReactComposerDraftAutosaveContainer3=null;this.state={savingMessage:''}}o.prototype.componentWillMount=function(){'use strict';c('ReactComposerDraftGet').hasDraft(this.context.actorID)};o.prototype.componentDidMount=function(){'use strict';this.$ReactComposerDraftAutosaveContainer1=setInterval(function(){var p,q=this;if(!c('ReactComposerDraftUtils').isComposerSaved(this.context.composerID,this.context.actorID))(function(){q.$ReactComposerDraftAutosaveContainer2!==null&&clearTimeout(q.$ReactComposerDraftAutosaveContainer2);q.$ReactComposerDraftAutosaveContainer2=null;var r=c('ReactComposerDraftSave').isDraftEmpty(c('ReactComposerDraftSave').getPrefillConfig(q.context.composerID,q.context.actorID));q.setState({savingMessage:r?'':i._("Saving...")});var s=c('ReactComposerDraftSave').saveAsDraft(q.context.composerID,q.context.actorID,q.context.gks);if(s){q.$ReactComposerDraftAutosaveContainer2=setTimeout(function(){this.$ReactComposerDraftAutosaveContainer2!==null&&clearTimeout(this.$ReactComposerDraftAutosaveContainer2);this.$ReactComposerDraftAutosaveContainer2=null;this.setState({savingMessage:r?'':i._("Saved")})}.bind(q),n)}else{q.$ReactComposerDraftAutosaveContainer1!==null&&clearInterval(q.$ReactComposerDraftAutosaveContainer1);q.$ReactComposerDraftAutosaveContainer1=null}})();}.bind(this),m);this.$ReactComposerDraftAutosaveContainer3=c('Arbiter').subscribeOnce([c('ReactComposerEvents').OPTIMISTIC_POSTING_STARTED+this.context.composerID,c('ReactComposerEvents').POST_STARTED+this.context.composerID],function(){this.$ReactComposerDraftAutosaveContainer1!==null&&clearInterval(this.$ReactComposerDraftAutosaveContainer1)}.bind(this))};o.prototype.componentWillUnmount=function(){'use strict';this.$ReactComposerDraftAutosaveContainer1!==null&&clearInterval(this.$ReactComposerDraftAutosaveContainer1);this.$ReactComposerDraftAutosaveContainer2!==null&&clearTimeout(this.$ReactComposerDraftAutosaveContainer2);this.$ReactComposerDraftAutosaveContainer3&&this.$ReactComposerDraftAutosaveContainer3.unsubscribe()};o.prototype.render=function(){'use strict';if(this.context.gks.draftTypeAutomsg)return c('React').createElement('div',{className:"_1t3r"},this.state.savingMessage);return null};o.contextTypes=l;f.exports=o}),null);
__d('ReactComposerMediaAttachmentButtons.react',['cx','fbt','ComposerTargetData','DOMContainer.react','FileInput.react','Grid.react','ReactComposerContextMixin','ReactComposerLoggingActions','ReactComposerLoggingName','ReactComposerMediaUtils','Link.react','ReactComponentWithPureRenderMixin','React','VideoUploadConfig'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('Grid.react').GridItem,k=c('React').PropTypes,l=c('React').createClass({displayName:'ReactComposerMediaAttachmentButtons',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{createAlbumLink:k.any,mediaAcceptParam:k.shape({photos:k.string,both:k.string}).isRequired,onFilesSelected:k.func.isRequired,showUploadPhotosButton:k.bool,targetData:k.instanceOf(c('ComposerTargetData')).isRequired},getDefaultProps:function m(){return {mediaAcceptParam:{}}},getInitialState:function m(){return {createAlbumLink:null}},componentDidMount:function m(){var n=c('React').createElement(c('DOMContainer.react'),{className:"_3mc1",display:'block'},this.props.createAlbumLink);this.setState({createAlbumLink:n})},render:function m(){var n=[];n.push(this._getUploadPhotosButton());if(this.state.createAlbumLink)n.push(c('React').createElement(j,{className:"_4l9a",key:'createAlbum'},c('React').createElement(c('Link.react'),{className:"_2709"},this.state.createAlbumLink)));return c('React').createElement('div',{className:"_4l99"},c('React').createElement(c('Grid.react'),{className:"_2707",cols:n.length},n.filter(function(o){return o!=null})))},_getUploadPhotosButton:function m(){if(!this.props.showUploadPhotosButton)return null;var n=this.props.targetData.targetSupportsMultiplePhotos,o=this.props.mediaAcceptParam.both,p=void 0,q=c('VideoUploadConfig').allowMultimedia&&this.props.targetData.targetSupportsMultiMedia;if(n){if(q){p=i._("Upload Photos\/Videos")}else p=i._("Upload Photos\/Video");}else p=i._("Upload Photo\/Video");return c('React').createElement(j,{className:"_4l9a",key:'uploadPhoto'},c('React').createElement(c('FileInput.react'),{accept:o,multiple:n,name:'composer_photo',onChange:this._onFilesSelected,onClick:this._onUploadPhotosClick,ref:'fileInput','data-testid':'media-attachment-add-photo'},c('React').createElement(c('Link.react'),{className:"_2709"},c('React').createElement('div',{className:"_270a"},p))))},_onUploadPhotosClick:function m(){c('ReactComposerLoggingActions').mediaUploadInputClicked(this.context.composerID,c('ReactComposerLoggingName').MEDIA_ATTACHMENT_UPLOAD_BUTTON)},_onFilesSelected:function m(event){this.props.onFilesSelected(event,this.refs.fileInput.getFileInput());c('ReactComposerMediaUtils').clearInput(this.refs.fileInput.getFileInput())}});f.exports=l}),null);
__d('ReactComposerFailedMediaUpload.react',['cx','fbt','React','XUIButton.react','XUICloseButton.react','XUIContextualDialog.react','XUIContextualDialogTitle.react','XUIContextualDialogBody.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=this.props.error["transient"]?c('React').createElement(c('XUIButton.react'),{className:"_4_e",label:i._("Retry"),onClick:this.props.onRetryClick,size:'small',use:'special'}):c('React').createElement(c('XUIButton.react'),{className:"_4_f",label:i._("Okay button to dismiss the error message and close the upload screen"),onClick:this.props.onDismissClick,size:'small'});return c('React').createElement('span',null,c('React').createElement('div',{ref:function(o){return this.$ReactComposerFailedMediaUpload1=o}.bind(this),className:"_4_g"},c('React').createElement(c('XUICloseButton.react'),{className:"_2n25",onClick:this.props.onRemoveClick,size:'medium',shade:'light'}),c('React').createElement('p',{className:"_4_h"},i._("Error")),c('React').createElement('div',{className:"_4_i"},c('React').createElement('p',{className:"_4_j"},this.props.filename)),n),c('React').createElement(c('XUIContextualDialog.react'),{contextRef:function(){return this.$ReactComposerFailedMediaUpload1}.bind(this),hoverContextRef:function(){return this.$ReactComposerFailedMediaUpload1}.bind(this),width:c('XUIContextualDialog.react').WIDTH.NORMAL,position:'right'},c('React').createElement(c('XUIContextualDialogTitle.react'),null,this.props.error.summary),c('React').createElement(c('XUIContextualDialogBody.react'),null,c('React').createElement('div',{dangerouslySetInnerHTML:{__html:this.props.error.description}}))))};function m(){j.apply(this,arguments)}m.propTypes={error:l.object.isRequired,filename:l.string,onDismissClick:l.func,onRemoveClick:l.func,onRetryClick:l.func,uploadID:l.string.isRequired};f.exports=m}),null);
__d('ReactComposerFailedPhotoUploadContainer.react',['React','ReactComponentWithPureRenderMixin','ReactComposerContextMixin','ReactComposerFailedMediaUpload.react','ReactComposerMediaUploadActions','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerPhotoUploader'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerPhotoUploadPlaceholderContainer',_uploader:undefined,mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{mediaConfig:h.object.isRequired},render:function j(){return c('React').createElement(c('ReactComposerFailedMediaUpload.react'),babelHelpers['extends']({},this.props,{onDismissClick:this._onDismissClick,onRemoveClick:this._onDismissClick,onRetryClick:this._onRetryClick}))},_onDismissClick:function j(){c('ReactComposerMediaUploadActions').removeMediaUpload(this.context.composerID,this.props.uploadID)},_onRetryClick:function j(){var k=c('ReactComposerMediaUploadStore').getMediaUpload(this.context.composerID,this.props.uploadID).fileUpload.getFile();k.manuallyRetried=true;c('ReactComposerMediaUploadActions').retryMediaUpload(this.context.composerID,c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RETRY);if(!this._uploader)this._uploader=new (c('ReactComposerPhotoUploader'))(this.context,this.props.mediaConfig.photoLimit,{disableFaceRecognition:this.props.mediaConfig.disableFaceboxTagger});this._uploader&&this._uploader.retry(k)}});f.exports=i}),null);
__d('ReactComposerFailedVideoXUploadContainer.react',['React','ReactComponentWithPureRenderMixin','ReactComposerContextMixin','ReactComposerFailedMediaUpload.react','ReactComposerMediaUploadActions','ReactComposerMediaUploadStore','ReactComposerMediaUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerFailedVideoXUploadContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{error:h.object.isRequired,filename:h.string,uploadID:h.string.isRequired},render:function j(){return c('React').createElement(c('ReactComposerFailedMediaUpload.react'),babelHelpers['extends']({},this.props,{onDismissClick:this._onDismissClick,onRemoveClick:this._onDismissClick,onRetryClick:this._onRetryClick}))},_onDismissClick:function j(){c('ReactComposerMediaUploadActions').removeMediaUpload(this.context.composerID,this.props.uploadID)},_onRetryClick:function j(){var k=c('ReactComposerMediaUploadStore').getMediaUpload(this.context.composerID,this.props.uploadID).fileUpload;k.manuallyRetried=true;var l=c('ReactComposerMediaUtils').getVideoXUploader(this.context.composerID);l.uploadVideo(k)}});f.exports=i}),null);
__d('ReactComposerNUXActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({NUX_WAS_SHOWN:null,NUX_WAS_SEEN:null,NUX_WAS_HIDDEN:null},'ReactComposerNUXActionType')}),null);
__d('ReactComposerNUXStore',['AsyncRequest','CommerceSelfServeNUXType','Map','ReactComposerNUXActionType','ReactComposerStoreBase','SimpleNUXMessageTypes'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {nuxes:new (c('Map'))()}},function(l){switch(l.type){case c('ReactComposerNUXActionType').NUX_WAS_SHOWN:k&&k.$ReactComposerNUXStore1(l);break;case c('ReactComposerNUXActionType').NUX_WAS_SEEN:k&&k.$ReactComposerNUXStore2(l);break;case c('ReactComposerNUXActionType').NUX_WAS_HIDDEN:k&&k.$ReactComposerNUXStore3(l);break;}});k=this}j.prototype.hasNUXBeenSeen=function(k,l){'use strict';return this.$ReactComposerNUXStore4(k,l).seen};j.prototype.getNUXShownPhotoID=function(k,l){'use strict';return this.$ReactComposerNUXStore4(k,l).photoID};j.prototype.$ReactComposerNUXStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','nuxType','photoID']),m=l[0],n=l[1],o=l[2],p=this.$ReactComposerNUXStore4(m,n);p.photoID=o;this.emitChange(m)};j.prototype.$ReactComposerNUXStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','nuxType']),m=l[0],n=l[1],o=this.$ReactComposerNUXStore4(m,n);o.seen=true;if(n!==c('CommerceSelfServeNUXType').COMPOSER_PRODUCT_PHOTO_TAGGER_BUTTON&&n!==c('SimpleNUXMessageTypes').CUSTOM_PROFILE_VIDEO_THUMBNAILS_NUX)new (c('AsyncRequest'))('/ajax/photos/composer/mark_nux_seen.php').setData({type:n}).send();this.emitChange(m)};j.prototype.$ReactComposerNUXStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','nuxType']),m=l[0],n=l[1],o=this.$ReactComposerNUXStore4(m,n);o.photoID=null;this.emitChange(m)};j.prototype.$ReactComposerNUXStore4=function(k,l){'use strict';var m=this.getComposerData(k),n=m.nuxes.get(l);if(!n){n={seen:false,photoID:null};m.nuxes.set(l,n)}return n};f.exports=new j()}),null);
__d('ReactComposerNUXActions',['ReactComposerDispatcher','ReactComposerNUXActionType','ReactComposerNUXStore'],(function a(b,c,d,e,f,g){c('ReactComposerNUXStore');var h={nuxWasShown:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerNUXActionType').NUX_WAS_SHOWN,nuxType:k,photoID:l})},nuxWasSeen:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerNUXActionType').NUX_WAS_SEEN,nuxType:k})},nuxWasHidden:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerNUXActionType').NUX_WAS_HIDDEN,nuxType:k})}};f.exports=h}),null);
__d('ReactComposerPhotoThumbnail.react',['Image.react','React'],(function a(b,c,d,e,f,g){'use strict';var h=function i(j){if(j.bgURL){var k={backgroundImage:'url('+j.bgURL+')'};return c('React').createElement('div',{className:j.bgClassName,style:k})}else if(j.imgSrc)return c('React').createElement(c('Image.react'),{alt:j.alt,className:j.imgClassName,src:j.imgSrc,style:j.style,width:j.width,height:j.height});return null};f.exports=h}),null);
__d('ReactComposerPhoto.react',['cx','fbt','ix','CommerceProductTaggerType','Image.react','ImageBlock.react','immutable','LoadingIndicator.react','React','ReactComponentWithPureRenderMixin','ReactComposerContextMixin','ReactComposerMediaConfig','ReactComposerPhotoTagger.react','ReactComposerPhotoThumbnail.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStore','ReactFragment','XUIAmbientNUX.react','XUICloseButton.react','XUIContextualDialog.react','XUIContextualDialogBody.react','XUIText.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('React').PropTypes,l=c('React').createClass({displayName:'ReactComposerPhoto',mixins:[c('ReactComposerContextMixin'),c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerStore'))],propTypes:{canTagFromModal:k.bool,disablePhotoEditing:k.bool,draggingPhotos:k.bool,enableFaceboxTagger:k.bool,faceboxes:k.instanceOf(c('immutable').Map).isRequired,fileURL:k.string,isLoadingPhotoEdit:k.bool,isSpherical:k.bool,label:k.string,onEditClick:k.func,onHideProductTaggerNux:k.func.isRequired,onRemoveButtonClicked:k.func.isRequired,onTagAdded:k.func.isRequired,onTaggingNUXClose:k.func,onTagIntent:k.func,onTagRemoved:k.func.isRequired,originalID:k.string,photoID:k.string.isRequired,productTaggerType:k.string,showStickersNUX:k.bool,showTaggingNUX:k.bool,disableRemovePhotos:k.bool,thumbSrc:k.string.isRequired},getDefaultProps:function m(){return {enableFaceboxTagger:true,productTaggerType:c('CommerceProductTaggerType').NONE,disablePhotoEditing:false}},statics:{calculateState:function m(n,o){return {posting:c('ReactComposerStore').isPosting(n)}}},_renderImage:function m(){var n=this.context.gks.local_image_display?this.props.fileURL:null;return c('React').createElement(c('ReactComposerPhotoThumbnail.react'),{bgClassName:"_1a__",bgURL:n,height:c('ReactComposerMediaConfig').photo.thumbHeight,imgSrc:this.props.thumbSrc,width:c('ReactComposerMediaConfig').photo.thumbWidth,alt:this.props.label})},render:function m(){var n={width:c('ReactComposerMediaConfig').photo.thumbWidth,height:c('ReactComposerMediaConfig').photo.thumbHeight},o=this.props.isRecognizingFaceboxes||this.props.isLoadingPhotoEdit?c('React').createElement('div',{className:"_jff"},c('React').createElement(c('LoadingIndicator.react'),{className:"_jfg",size:'small',color:'white'})):null,p=this.props.showProductTaggerNux?"_jfc"+(this.props.isRecognizingFaceboxes?' '+"_jfd":'')+(' '+"_43p_"):"_jfc"+(this.props.isRecognizingFaceboxes?' '+"_jfd":''),q=void 0,r=void 0;if(!this.state.posting){q=c('React').createElement(c('XUICloseButton.react'),{className:"_jfe",onClick:this.props.onRemoveButtonClicked,size:'medium',shade:'light'});r=c('React').createElement(c('ReactComposerPhotoTagger.react'),{canTagFromModal:this.props.canTagFromModal,draggingPhotos:this.props.draggingPhotos,enableFaceboxTagger:this.props.enableFaceboxTagger,productTaggerType:this.props.productTaggerType,disablePhotoEditing:this.props.disablePhotoEditing,faceboxes:this.props.faceboxes,onEditClick:this.props.onEditClick,onHideProductTaggerNux:this.props.onHideProductTaggerNux,onTagIntent:this.props.onTagIntent,onTagAdded:this.props.onTagAdded,onTagRemoved:this.props.onTagRemoved,originalID:this.props.originalID,photoID:this.props.photoID,shown:this.props.showPhotoTagger,showProductTaggerNux:this.props.showProductTaggerNux})}return c('React').createElement('span',null,c('React').createElement('div',{ref:'root',className:p,style:n},this._renderImage(),this.props.disableRemovePhotos?null:q,o,r),this.renderLayers())},renderLayers:function m(){return c('ReactFragment').create({taggingNUX:this.props.enableFaceboxTagger?this._getTaggingNux():null,stickersNUX:this.props.disablePhotoEditing?null:this._getStickersNux()})},_getTaggingNux:function m(){return c('React').createElement(c('XUIContextualDialog.react'),{contextRef:function(){return this.refs.root}.bind(this),position:'below',alignment:'left',shown:this.props.showTaggingNUX,width:300},c('React').createElement(c('XUIContextualDialogBody.react'),null,c('React').createElement(c('XUICloseButton.react'),{className:"rfloat",onClick:this.props.onTaggingNUXClose}),c('React').createElement('div',null,c('React').createElement(c('XUIText.react'),{weight:'bold',display:'block'},i._("It's now easier to tag photos")),i._("Click photos with a {tagging_badge_icon} to review tag suggestions or add, edit and remove tags. When you post the photo, your tags will be applied.",[i.param('tagging_badge_icon',c('React').createElement(c('Image.react'),{className:"_2z-r",src:j("95679")}))]))))},_getStickersNux:function m(){return c('React').createElement(c('XUIAmbientNUX.react'),{alignment:'right',contextRef:function(){return this.refs.root}.bind(this),onCloseButtonClick:this.props.onStickersNUXClose,position:'below',shown:this.props.showStickersNUX},c('React').createElement(c('ImageBlock.react'),{spacing:'medium'},c('React').createElement(c('Image.react'),{src:j("95645")}),c('React').createElement('div',{className:"_21ft"},c('React').createElement('div',{className:"_21fs"},i._("New! Add stickers!")),i._("You can now add stickers to your photos"))))}});f.exports=l}),null);
__d('ReactComposerPhotoContainer.react',['cx','BootloadedComponent.react','CommerceSelfServeNUXType','ComposerNUXType','FluxContainer','immutable','JSResource','LoadingIndicator.react','React','ReactComposerContextMixin','ReactComposerMediaUploadActions','ReactComposerNUXActions','ReactComposerNUXStore','ReactComposerPhoto.react','ReactComposerPhotoActions','ReactComposerPhotoStore','ReactDOM'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('ReactComposerContextMixin').contextTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m;(m=j.constructor).call.apply(m,[this].concat(Array.prototype.slice.call(arguments)));this.$ReactComposerPhotoContainer7=function(){this.$ReactComposerPhotoContainer9()}.bind(this);this.$ReactComposerPhotoContainer6=function(){if(this.props.photoID){c('ReactComposerPhotoActions').removePhoto(this.context.composerID,this.props.photoID,this.props.uploadID)}else c('ReactComposerMediaUploadActions').removeMediaUpload(this.context.composerID,this.props.uploadID);}.bind(this);this.$ReactComposerPhotoContainer9=function(){c('ReactComposerNUXActions').nuxWasSeen(this.context.composerID,c('ComposerNUXType').ADD_STICKERS_NUX)}.bind(this);this.$ReactComposerPhotoContainer10=function(n,o,p){if(!(this.state.isSpherical||this.props.sphericalPhotoID)&&this.props.photoID)c('ReactComposerPhotoActions').tagFacebox(this.context.composerID,this.props.photoID,n,o,p);}.bind(this);this.$ReactComposerPhotoContainer1=function(){c('ReactComposerNUXActions').nuxWasSeen(this.context.composerID,c('ComposerNUXType').TAGGING_FLYOUT_NUX)}.bind(this);this.$ReactComposerPhotoContainer11=function(){if(this.state.showTaggingNUX)this.$ReactComposerPhotoContainer1();}.bind(this);this.$ReactComposerPhotoContainer12=function(n,o){if(!(this.state.isSpherical||this.props.sphericalPhotoID)&&this.props.photoID)c('ReactComposerPhotoActions').untagFacebox(this.context.composerID,this.props.photoID,n,o);}.bind(this);this.$ReactComposerPhotoContainer8=function(){c('ReactComposerNUXActions').nuxWasSeen(this.context.composerID,c('CommerceSelfServeNUXType').COMPOSER_PRODUCT_PHOTO_TAGGER_BUTTON)}.bind(this);this.beforeCalculateInitialState(this.context.composerID,this.props);this.state=l.calculateState(this.state,this.props,this.context);this.$ReactComposerPhotoContainer1=this.$ReactComposerPhotoContainer1.bind(this)}l.getStores=function(){return [c('ReactComposerNUXStore'),c('ReactComposerPhotoStore')]};l.prototype.beforeCalculateInitialState=function(m,n){if(n.photoID){var o=c('ReactComposerPhotoStore').getPhoto(m,n.photoID);if(o){var p=l.$ReactComposerPhotoContainer2(m,o,n.nuxConfig,n.index),q=!p&&l.$ReactComposerPhotoContainer3(m,o,n.nuxConfig,n.index);if(p)c('ReactComposerNUXActions').nuxWasShown(m,c('ComposerNUXType').ADD_STICKERS_NUX,o.id);if(q)c('ReactComposerNUXActions').nuxWasShown(m,c('ComposerNUXType').TAGGING_FLYOUT_NUX,o.id);}}};l.calculateState=function(m,n,o){var p=o.composerID;if(n.photoID){var q=c('ReactComposerPhotoStore').getPhoto(p,n.photoID);if(q){var r=this.$ReactComposerPhotoContainer2(p,q,n.nuxConfig,n.index),s=!r&&this.$ReactComposerPhotoContainer3(p,q,n.nuxConfig,n.index),t=c('ReactComposerPhotoStore').getPhotoBeingTagged(p)===n.photoID,u=n.showProductTaggerNux===true&&this.$ReactComposerPhotoContainer4(p);return {faceboxes:q.faceboxes,isLoadingPhotoEdit:q.isLoadingPhotoEdit,isRecognizingFaceboxes:q.isRecognizingFaceboxes,isSpherical:Boolean(q.cubestripURI),showPhotoTagger:t,showProductTaggerNux:u,showStickersNUX:r,showTaggingNUX:s,thumbSrc:q.thumbSrc}}}return {faceboxes:c('immutable').Map(),isLoadingPhotoEdit:false,isRecognizingFaceboxes:false,isSpherical:n.isSpherical,showPhotoTagger:false,showProductTaggerNux:!!n.showProductTaggerNux,showStickersNUX:false,showTaggingNUX:false,thumbSrc:''}};l.$ReactComposerPhotoContainer5=function(m,n,o,p,q){var r=c('ReactComposerNUXStore').getNUXShownPhotoID(m,p),s=c('ReactComposerNUXStore').hasNUXBeenSeen(m,p);return !!o[p]&&!s&&(!r||r===n.id)&&q===0};l.$ReactComposerPhotoContainer2=function(m,n,o,p){return this.$ReactComposerPhotoContainer5(m,n,o,c('ComposerNUXType').ADD_STICKERS_NUX,p)};l.$ReactComposerPhotoContainer3=function(m,n,o,p){return this.$ReactComposerPhotoContainer5(m,n,o,c('ComposerNUXType').TAGGING_FLYOUT_NUX,p)&&n.faceboxes.size>0};l.$ReactComposerPhotoContainer4=function(m){return !c('ReactComposerNUXStore').hasNUXBeenSeen(m,c('CommerceSelfServeNUXType').COMPOSER_PRODUCT_PHOTO_TAGGER_BUTTON)};l.prototype.componentDidMount=function(){setTimeout(function(){var m=this.props.dragHandler;m&&m.add(c('ReactDOM').findDOMNode(this.refs.container))}.bind(this),0)};l.prototype.componentWillUnmount=function(){setTimeout(function(){var m=this.props.dragHandler;m&&m.remove(c('ReactDOM').findDOMNode(this.refs.container))}.bind(this),0)};l.prototype.render=function(){if(this.state.isSpherical||this.props.sphericalPhotoID){var m=c('React').createElement('div',{className:"_30t9"},c('React').createElement(c('LoadingIndicator.react'),{className:"_4qlq",size:'small',color:'white'}));return c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ReactComposerSphericalPhoto.react').__setRef('ReactComposerPhotoContainer.react'),bootloadPlaceholder:m,className:"_4j47 _jfc",showEditButton:true,fileURL:this.props.fileURL,alt:this.props.label,onRemoveButtonClicked:this.$ReactComposerPhotoContainer6,photoID:this.props.photoID,sphericalPhotoID:this.props.sphericalPhotoID,thumbSrc:this.state.thumbSrc,uploadID:this.props.uploadID,sphericalImage:this.props.sphericalImage,useLocalSphericalImage:this.props.useLocalSphericalImage,ref:'container'})}else return c('React').createElement(c('ReactComposerPhoto.react'),babelHelpers['extends']({},this.props,this.state,{onEditClick:this.$ReactComposerPhotoContainer7,onHideProductTaggerNux:this.$ReactComposerPhotoContainer8,onRemoveButtonClicked:this.$ReactComposerPhotoContainer6,onStickersNUXClose:this.$ReactComposerPhotoContainer9,onTagAdded:this.$ReactComposerPhotoContainer10,onTagIntent:this.$ReactComposerPhotoContainer11,onTaggingNUXClose:this.$ReactComposerPhotoContainer1,onTagRemoved:this.$ReactComposerPhotoContainer12,ref:'container'}));};l.contextTypes=k;f.exports=c('FluxContainer').create(l,{withContext:true,withProps:true})}),null);
__d('ReactComposerPhotoUploadPlaceholder.react',['cx','ix','CircularProgressBar.react','Image.react','LoadingIndicator.react','React','ReactComponentWithPureRenderMixin','ReactComposerContextMixin','ReactComposerPhotoUploadState','XUICloseButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerPhotoUploadPlaceholder',mixins:[c('ReactComposerContextMixin'),c('ReactComponentWithPureRenderMixin')],propTypes:{onRemoveButtonClicked:j.func.isRequired,uploadID:j.string.isRequired,uploadState:j.oneOf(Object.keys(c('ReactComposerPhotoUploadState'))).isRequired,uploadProgress:j.number,isSpherical:j.bool,fileURL:j.string},render:function l(){var m=null,n=null,o=this.props.uploadState,p=o===c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_RESIZE_STARTED,q=o===c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_UPLOADING;if((p||q)&&!this.props.isDocument){var r="_1b01"+(p?' '+"_1b02":'')+(q?' '+"_1b03":'');m=c('React').createElement(c('CircularProgressBar.react'),{percentComplete:this.props.uploadProgress,className:r})}else n=c('React').createElement(c('LoadingIndicator.react'),{className:"_1b00",color:'white',size:'medium'});var s=void 0;if(this.props.isSpherical)s=c('React').createElement(c('Image.react'),{className:"_1az2",src:i("95829"),alt:'360 Photo'});var t={};if(this.context.gks.local_image_display&&this.props.fileURL)t={backgroundImage:'url('+this.props.fileURL+')'};return c('React').createElement('div',{className:"_50_c"+(' '+"_1a__"),style:t},c('React').createElement(c('XUICloseButton.react'),{className:"_1b04",onClick:this.props.onRemoveButtonClicked,size:'medium',shade:'dark'}),s,m,n)}});f.exports=k}),null);
__d('ReactComposerPhotoUploadPlaceholderContainer.react',['DocumentUploadConfig','React','ReactComponentWithPureRenderMixin','ReactComposerMediaUploadActions','ReactComposerMediaUploadStore','ReactComposerPhotoUploadPlaceholder.react','ReactComposerPropsAndStoreBasedStateMixin'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerPhotoUploadPlaceholderContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerMediaUploadStore'))],propTypes:{uploadID:h.string.isRequired},statics:{calculateState:function j(k,l){var m=c('ReactComposerMediaUploadStore').getMediaUpload(k,l.uploadID);return {uploadProgress:m.progress,uploadState:m.state,isSpherical:m.isSpherical,isDocument:m.fileUpload&&c('DocumentUploadConfig').isSupported(m.fileUpload.getFile().type)}}},render:function j(){return c('React').createElement(c('ReactComposerPhotoUploadPlaceholder.react'),babelHelpers['extends']({},this.props,this.state,{onRemoveButtonClicked:this._onRemoveButtonClicked}))},_onRemoveButtonClicked:function j(){c('ReactComposerMediaUploadActions').removeMediaUpload(this.context.composerID,this.props.uploadID)}});f.exports=i}),null);
__d("ProfileCustomVideoThumbnailEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({OPEN_EDIT_DIALOG:"open_edit_dialog",CLOSE_EDIT_DIALOG:"close_edit_dialog",CANCEL_EDITING:"cancel_editing",CANCEL_DISCARD:"cancel_discard",DISCARD_EDITING:"discard_editing",SAVE_EDITING:"save_editing",CHOOSE_SELECTED_THUMBNAIL:"choose_selected_thumbnail",ADD_CUSTOM_THUMBNAIL:"add_custom_thumbnail",ADD_TEXT_TO_THUMBNAIL:"add_text_to_thumbnail",CHANGE_SELECTED_THUMBNAIL:"change_selected_thumbnail",UPLOAD_WITH_CUSTOM_THUMBNAIL:"upload_with_custom_thumbnail",UPLOAD_WITH_GENERATED_THUMBNAIL:"upload_with_generated_thumbnail",UPLOAD_WITH_NO_THUMBNAIL:"upload_with_no_thumbnail",UPLOAD_THUMBNAIL_WITH_TEXT:"upload_thumbnail_with_text",RESIZE_TEXT_BOX:"resize_text_box",DRAG_TEXT_BOX:"drag_text_box",CHANGE_TEXT_FONT:"change_text_font",CHANGE_TEXT_ALIGNMENT:"change_text_alignment"})}),null);
__d('ReactComposerVideoXActionButton.react',['cx','React','Tooltip','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=c('joinClasses')(this.props.className,"_sru");return c('React').createElement('button',babelHelpers['extends']({className:m,onClick:this.props.onClick,'aria-label':this.props.tooltip},c('Tooltip').propsFor(this.props.tooltip)),c('React').createElement('div',{className:this.props.iconClassName}))};function l(){i.apply(this,arguments)}l.propTypes={tooltip:k.node,className:k.string,onClick:k.func,iconClassName:k.string};f.exports=l}),null);
__d('ReactComposerVideoXEditActionButton.react',['cx','fbt','ReactComposerVideoXActionButton.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=i._("Edit Video");return c('React').createElement(c('ReactComposerVideoXActionButton.react'),{className:"_3x9-",iconClassName:"_3x9_",onClick:this.props.onClick,tooltip:n})};function m(){j.apply(this,arguments)}m.propTypes={onClick:l.func};f.exports=m}),null);
__d('ReactComposerVideoXEditDialogActionTypes',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({SET_ACTIVE_TAB:null,UPDATE_GENERATED_THUMBNAILS:null,UPDATE_SELECTED_THUMBNAIL:null,UPDATE_CUSTOM_THUMBNAIL:null,UPDATE_SCRUBBED_THUMBNAIL:null,USE_SELECTED_THUMBNAIL:null,REMOVE_DIALOG_STATE:null,REVERT_THUMBNAIL_STATE:null,SAVE_THUMBNAIL_STATE:null,SHOW_DISCARD_DIALOG:null,HIDE_DISCARD_DIALOG:null,SHOW_DIALOG:null,HIDE_DIALOG:null,MOVE_TEXT_BOX:null,RESIZE_TEXT_BOX:null,UPDATE_THUMBNAIL_TEXT:null,SET_VIDEO_DIMENSIONS:null,SET_CUSTOM_THUMBNAIL_DIMENSIONS:null,SET_TEXT_COLOR:null,SET_TEXT_FONT:null,SET_TEXT_ALIGNMENT:null,SET_TEXT_SIZE:null});f.exports=h}),null);
__d('ReactComposerVideoXEditDialogActions',['ReactComposerDispatcher','ReactComposerVideoXEditDialogActionTypes','VideoThumbnail'],(function a(b,c,d,e,f,g){'use strict';var h={setActiveTab:function i(j,k,l){var m={type:c('ReactComposerVideoXEditDialogActionTypes').SET_ACTIVE_TAB,activeTab:j,composerID:k,uploadID:l};c('ReactComposerDispatcher').dispatch(m)},updateGeneratedThumbnails:function i(j,k,l){var m={type:c('ReactComposerVideoXEditDialogActionTypes').UPDATE_GENERATED_THUMBNAILS,generatedThumbnails:j,composerID:k,uploadID:l};c('ReactComposerDispatcher').dispatch(m)},updateSelectedThumbnail:function i(j,k,l){var m={type:c('ReactComposerVideoXEditDialogActionTypes').UPDATE_SELECTED_THUMBNAIL,selectedThumbnail:j,composerID:k,uploadID:l};c('ReactComposerDispatcher').dispatch(m)},updateCustomThumbnail:function i(j,k,l){var m={type:c('ReactComposerVideoXEditDialogActionTypes').UPDATE_CUSTOM_THUMBNAIL,customThumbnail:j,composerID:k,uploadID:l};c('ReactComposerDispatcher').dispatch(m)},updateScrubbedThumbnail:function i(j,k,l){var m={type:c('ReactComposerVideoXEditDialogActionTypes').UPDATE_SCRUBBED_THUMBNAIL,scrubbedThumbnail:j,composerID:k,uploadID:l};c('ReactComposerDispatcher').dispatch(m)},useSelectedThumbnail:function i(j,k){var l={type:c('ReactComposerVideoXEditDialogActionTypes').USE_SELECTED_THUMBNAIL,composerID:j,uploadID:k};c('ReactComposerDispatcher').dispatch(l)},removeDialogState:function i(j,k){var l={type:c('ReactComposerVideoXEditDialogActionTypes').REMOVE_DIALOG_STATE,composerID:j,uploadID:k};c('ReactComposerDispatcher').dispatch(l)},saveThumbnailState:function i(j,k){var l={type:c('ReactComposerVideoXEditDialogActionTypes').SAVE_THUMBNAIL_STATE,composerID:j,uploadID:k};c('ReactComposerDispatcher').dispatch(l)},revertThumbnailState:function i(j,k){var l={type:c('ReactComposerVideoXEditDialogActionTypes').REVERT_THUMBNAIL_STATE,composerID:j,uploadID:k};c('ReactComposerDispatcher').dispatch(l)},hideDiscardDialog:function i(j,k){var l={type:c('ReactComposerVideoXEditDialogActionTypes').HIDE_DISCARD_DIALOG,composerID:j,uploadID:k};c('ReactComposerDispatcher').dispatch(l)},showDiscardDialog:function i(j,k){var l={type:c('ReactComposerVideoXEditDialogActionTypes').SHOW_DISCARD_DIALOG,composerID:j,uploadID:k};c('ReactComposerDispatcher').dispatch(l)},hideDialog:function i(j,k){var l={type:c('ReactComposerVideoXEditDialogActionTypes').HIDE_DIALOG,composerID:j,uploadID:k};c('ReactComposerDispatcher').dispatch(l)},showDialog:function i(j,k){var l={type:c('ReactComposerVideoXEditDialogActionTypes').SHOW_DIALOG,composerID:j,uploadID:k};c('ReactComposerDispatcher').dispatch(l)},moveTextBox:function i(j,k,l,m){var n={type:c('ReactComposerVideoXEditDialogActionTypes').MOVE_TEXT_BOX,textTop:j,textLeft:k,composerID:l,uploadID:m};c('ReactComposerDispatcher').dispatch(n)},resizeTextBox:function i(j,k,l,m){var n={type:c('ReactComposerVideoXEditDialogActionTypes').RESIZE_TEXT_BOX,textWidth:j,textHeight:k,composerID:l,uploadID:m};c('ReactComposerDispatcher').dispatch(n)},updateThumbnailText:function i(j,k,l){var m={type:c('ReactComposerVideoXEditDialogActionTypes').UPDATE_THUMBNAIL_TEXT,thumbnailText:j,composerID:k,uploadID:l};c('ReactComposerDispatcher').dispatch(m)},setVideoDimensions:function i(j,k,l,m){var n={type:c('ReactComposerVideoXEditDialogActionTypes').SET_VIDEO_DIMENSIONS,videoWidth:j,videoHeight:k,composerID:l,uploadID:m};c('ReactComposerDispatcher').dispatch(n)},setCustomThumbnailDimensions:function i(j,k,l,m){var n={type:c('ReactComposerVideoXEditDialogActionTypes').SET_CUSTOM_THUMBNAIL_DIMENSIONS,customThumbnailWidth:j,customThumbnailHeight:k,composerID:l,uploadID:m};c('ReactComposerDispatcher').dispatch(n)},setTextColor:function i(j,k,l){var m={type:c('ReactComposerVideoXEditDialogActionTypes').SET_TEXT_COLOR,color:j,composerID:k,uploadID:l};c('ReactComposerDispatcher').dispatch(m)},setTextFont:function i(j,k,l){var m={type:c('ReactComposerVideoXEditDialogActionTypes').SET_TEXT_FONT,font:j,composerID:k,uploadID:l};c('ReactComposerDispatcher').dispatch(m)},setTextAlignment:function i(j,k,l){var m={type:c('ReactComposerVideoXEditDialogActionTypes').SET_TEXT_ALIGNMENT,alignment:j,composerID:k,uploadID:l};c('ReactComposerDispatcher').dispatch(m)},setTextSize:function i(j,k,l){var m={type:c('ReactComposerVideoXEditDialogActionTypes').SET_TEXT_SIZE,textSize:j,composerID:k,uploadID:l};c('ReactComposerDispatcher').dispatch(m)}};f.exports=h}),null);
__d('ReactComposerVideoX.react',['cx','ix','fbt','Image.react','BackgroundImage.react','React','ReactComposerMediaConfig','XUICloseButton.react','ReactComposerVideoXEditActionButton.react','ReactComposerVideoXEditDialogGatedModule','ReactComposerVideoXEditDialogActions','SimpleNUXMessage','SimpleNUXMessageTypes','XUIAmbientNUX.react','ReactComposerNUXActions','ProfileCustomVideoThumbnailTypedLogger','ProfileCustomVideoThumbnailEvent'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('ReactComposerVideoXEditDialogGatedModule').module,n=c('React').PropTypes;k=babelHelpers.inherits(o,c('React').PureComponent);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$ReactComposerVideoX1=function(){c('ReactComposerVideoXEditDialogActions').showDialog(this.props.composerID,this.props.uploadID);new (c('ProfileCustomVideoThumbnailTypedLogger'))().setVideoID(this.props.videoID).setEvent(c('ProfileCustomVideoThumbnailEvent').OPEN_EDIT_DIALOG).log();c('ReactComposerVideoXEditDialogActions').saveThumbnailState(this.props.composerID,this.props.uploadID);if(this.props.showThumbnailNux)this.$ReactComposerVideoX2();}.bind(this),this.$ReactComposerVideoX2=function(){c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').CUSTOM_PROFILE_VIDEO_THUMBNAILS_NUX);c('ReactComposerNUXActions').nuxWasSeen(this.props.composerID,c('SimpleNUXMessageTypes').CUSTOM_PROFILE_VIDEO_THUMBNAILS_NUX)}.bind(this),q}o.prototype.render=function(){var p={width:c('ReactComposerMediaConfig').photo.thumbWidth,height:c('ReactComposerMediaConfig').photo.thumbHeight},q="_1sjs"+(this.props.isRecognizingFaceboxes?' '+"_1sjt":''),r=void 0,s=void 0,t=void 0,u=void 0,v=void 0;if(!this.props.posting){r=c('React').createElement(c('XUICloseButton.react'),{className:"_1sju",onClick:this.props.onRemoveButtonClicked,size:'medium',shade:'light'});s=m?c('React').createElement(c('ReactComposerVideoXEditActionButton.react'),{onClick:this.$ReactComposerVideoX1,ref:'editButton'}):null;var w=this.props.uploadIndex>1?'left':'right';v=m?c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.editButton}.bind(this),position:w,width:'auto',shown:this.props.showThumbnailNux,onCloseButtonClick:this.$ReactComposerVideoX2,key:'ambientNUX'},j._("New! Choose a thumbnail that"),c('React').createElement('br',null),j._("shows what your video is about.")):null;t=m?c('React').createElement(m,{composerID:this.props.composerID,uploadID:this.props.uploadID,videoID:this.props.videoID,videoURL:this.props.videoURL,allowTextOnThumbnail:this.props.allowTextOnThumbnail}):null;u=m?c('React').createElement('div',{className:"_nai"}):null}var x=m?null:c('React').createElement('div',{className:"_2v_s"}),y=this.props.isSpherical?c('React').createElement(c('Image.react'),{className:"_jk8",src:i("95829")}):null;return c('React').createElement('div',{className:'uiContextualLayerParent'},c('React').createElement('div',{ref:'root',className:q,style:p},c('React').createElement(c('BackgroundImage.react'),{alt:this.props.label,src:this.props.thumbSrc,width:c('ReactComposerMediaConfig').photo.thumbWidth,height:c('ReactComposerMediaConfig').photo.thumbHeight,backgroundSize:this.props.usingPlaceholderThumbnail?'cover':'contain',className:!this.props.usingPlaceholderThumbnail?"_33by":''}),u,x,r,s,v,t,y))};o.propTypes={label:n.string,onRemoveButtonClicked:n.func.isRequired,thumbSrc:n.string.isRequired,posting:n.bool.isRequired};f.exports=o}),null);
__d("VideoThumbnailDimensions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({GENERATED_THUMBNAIL_HEIGHT:284,GENERATED_THUMBNAIL_WIDTH:465})}),null);
__d('ReactComposerVideoXContainer.react',['cx','EventListener','React','ReactComposerMediaUploadActions','ReactComposerMediaUploadStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStore','ReactComposerVideoX.react','ReactDOM','ReactComposerVideoXEditDialogActions','generateVideoThumbnails','ReactComposerNUXActions','ReactComposerNUXStore','SimpleNUXMessage','SimpleNUXMessageTypes','VideoThumbnailDimensions'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=100,k=100,l='/images/icons/timeline/placeholder/placeholder-movies.png',m=c('React').createClass({displayName:'ReactComposerVideoXContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerStore'),c('ReactComposerNUXStore'))],_loadedmetadataListener:null,propTypes:{dragHandler:i.shape({add:i.func.isRequired,remove:i.func.isRequired}),label:i.string,photoID:i.string.isRequired,uploadID:i.string.isRequired,fileURL:i.string.isRequired,isSpherical:i.bool,allowTextOnThumbnail:i.bool},statics:{calculateState:function n(o,p){var q=c('ReactComposerMediaUploadStore').getMediaUpload(o.toString(),p.uploadID),r=c('ReactComposerMediaUploadStore').getUploadIndex(o.toString(),p.uploadID),s=q&&q.thumbSrc?q.thumbSrc:l,t=c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').CUSTOM_PROFILE_VIDEO_THUMBNAILS_NUX),u=c('ReactComposerNUXStore').getNUXShownPhotoID(o,c('SimpleNUXMessageTypes').CUSTOM_PROFILE_VIDEO_THUMBNAILS_NUX),v=!t&&(!u||u===p.photoID);if(v&&!u)c('ReactComposerNUXActions').nuxWasShown(o,c('SimpleNUXMessageTypes').CUSTOM_PROFILE_VIDEO_THUMBNAILS_NUX,p.photoID);return {posting:c('ReactComposerStore').isPosting(o),thumbSrc:s,showThumbnailNux:v,uploadIndex:r}}},componentDidMount:function n(){var o=c('ReactDOM').findDOMNode(this.refs.videoPlayer);if(this.state.thumbSrc===l)this._loadedmetadataListener=c('EventListener').listen(o,'loadedmetadata',this.generateVideoThumbnails);setTimeout(function(){var p=this.props.dragHandler;p&&p.add(c('ReactDOM').findDOMNode(this.refs.container))}.bind(this),0)},generateVideoThumbnails:function n(){var o=c('ReactDOM').findDOMNode(this.refs.videoPlayer);c('generateVideoThumbnails')(o,k,j,1).done(function(p){c('ReactComposerMediaUploadActions').setVideoThumbnail(this.context.composerID,this.props.uploadID,p.thumbnails[0].getURL())}.bind(this));c('generateVideoThumbnails')(o,c('VideoThumbnailDimensions').GENERATED_THUMBNAIL_WIDTH,c('VideoThumbnailDimensions').GENERATED_THUMBNAIL_HEIGHT,10,'contain').done(function(p){c('ReactComposerVideoXEditDialogActions').updateGeneratedThumbnails(p.thumbnails,this.context.composerID,this.props.uploadID)}.bind(this));if(o instanceof HTMLVideoElement)c('ReactComposerVideoXEditDialogActions').setVideoDimensions(o.videoWidth,o.videoHeight,this.context.composerID,this.props.uploadID);},componentWillUnmount:function n(){if(this._loadedmetadataListener){this._loadedmetadataListener.remove();this._loadedmetadataListener=null}setTimeout(function(){var o=this.props.dragHandler;o&&o.remove(c('ReactDOM').findDOMNode(this.refs.container))}.bind(this),0)},render:function n(){return c('React').createElement('div',null,c('React').createElement(c('ReactComposerVideoX.react'),{label:this.props.label,posting:this.state.posting,thumbSrc:this.state.thumbSrc,usingPlaceholderThumbnail:this.state.thumbSrc===l,onRemoveButtonClicked:this._onRemoveButtonClicked,composerID:this.context.composerID,uploadID:this.props.uploadID,uploadIndex:this.state.uploadIndex,isSpherical:this.props.isSpherical,videoID:this.props.photoID,showThumbnailNux:this.state.showThumbnailNux,videoURL:this.props.fileURL,allowTextOnThumbnail:this.props.allowTextOnThumbnail,ref:'container'}),this._getVideoElement())},_getVideoElement:function n(){return c('React').createElement('video',{ref:'videoPlayer',className:"_2mpk",src:this.props.fileURL})},_onRemoveButtonClicked:function n(){c('ReactComposerMediaUploadActions').removeMediaUpload(this.context.composerID,this.props.uploadID);c('ReactComposerVideoXEditDialogActions').removeDialogState(this.context.composerID,this.props.uploadID);var o=c('ReactComposerNUXStore').getNUXShownPhotoID(this.context.composerID,c('SimpleNUXMessageTypes').CUSTOM_PROFILE_VIDEO_THUMBNAILS_NUX);if(o==this.props.photoID)c('ReactComposerNUXActions').nuxWasHidden(this.context.composerID,c('SimpleNUXMessageTypes').CUSTOM_PROFILE_VIDEO_THUMBNAILS_NUX);}});f.exports=m}),null);
__d('ReactComposerVideoXUploadPlaceholder.react',['cx','CircularProgressBar.react','LoadingIndicator.react','ProgressBar.react','React','ReactComposerPhotoUploadState','XUICloseButton.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=null,n=null,o=null,p=this.props.uploadState,q=p===c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_UPLOADING,r=50*Math.log10(Math.max(1,parseInt(this.props.uploadProgress,10)));if(this.props.useRealProgressPercentage)r=parseFloat(this.props.uploadProgress);if(q){var s="_5t36"+(q?' '+"_5t3f":'');m=c('React').createElement(c('CircularProgressBar.react'),{percentComplete:r,className:s})}else{o=c('React').createElement(c('XUICloseButton.react'),{className:"_5t3o",onClick:this.props.onRemoveButtonClicked,size:'medium',shade:'dark'});n=c('React').createElement(c('LoadingIndicator.react'),{className:"_1b00",color:'white',size:'medium'})}return c('React').createElement('div',{className:"_5t3l"},o,m,n)};function l(){i.apply(this,arguments)}l.propTypes={onRemoveButtonClicked:k.func.isRequired,uploadID:k.string.isRequired,uploadState:k.oneOf(Object.keys(c('ReactComposerPhotoUploadState'))).isRequired,uploadProgress:k.number,canSeeCircularProgress:k.bool,useRealProgressPercentage:k.bool};f.exports=l}),null);
__d('ReactComposerVideoXUploadPlaceholderContainer.react',['React','ReactComponentWithPureRenderMixin','ReactComposerMediaUploadActions','ReactComposerMediaUploadStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerVideoXUploadPlaceholder.react'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerVideoXUploadPlaceholderContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerMediaUploadStore'))],propTypes:{uploadID:h.string.isRequired},statics:{calculateState:function j(k,l){var m=c('ReactComposerMediaUploadStore').getMediaUpload(k,l.uploadID);return {uploadProgress:m.progress,uploadState:m.state,useRealProgressPercentage:m.useRealProgressPercentage}}},render:function j(){return c('React').createElement(c('ReactComposerVideoXUploadPlaceholder.react'),babelHelpers['extends']({},this.props,this.state,{onRemoveButtonClicked:this._onRemoveButtonClicked}))},_onRemoveButtonClicked:function j(){c('ReactComposerMediaUploadActions').removeMediaUpload(this.context.composerID,this.props.uploadID)}});f.exports=i}),null);
__d('ReactComposerDraggableMedia.react',['cx','fbt','Draggable','React','ReactComponentWithPureRenderMixin','ReactComposerContextMixin','ReactComposerFailedPhotoUploadContainer.react','ReactComposerFailedVideoXUploadContainer.react','ReactComposerMediaUploadActions','ReactComposerMediaUploadType','ReactComposerPhotoActions','ReactComposerPhotoContainer.react','ReactComposerPhotoUploadPlaceholderContainer.react','ReactComposerPhotoUploadState','ReactComposerVideoXContainer.react','ReactComposerVideoXUploadPlaceholderContainer.react','ReactDOM','ReactLayeredComponentMixin_DEPRECATED','SimpleNUXMessage','SimpleNUXMessageTypes','Vector','XUIAmbientNUX.react','throttle'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=200,l=5,m=c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_DONE,n=c('React').createClass({displayName:'ReactComposerDraggableMedia',_draggable:undefined,_grabbed:undefined,_scrollParent:undefined,mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactLayeredComponentMixin_DEPRECATED')],propTypes:{enableFaceboxTagger:j.bool,productTaggerType:j.string,disablePhotoEditing:j.bool,mediaConfig:j.object.isRequired,upload:j.object.isRequired,nuxConfig:j.object.isRequired,showSphericalSingletonNux:j.bool,draggingPhotos:j.bool,enableMediaDragging:j.bool,disableRemovePhotos:j.bool,index:j.number,updateComponentPosition:j.func.isRequired,onGrab:j.func.isRequired,onDrag:j.func.isRequired,onDrop:j.func.isRequired},getInitialState:function o(){return {dragging:false,showSphericalSingletonNux:false}},componentWillReceiveProps:function o(p){if(this.props.index!==p.index&&p.index!==undefined)setTimeout(this._updateComponentPosition,0);if(!this.props.showSphericalSingletonNux&&p.showSphericalSingletonNux&&!c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').SPHERICAL_SINGLETON_NUX))this.setState({showSphericalSingletonNux:true});},componentDidUpdate:function o(p){if(this.props.enableMediaDragging&&p.upload.state!==m&&this.props.upload.state===m&&!this.props.disableRemovePhotos){this._createDraggable()}else if(p.upload.state===m&&this.props.upload.state!==m)this._draggable&&this._draggable.destroy();},componentDidMount:function o(){this._scrollParent=this._findScrollParent();if(this.props.enableMediaDragging&&this.props.upload.state===m&&!this.props.disableRemovePhotos)this._createDraggable();setTimeout(this._updateComponentPosition,0)},componentWillUnmount:function o(){this._draggable&&this._draggable.destroy()},render:function o(){var p=(this.state.dragging?"_2pkn":'')+(' '+"_2pko"),q=this.props.upload,r=!q.isSpherical&&q.photoID?q.photoID:q.id;return c('React').createElement('div',{className:p,key:r,onClick:this._onClick,ref:'draggable_media',role:'presentation'},this._getInnerMediaComponent())},renderLayers:function o(){return {sphericalSingletonNux:this._sphericalSingletonNux()}},_sphericalSingletonNux:function o(){if(!this.props.showSphericalSingletonNux)return null;return c('React').createElement(c('XUIAmbientNUX.react'),{alignment:'left',contextRef:function(){return this.refs.draggable_media}.bind(this),shown:this.state.showSphericalSingletonNux,position:'below',onCloseButtonClick:this._onSphericalSingletonNuxClose,width:'auto'},i._("Post this photo individually to view in 360\u00b0"))},_onSphericalSingletonNuxClose:function o(){this.setState({showSphericalSingletonNux:false});c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').SPHERICAL_SINGLETON_NUX)},_getInnerMediaComponent:function o(){if(this.props.upload.mediaType==c('ReactComposerMediaUploadType').VIDEO)return this._getInnerVideoComponent();return this._getInnerPhotoComponent()},_getInnerVideoComponent:function o(){var p=this.props.upload;if(p.state===m){var q=this._getDragHandler();return c('React').createElement('div',{'data-testid':'media-attachment-video'},c('React').createElement(c('ReactComposerVideoXContainer.react'),{isSpherical:p.isSphericalVideo,dragHandler:q,key:p.photoID,label:p.filename,photoID:p.photoID,uploadID:p.id,fileURL:p.fileURL,allowTextOnThumbnail:this.props.mediaConfig.allowTextOnVideoThumbnail}))}if(p.state===c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_FAILED)return c('React').createElement(c('ReactComposerFailedVideoXUploadContainer.react'),{key:p.id,error:p.error,filename:p.filename,uploadID:p.id});return c('React').createElement(c('ReactComposerVideoXUploadPlaceholderContainer.react'),{key:p.id,uploadID:p.id})},_getInnerPhotoComponent:function o(){var p=this.props.upload;if(p.state===c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_FAILED)return c('React').createElement(c('ReactComposerFailedPhotoUploadContainer.react'),{error:p.error,filename:p.filename,key:p.id,mediaConfig:this.props.mediaConfig,uploadID:p.id});if(p.state===m||p.isSpherical&&p.useLocalSphericalImage&&p.fileURL){var q=this._getDragHandler(),r=!p.isSpherical&&p.photoID?p.photoID:p.id;return c('React').createElement('div',{'data-testid':'media-attachment-photo'},c('React').createElement(c('ReactComposerPhotoContainer.react'),{canTagFromModal:this.props.mediaConfig.canTagFromModal,draggingPhotos:this.props.draggingPhotos,dragHandler:q,enableFaceboxTagger:this.props.enableFaceboxTagger,label:p.filename,productTaggerType:this.props.productTaggerType,disablePhotoEditing:this.props.disablePhotoEditing,disableRemovePhotos:this.props.disableRemovePhotos,key:r,nuxConfig:this.props.nuxConfig,originalID:p.originalPhotoID,photoID:p.photoID,showProductTaggerNux:this.props.nuxConfig.showProductPhotoTaggerNux&&this.props.index===0,index:this.props.index,sphericalPhotoID:p.sphericalPhotoID,uploadID:p.id,fileURL:p.fileURL,sphericalImage:p.sphericalImage,isSpherical:p.isSpherical,useLocalSphericalImage:p.useLocalSphericalImage}))}return c('React').createElement(c('ReactComposerPhotoUploadPlaceholderContainer.react'),{key:p.id,uploadID:p.id,fileURL:p.fileURL})},_getDragHandler:function o(){var p=this;return {add:function q(r){p._draggable&&p._draggable.addHandle(r)},remove:function q(r){p._draggable&&p._draggable.removeHandle(r)}}},_createDraggable:function o(){this._draggable=new (c('Draggable'))(c('ReactDOM').findDOMNode(this)).setNamespace('ReactComposer').setUseAbsolute(true).setAvoidKillingEvents(true).setGutter(l).setGrabHandler(this._onGrab).setDragHandler(c('throttle')(this._onDrag,k)).setDropHandler(this._onDrop);this._updateComponentPosition()},_updateComponentPosition:function o(){var p=c('ReactDOM').findDOMNode(this),q=c('Vector').getElementPosition(p);q=this._compensateForScroll(p,q);this.props.updateComponentPosition(this.props.upload.id||this.props.upload.photoID,q,c('Vector').getElementDimensions(p))},_compensateForScroll:function o(p,q){return this._scrollParent?q.add(this._scrollParent.scrollLeft,this._scrollParent.scrollTop):q},_findScrollParent:function o(){var p=c('ReactDOM').findDOMNode(this);if(p.closest){return p.closest('.fbScrollableAreaWrap')}else{var q=document.querySelectorAll('.fbScrollableAreaWrap');while(p&&p.nodeType===1){var r=0;while(q[r]){if(q[r]===p)return p;r++}p=p.parentNode}return null}},_onGrab:function o(){if(this.state.dragging)return;this._grabbed=true;var p=c('ReactDOM').findDOMNode(this);this.props.onGrab(this.props.upload.id||this.props.upload.photoID,p)},_onDrag:function o(p){if(!this._grabbed)return;this.setState({dragging:true});var q=c('ReactDOM').findDOMNode(this);p=this._compensateForScroll(q,p);this.props.onDrag(p)},_onDrop:function o(p){this._draggable&&this._draggable.resetPosition();this.setState({dragging:false});this._grabbed=false;var q=c('ReactComposerMediaUploadActions').mediaMoved,r=c('ReactDOM').findDOMNode(this);p=this._compensateForScroll(r,p);this.props.onDrop(p,q)},_onClick:function o(){c('ReactComposerPhotoActions').setPhotoBeingTagged(this.context.composerID,this.props.upload.photoID)}});f.exports=n}),null);
__d('ReactComposerGenericPhotoUploadLink.react',['cx','Link.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=c('joinClasses')("__9u",this.props.className);return c('React').createElement(c('Link.react'),{className:m},this.props.children)};function l(){'use strict';i.apply(this,arguments)}l.propTypes={className:k.string};l.defaultProps={className:"__9t"};f.exports=l}),null);
__d('ReactComposerMediaScrollableArea.react',['React','ReactComponentWithPureRenderMixin','ReactDOM','TimelineMapScrollableArea','joinClasses'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=h.oneOfType([h.string,h.number]),j=c('React').createClass({displayName:'ReactComposerMediaScrollableArea',_scrollableArea:c('TimelineMapScrollableArea'),mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{children:h.array.isRequired,getAddMoreDOM:h.func,height:i.isRequired,persistent:h.bool,photosCount:h.number,scrollbar:h.oneOf(['native','fade','nofade']).isRequired,verticalScroll:h.bool,width:i.isRequired},getDefaultProps:function k(){return {scrollbar:'native',width:'100%'}},componentDidMount:function k(){this._scrollableArea=new (c('TimelineMapScrollableArea'))(c('ReactDOM').findDOMNode(this.refs.container),{fade:this.props.scrollbar==='fade',persistent:this.props.persistent,verticalscroll:this.props.verticalScroll});this._scrollAddButtonIntoView()},componentDidUpdate:function k(l,m){if(this.props.photosCount>l.photosCount)this._scrollAddButtonIntoView();},componentWillUnmount:function k(){this._scrollableArea.destroy()},render:function k(){var l=c('joinClasses')(this.props.className,this.props.scrollbar),m={height:this.props.height,width:this.props.width},n=this.props.height-(this.props.scrollbar==='fade'?0:10),o={height:n};return c('React').createElement('div',{className:l,ref:'container'},c('React').createElement('div',{className:'fbScrollableArea',style:m},c('React').createElement('div',{className:'fbScrollableAreaWrap'},c('React').createElement('div',{className:'fbScrollableAreaBody',style:o},c('React').createElement('div',{className:'fbScrollableAreaContent'},this.props.children))),this._getTrack()))},_getTrack:function k(){if(this.props.scrollbar==='native')return null;return c('React').createElement('div',{className:'fbScrollableAreaTrack invisible_elem'},c('React').createElement('div',{className:'fbScrollableAreaGripper'}))},_scrollAddButtonIntoView:function k(){this.props.getAddMoreDOM&&this.props.getAddMoreDOM()&&this._scrollableArea.scrollIntoView(this.props.getAddMoreDOM())}});f.exports=j}),null);
__d('ReactComposerMediaUploadsGrid.react',['cx','fbt','FileInput.react','immutable','React','ReactComponentWithPureRenderMixin','ReactComposerContextMixin','ReactComposerDraggableMedia.react','ReactComposerGenericPhotoUploadLink.react','ReactComposerLoggingActions','ReactComposerLoggingName','ReactComposerMediaScrollableArea.react','ReactComposerMediaUtils','ReactDOM','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=112,l=c('React').createClass({displayName:'ReactComposerMediaUploadsGrid',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{enableFaceboxTagger:j.bool,productTaggerType:j.string,disablePhotoEditing:j.bool,disableRemovePhotos:j.bool,addMorePhotosConfig:j.shape({maxPhotos:j.number}).isRequired,mediaAcceptParam:j.string,mediaConfig:j.object.isRequired,nuxConfig:j.object.isRequired,onFilesSelected:j.func,canUploadMultiplePhotos:j.bool,uploads:j.instanceOf(c('immutable').List).isRequired,sphericalSingletonNuxUpload:j.object,onDrop:j.func,photoUploadLink:j.element,scrollableAreaHeight:j.number.isRequired,sourceIndex:j.number,targetIndex:j.number,updateComponentPosition:j.func.isRequired},getDefaultProps:function m(){return {addMorePhotosConfig:{},canUploadMultiplePhotos:false,photoUploadLink:c('React').createElement(c('ReactComposerGenericPhotoUploadLink.react'),null),scrollableAreaHeight:k,showSellUploadLink:false}},render:function m(){return c('React').createElement('div',{className:"_kkp"},c('React').createElement('div',{className:c('joinClasses')("_kkq",this.props.className)},c('React').createElement(c('ReactComposerMediaScrollableArea.react'),{fade:true,getAddMoreDOM:this._getAddMoreDOM,height:this.props.scrollableAreaHeight,photosCount:this.props.uploads.size,scrollbar:'fade',verticalScroll:true},this.props.children,this._getComponents(),this._getAddMorePhotosButton())))},_onAddMorePhotosClick:function m(){c('ReactComposerLoggingActions').mediaUploadInputClicked(this.context.composerID,c('ReactComposerLoggingName').MEDIA_UPLOADS_PLUS_BUTTON)},_onFilesSelected:function m(event){if(this.props.onFilesSelected){var n=this.props.onFilesSelected;n(event,this.refs.fileInput.getFileInput())}c('ReactComposerMediaUtils').clearInput(this.refs.fileInput.getFileInput(),true)},_getAddMorePhotosButton:function m(){if(!this.props.canUploadMultiplePhotos&&this.props.uploads.size>0)return null;if(this.props.addMorePhotosConfig.maxPhotos&&this.props.uploads.size>=this.props.addMorePhotosConfig.maxPhotos)return null;return c('React').createElement('span',{ref:'addMore',className:"_kkr"},c('React').createElement(c('FileInput.react'),{accept:this.props.mediaAcceptParam,multiple:this.props.canUploadMultiplePhotos,name:'composer_photo',onChange:this._onFilesSelected,onClick:this._onAddMorePhotosClick,ref:'fileInput',title:i._("Choose a file to upload"),'data-testid':'add-more-photos'},this.props.photoUploadLink))},_getComponents:function m(){var n=this.props.uploads.toSeq().filter(function(p,q){return q!==this.props.sourceIndex}.bind(this)).map(function(p,q){return this._getDraggablePhoto(p,q)}.bind(this));if(this.props.targetIndex!=null){var o=c('React').createElement('div',{key:'placeholder',className:"_kks"});n=n.splice(this.props.targetIndex,0,o)}if(this.props.sourceIndex!=null)n=n.splice(this.props.sourceIndex,0,this._getDraggablePhoto(this.props.uploads.get(this.props.sourceIndex)));return n.toArray()},_getDraggablePhoto:function m(n,o){return c('React').createElement(c('ReactComposerDraggableMedia.react'),{enableFaceboxTagger:this.props.enableFaceboxTagger,productTaggerType:this.props.productTaggerType,disablePhotoEditing:this.props.disablePhotoEditing,disableRemovePhotos:this.props.disableRemovePhotos,key:n.id,upload:n,nuxConfig:this.props.nuxConfig,showSphericalSingletonNux:n===this.props.sphericalSingletonNuxUpload,draggingPhotos:this.props.sourceIndex!=null,enableMediaDragging:true,index:o,mediaConfig:this.props.mediaConfig,updateComponentPosition:this.props.updateComponentPosition,onGrab:this.props.onGrab,onDrag:this.props.onDrag,onDrop:this.props.onDrop})},_getAddMoreDOM:function m(){return c('ReactDOM').findDOMNode(this.refs.addMore)}});f.exports=l}),null);
__d('ReactComposerMediaUploadsGridContainer.react',['Locale','React','ReactComponentWithPureRenderMixin','ReactComposerContextMixin','ReactComposerMediaUploadsGrid.react','ReactDOM','Rect','Vector'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerMediaUploadsGridContainer',_componentsPosition:{},mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{photoUploadLink:h.element,enableFaceboxTagger:h.bool,productTaggerType:h.string,disablePhotoEditing:h.bool,showSellUploadLink:h.bool,disableRemovePhotos:h.bool},getInitialState:function j(){return {rtl:c('Locale').isRTL(),sourceIndex:null,targetIndex:null,uploads:this.props.uploads,sphericalSingletonNuxUpload:null}},componentWillReceiveProps:function j(k){if(this.state.uploads!==k.uploads){var l=k.uploads.toSeq().filter(function(m){return m.canShowSphericalSingletonNux}).first();this.setState({uploads:k.uploads,sphericalSingletonNuxUpload:l})}},render:function j(){return c('React').createElement(c('ReactComposerMediaUploadsGrid.react'),babelHelpers['extends']({},this.props,{onGrab:this._onGrab,onDrag:this._onDrag,onDrop:this._onDrop,sourceIndex:this.state.sourceIndex,targetIndex:this.state.targetIndex,updateComponentPosition:this._updateComponentPosition,uploads:this.state.uploads,sphericalSingletonNuxUpload:this.state.sphericalSingletonNuxUpload}))},_onGrab:function j(k,l){var m=this.state.uploads.findIndex(function(n){return n.id===k});this.setState({sourceIndex:m,targetIndex:m})},_onDrag:function j(k){var l=c('Vector').getElementPosition(c('ReactDOM').findDOMNode(this));k=k.sub(l);this.setState({targetIndex:this._getTargetID(k)})},_onDrop:function j(k,l){this._onDrag(k);var m=this.state.sourceIndex,n=this.state.targetIndex;if(m==null||n==null)return;if(m!==n){var o=this.state.uploads;o=o.splice(m,1).splice(n,0,o.get(m));this.setState({uploads:o});l(this.context.composerID,m,n)}this._endDrag()},_endDrag:function j(){this.setState({sourceIndex:null,targetIndex:null})},_getTargetID:function j(k){var l=this.state.uploads,m=this.state.rtl?function(r,s){return r.right>=s.x}:function(r,s){return r.left<=s.x};for(var n=l.size-1;n>=0;n--){var o=l.get(n),p=o.id,q=this._componentsPosition[p];if(m(q,k))return n;}return 0},_updateComponentPosition:function j(k,l,m){var n=new (c('Rect'))(c('ReactDOM').findDOMNode(this));this._componentsPosition[k]={left:l.x-n.l,right:l.x-n.l+m.x}}});f.exports=i}),null);
__d('ReactComposerActivityTaggerButton.react',['cx','fbt','React','ReactComposerLoggingName','ReactComposerTaggerButtonMixin','ReactComposerTaggerType'],(function a(b,c,d,e,f,g,h,i){var j=c('React').createClass({displayName:'ReactComposerActivityTaggerButton',mixins:[c('ReactComposerTaggerButtonMixin')],statics:{taggerID:c('ReactComposerTaggerType').ACTIVITY,loggingName:c('ReactComposerLoggingName').MINUTIAE_TAGGER},getTitle:function k(){return i._("Add what you're doing or how you're feeling")},getTooltip:function k(){return i._("Add what you're doing or how you're feeling")},getClassName:function k(){return "_3tdo"}});f.exports=j}),null);
__d('ReactComposerActionTaggerItem.react',['cx','ImageBlock.react','React','TypeaheadViewItem','joinClasses'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerActionTaggerItem',mixins:[c('TypeaheadViewItem').Mixin],propTypes:babelHelpers['extends']({customIcon:i.object},c('TypeaheadViewItem').propTypes),render:function k(){var l=this.props.entry,m=l.getAuxiliaryData(),n=c('React').createElement('span',{dangerouslySetInnerHTML:m.icon||this.props.customIcon}),o="_599m"+(' '+"_5mne")+(this.props.highlighted?' '+"_599n":'')+(' '+"_18d1")+(this.props.highlighted?' '+"_18d2":'');o=c('joinClasses')(o,this.props.className);return c('React').createElement('li',{'aria-selected':this.props.highlighted,className:o,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},c('React').createElement(c('ImageBlock.react'),{spacing:'medium'},n,c('React').createElement('div',{className:"_599p"},l.getTitle())),c('React').createElement('i',{className:"_18d3"}))}});f.exports=j}),null);
__d('ReactComposerActionTaggerView.react',['React','ReactComposerActionTaggerItem.react','ReactComposerTaggerViewMixin'],(function a(b,c,d,e,f,g){var h=c('React').createClass({displayName:'ReactComposerActionTaggerView',mixins:[c('ReactComposerTaggerViewMixin')],getItemImpl:function i(){return c('ReactComposerActionTaggerItem.react')}});f.exports=h}),null);
__d('ReactComposerActionTaggerPresenter',['ReactComposerActionTaggerView.react'],(function a(b,c,d,e,f,g){f.exports={ViewRenderer:c('ReactComposerActionTaggerView.react'),useLayer:true,maxEntries:20}}),null);
__d('ReactComposerActionTaggerComponent.react',['cx','fbt','BasicTypeaheadLoggerJSConstants','DummySearchSource','React','ReactComposerActionTaggerPresenter','ReactComposerTaggerViewStyles','WebAsyncSearchSourceWithMetrics','XUITypeahead.react','emptyFunction'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('BasicTypeaheadLoggerJSConstants').Fields,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o){'use strict';k.constructor.call(this,o);this.$ReactComposerActionTaggerComponent1=function(p,event){var q={};q[l.SELECTED_ORIGINAL_ID]=p.getAuxiliaryData().original_id;q[l.PLACE_ID]=this.props.placeID;this.props.taggerSource.reportSelect(p.getUniqueID(),p.getType(),p.getOrder(),!!event&&event.button>=0,this.state.query,q);this.props.taggerSource.sessionEnd();this.setState({query:p.getTitle()});this.props.onSelect&&this.props.onSelect(p)}.bind(this);this.$ReactComposerActionTaggerComponent2=function(){this.setState({query:''});this.props.onSelect&&this.props.onSelect(null)}.bind(this);this.$ReactComposerActionTaggerComponent3=function(event){this.setState({query:event.target.value})}.bind(this);this.$ReactComposerActionTaggerComponent4=function(){this.props.taggerSource.sessionEnd()}.bind(this);this.$ReactComposerActionTaggerComponent5=function(){this.props.taggerSource.sessionStart()}.bind(this);this.$ReactComposerActionTaggerComponent6=function(p,q){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(p.map(function(r){return r.getUniqueID()}))}.bind(this);this.$ReactComposerActionTaggerComponent7=function(){this.props.taggerSource.reportRequestID(this.state.query)}.bind(this);o.taggerSource.sessionStart();this.state={query:''}}n.prototype.componentWillUnmount=function(){'use strict';this.props.taggerSource.sessionEnd()};n.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_3uco _5esl"},c('React').createElement(c('XUITypeahead.react'),{presenter:this.$ReactComposerActionTaggerComponent8(),focusedOnInit:this.props.autoFocus,showEntriesOnFocus:true,placeholder:i._("Choose a feeling or activity..."),className:"_5esx _3ucr",queryString:this.state.query,searchSource:this.props.taggerSource,highlightOnSelect:true,onSelectAttempt:this.$ReactComposerActionTaggerComponent1,onClear:this.$ReactComposerActionTaggerComponent2,onChange:this.$ReactComposerActionTaggerComponent3,onBlur:this.$ReactComposerActionTaggerComponent4,onFocus:this.$ReactComposerActionTaggerComponent5,onEntriesFound:this.$ReactComposerActionTaggerComponent6,onNoEntriesFound:this.$ReactComposerActionTaggerComponent7,tallInput:true,autoHighlight:true}))};n.prototype.$ReactComposerActionTaggerComponent8=function(){'use strict';var o={taggerViewStyle:this.props.taggerViewStyle};return Object.assign({},c('ReactComposerActionTaggerPresenter'),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:o})};n.propTypes={autoFocus:m.bool,onSelect:m.func,placeID:m.string,taggerSource:m.instanceOf(c('WebAsyncSearchSourceWithMetrics')).isRequired,taggerViewStyle:m.shape(c('ReactComposerTaggerViewStyles').Shape)};n.defaultProps={autoFocus:true,onSelect:c('emptyFunction'),taggerSource:new (c('DummySearchSource'))(),taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};f.exports=n}),null);
__d('ReactComposerObjectTaggerItem.react',['cx','BackgroundImage.react','Badge.react','ImageBlock.react','Locale','React','TypeaheadViewItem','UnicodeBidi','joinClasses'],(function a(b,c,d,e,f,g,h){var i=c('React').createClass({displayName:'ReactComposerObjectTaggerItem',mixins:[c('TypeaheadViewItem').Mixin],propTypes:c('TypeaheadViewItem').propTypes,render:function j(){var k=this.props.entry,l=k.getSubtitle()?c('React').createElement('div',{className:"_599q"},k.getSubtitle()):null,m=k.getPhoto()?c('React').createElement(c('BackgroundImage.react'),{width:32,height:32,backgroundSize:'cover',src:k.getPhoto()}):c('React').createElement('span',null),n=k.getAuxiliaryData(),o=n&&n.verified?(o=c('React').createElement(c('Badge.react'),null)):null,p=n&&n.icon?c('React').createElement('span',{className:"_mbq",dangerouslySetInnerHTML:n.icon}):null,q="_599m"+(!l?' '+"_5mne":'')+(this.props.highlighted?' '+"_599n":'');q=c('joinClasses')(q,this.props.className);var r=c('UnicodeBidi').isDirectionRTL(k.getTitle()),s=c('Locale').isRTL(),t=r&&!s?'rtl':!r&&s?'ltr':null;return c('React').createElement('li',{'aria-selected':this.props.highlighted,className:q,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},c('React').createElement(c('ImageBlock.react'),{spacing:'medium'},m,c('React').createElement('div',null,c('React').createElement('div',{className:"_599p",dir:t},k.getTitle(),o),l),p))}});f.exports=i}),null);
__d('ReactComposerObjectTaggerView.react',['React','ReactComposerActionTaggerItem.react','ReactComposerObjectTaggerItem.react','ReactComposerTaggerViewMixin'],(function a(b,c,d,e,f,g){var h=c('React').createClass({displayName:'ReactComposerObjectTaggerView',mixins:[c('ReactComposerTaggerViewMixin')],getItemImpl:function i(){return c('ReactComposerObjectTaggerItem.react')},getRegexItemImpl:function i(){return c('ReactComposerActionTaggerItem.react')}});f.exports=h}),null);
__d('ReactComposerObjectTaggerPresenter',['ReactComposerObjectTaggerView.react'],(function a(b,c,d,e,f,g){f.exports={ViewRenderer:c('ReactComposerObjectTaggerView.react'),useLayer:true,maxEntries:120}}),null);
__d('WebAsyncPlusRegexSearchSource',['invariant','AbstractSearchSource'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('AbstractSearchSource'));j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this);this.$WebAsyncPlusRegexSearchSource1=l.asyncSource;this.$WebAsyncPlusRegexSearchSource2=l.regexSource;this.$WebAsyncPlusRegexSearchSource3=!!l.appendRegexEntries;this.$WebAsyncPlusRegexSearchSource4=!!l.preferRegexEntries;!!this.$WebAsyncPlusRegexSearchSource1||h(0);!!this.$WebAsyncPlusRegexSearchSource2||h(0)}k.prototype.bootstrapImpl=function(l){'use strict';this.$WebAsyncPlusRegexSearchSource1.bootstrap(l)};k.prototype.$WebAsyncPlusRegexSearchSource5=function(l,m){'use strict';var n=[],o=false,p;for(var q=0;q<l.length;q++){p=l[q].getTitle();for(var r=0;r<m.length;r++)if(p===m[r].getTitle()){o=true;break}if(!o){n.push(l[q])}else o=false;}return n};k.prototype.searchImpl=function(l,m,n){'use strict';var o=this.$WebAsyncPlusRegexSearchSource1,p=this.$WebAsyncPlusRegexSearchSource3,q=this.$WebAsyncPlusRegexSearchSource4,r=this.$WebAsyncPlusRegexSearchSource5;this.$WebAsyncPlusRegexSearchSource2.search(l,function(s){m(s,l);o.search(l,function(t){var u=[],v=[];if(q){u=s;v=r(t,s)}else{v=t;u=r(s,t)}var w=p?v.concat(u):u.concat(v);m(w,l)},n)},n)};f.exports=k}),null);
__d('ReactComposerObjectTaggerComponent.react',['cx','DummySearchSource','Grid.react','ReactComposerObjectTaggerPresenter','ReactComposerTaggerViewStyles','React','RegexMatchSearchSource','BasicTypeaheadLoggerJSConstants','WebAsyncPlusRegexSearchSource','WebAsyncSearchSourceWithMetrics','XUITypeahead.react','emptyFunction'],(function a(b,c,d,e,f,g,h){var i,j,k=c('Grid.react').GridItem,l=c('BasicTypeaheadLoggerJSConstants').Fields,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(o){'use strict';j.constructor.call(this,o);this.$ReactComposerObjectTaggerComponent1=function(u,event){var v={};v[l.SELECTED_ORIGINAL_ID]=u.getAuxiliaryData().original_id;v[l.PLACE_ID]=this.props.placeID;this.props.taggerSource.reportSelect(u.getUniqueID(),u.getType(),u.getOrder(),!!event&&event.button>=0,this.state.query,v);this.props.taggerSource.sessionEnd();this.setState({query:u.getTitle()});this.props.onSelect(u)}.bind(this);this.$ReactComposerObjectTaggerComponent2=function(event){if(this.props.object&&this.props.object.getTitle()===event.target.value)this.props.onSelect(null);if(event.target.value==='')this.props.onEmptyBackspace();}.bind(this);this.$ReactComposerObjectTaggerComponent3=function(){this.setState({query:''});this.props.onClear()}.bind(this);this.$ReactComposerObjectTaggerComponent4=function(event){this.setState({query:event.target.value})}.bind(this);this.$ReactComposerObjectTaggerComponent5=function(){this.props.onPrefixClick()}.bind(this);this.$ReactComposerObjectTaggerComponent6=function(){this.props.taggerSource.sessionEnd()}.bind(this);this.$ReactComposerObjectTaggerComponent7=function(){setTimeout(function(){this.props.taggerSource.sessionStart()}.bind(this),0)}.bind(this);this.$ReactComposerObjectTaggerComponent8=function(u,v){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(u.map(function(w){return w.getUniqueID()}))}.bind(this);this.$ReactComposerObjectTaggerComponent9=function(){this.props.taggerSource.reportRequestID(this.state.query)}.bind(this);var p=o.taggerSource,q=o.action.getUniqueID(),r=o.actionTypeIDsWithNoFreeForm,s=!r[q];if(s){var t=new (c('RegexMatchSearchSource'))('.+');p=new (c('WebAsyncPlusRegexSearchSource'))({asyncSource:p,regexSource:t,appendRegexEntries:true})}setTimeout(function(){o.taggerSource.sessionStart()},0);this.state={query:o.object?o.object.getTitle():'',searchSource:p}}n.prototype.componentWillUnmount=function(){'use strict';this.props.taggerSource.sessionEnd()};n.prototype.focusInput=function(){'use strict';var o=this.refs.objectTypeahead;if(o)o.focusInput&&o.focusInput();};n.prototype.render=function(){'use strict';var o=this.props.action.getAuxiliaryData(),p=o?o.prompt:'';return c('React').createElement(c('Grid.react'),{cols:2,className:"_5esl",role:'presentation'},c('React').createElement(k,{className:"_5esm _4zdy",key:'prefix',role:'presentation',onClick:this.$ReactComposerObjectTaggerComponent5},this.props.action.getTitle()),c('React').createElement(k,{className:"_5esw",key:'suffix',role:'presentation'},c('React').createElement(c('XUITypeahead.react'),{ref:'objectTypeahead',presenter:this.$ReactComposerObjectTaggerComponent10(),clearable:true,focusedOnInit:this.props.autoFocus,autoHighlight:true,showEntriesOnFocus:true,placeholder:p,selectedEntry:this.props.object,className:"_5esx _4zdz",queryString:this.state.query,searchSource:this.state.searchSource,highlightOnSelect:true,onSelectAttempt:this.$ReactComposerObjectTaggerComponent1,onBackspace:this.$ReactComposerObjectTaggerComponent2,onClear:this.$ReactComposerObjectTaggerComponent3,onChange:this.$ReactComposerObjectTaggerComponent4,onBlur:this.$ReactComposerObjectTaggerComponent6,onEntriesFound:this.$ReactComposerObjectTaggerComponent8,onNoEntriesFound:this.$ReactComposerObjectTaggerComponent9,onFocus:this.$ReactComposerObjectTaggerComponent7,tallInput:false})))};n.prototype.$ReactComposerObjectTaggerComponent10=function(){'use strict';var o={};o.taggerViewStyle=this.props.taggerViewStyle;o.customIcon=this.props.action.getAuxiliaryData().icon;return Object.assign({},c('ReactComposerObjectTaggerPresenter'),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:o})};n.propTypes={action:m.object.isRequired,actionTypeIDsWithNoFreeForm:m.object.isRequired,autoFocus:m.bool,object:m.object,onClear:m.func.isRequired,onEmptyBackspace:m.func.isRequired,onPrefixClick:m.func.isRequired,onSelect:m.func.isRequired,placeID:m.string,taggerSource:m.instanceOf(c('WebAsyncSearchSourceWithMetrics')).isRequired,taggerViewStyle:m.shape(c('ReactComposerTaggerViewStyles').Shape)};n.defaultProps={actionTypeIDsWithNoFreeForm:{},autoFocus:true,onClear:c('emptyFunction'),onEmptyBackspace:c('emptyFunction'),onPrefixClick:c('emptyFunction'),onSelect:c('emptyFunction'),taggerSource:new (c('DummySearchSource'))(),taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};f.exports=n}),null);
__d('ReactComposerObjectTaggerContainer.react',['React','ReactComposerObjectTaggerComponent.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerTaggerViewStyles','emptyFunction'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerObjectTaggerContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerTaggerStore'))],propTypes:{action:h.object.isRequired,autoFocus:h.bool,onClear:h.func.isRequired,onEmptyBackspace:h.func.isRequired,onPrefixClick:h.func.isRequired,onSelect:h.func.isRequired,object:h.object,taggerViewStyle:h.shape(c('ReactComposerTaggerViewStyles').Shape)},getDefaultProps:function j(){return {autoFocus:true,onClear:c('emptyFunction'),onEmptyBackspace:c('emptyFunction'),onPrefixClick:c('emptyFunction'),onSelect:c('emptyFunction'),taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT}},statics:{calculateState:function j(k,l){var m=c('ReactComposerTaggerStore').getTaggerSource(k,c('ReactComposerTaggerType').OG);return {taggerSource:m}}},render:function j(){return c('React').createElement(c('ReactComposerObjectTaggerComponent.react'),babelHelpers['extends']({ref:'objectTagger'},this.props,{taggerSource:this.state.taggerSource}))},focusInput:function j(){var k=this.refs.objectTagger;k&&k.focusInput()}});f.exports=i}),null);
__d('ReactComposerActivityTaggerComponent.react',['DummySearchSource','React','ReactComposerActionTaggerComponent.react','ReactComposerObjectTaggerContainer.react','ReactComposerTaggerViewStyles','WebAsyncSearchSourceWithMetrics','emptyFunction'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={action:this.props.taggerData.action,object:this.props.taggerData.object},this.$ReactComposerActivityTaggerComponent3=function(q){this.props.onSelect&&this.props.onSelect(this.getTaggerData(q,null));this.setState({action:q})}.bind(this),this.$ReactComposerActivityTaggerComponent2=function(q){this.props.onSelect&&this.props.onSelect(this.getTaggerData(this.state.action,q));this.setState({object:q})}.bind(this),this.$ReactComposerActivityTaggerComponent1=function(){this.props.onSelect&&this.props.onSelect(this.getTaggerData(null,null));this.setState({action:null,object:null})}.bind(this),m}k.prototype.componentDidUpdate=function(){'use strict';if(this.state.action&&!this.state.object){var l=this.refs.objectTagger;l&&l.focusInput()}};k.prototype.componentWillUnmount=function(){'use strict';if(this.state.action&&!this.state.object)this.$ReactComposerActivityTaggerComponent1();};k.prototype.render=function(){'use strict';if(this.state.action)return c('React').createElement(c('ReactComposerObjectTaggerContainer.react'),{ref:'objectTagger',action:this.state.action,actionTypeIDsWithNoFreeForm:this.props.actionTypeIDsWithNoFreeForm,autoFocus:this.props.autoFocus,layerPosition:this.props.layerPosition,object:this.state.object,onClear:this.$ReactComposerActivityTaggerComponent1,onEmptyBackspace:this.$ReactComposerActivityTaggerComponent1,onPrefixClick:this.$ReactComposerActivityTaggerComponent1,onSelect:this.$ReactComposerActivityTaggerComponent2,placeID:this.props.placeID,taggerViewStyle:this.props.objectTaggerViewStyle});return c('React').createElement(c('ReactComposerActionTaggerComponent.react'),{autoFocus:this.props.autoFocus,layerPosition:this.props.layerPosition,onSelect:this.$ReactComposerActivityTaggerComponent3,placeID:this.props.placeID,taggerSource:this.props.taggerSource,taggerViewStyle:this.props.actionTaggerViewStyle})};k.prototype.getTaggerData=function(l,m){'use strict';var n=this.props.taggerData;n.action=l;n.object=m;return n};k.propTypes={actionTypeIDsWithNoFreeForm:j.object.isRequired,actorID:j.string.isRequired,autoFocus:j.bool,placeID:j.string,taggerData:j.object.isRequired,taggerSource:j.instanceOf(c('WebAsyncSearchSourceWithMetrics')).isRequired,onSelect:j.func.isRequired,actionTaggerViewStyle:j.shape(c('ReactComposerTaggerViewStyles').Shape),objectTaggerViewStyle:j.shape(c('ReactComposerTaggerViewStyles').Shape)};k.defaultProps={actionTypeIDsWithNoFreeForm:{},autoFocus:true,taggerData:{},taggerSource:new (c('DummySearchSource'))(),onSelect:c('emptyFunction'),actionTaggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT,objectTaggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};f.exports=k}),null);
__d('ReactComposerActivityTaggerContainer.react',['Arbiter','BasicTypeaheadLoggerJSConstants','Map','MinutiaeVerbs','React','ReactComposerActivityTaggerComponent.react','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerEvents','ReactComposerLocationAttachmentActions','ReactComposerLoggingName','ReactComposerMinutiaeAttachmentActions','ReactComposerTaggerActions','ReactComposerTaggerContainerMixin','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerTaggerViewStyles','ReactComposerTypeaheadSearchSourceConfig','ReactComposerTypeaheadSearchSourceType','WebAsyncSearchSourceWithMetrics','getObjectValues'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerActivityTaggerContainer',_actionTypeSearchSources:new (c('Map'))(),_objectSearchSources:new (c('Map'))(),_searchSourceConfig:null,mixins:[c('ReactComposerTaggerContainerMixin')()],statics:{taggerID:c('ReactComposerTaggerType').ACTIVITY,loggingName:c('ReactComposerLoggingName').MINUTIAE_TAGGER,taggerComponent:c('ReactComposerActivityTaggerComponent.react'),enableHideOnEscape:true,webDriverTestID:'activity-tagger-component'},propTypes:{actionTypeIDsToPrefetch:h.array.isRequired,actionTypeIDsWithNoFreeForm:h.object.isRequired,isPersonalTimeline:h.bool,rankVerbs:h.bool,placeID:h.string,typeaheadLoggerEventName:h.oneOf(c('getObjectValues')(c('BasicTypeaheadLoggerJSConstants').EventNames)).isRequired,actionTaggerViewStyle:h.shape(c('ReactComposerTaggerViewStyles').Shape),objectTaggerViewStyle:h.shape(c('ReactComposerTaggerViewStyles').Shape)},getDefaultProps:function j(){return {actionTypeIDsToPrefetch:[],actionTypeIDsWithNoFreeForm:{},isPersonalTimeline:false,placeID:null,rankVerbs:false,actionTaggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT,objectTaggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT}},getInitialState:function j(){return {hasDoneInitialObjectPrefetch:false}},componentWillMount:function j(){this._searchSourceConfig=c('ReactComposerTypeaheadSearchSourceConfig')[c('ReactComposerTypeaheadSearchSourceType').ACTIVITY];this._updateActionTypeSearchSource(this.props.placeID);this.state.taggerData&&this.__onTaggerDataChanged(this.state.taggerData)},componentWillReceiveProps:function j(k){if(k.placeID!==this.props.placeID){this._updateActionTypeSearchSource(k.placeID);this._prefetchObjectSearchSources(k.placeID)}},componentWillUpdate:function j(k,l){if(!this.state.isSelected&&l.isSelected){var m=this._actionTypeSearchSources.get(this.props.placeID).getTypeaheadSessionID();this._createAndBootstrapActionTypeSearchSource(this.props.placeID,{sid:m});var n=this.state.hasDoneInitialObjectPrefetch||l.hasDoneInitialObjectPrefetch;if(!n)this._prefetchObjectSearchSources(this.props.placeID);var o=l.taggerData;if(o.action)this._updateObjectSearchSource(o.action.getUniqueID());}this._updateEligibility()},_suppressUpdateLogging:function j(k){return k.action&&!k.object},__onTaggerDataChanged:function j(k){if(k.action){this._updateObjectSearchSource(k.action.getUniqueID());if(!k.object){var l=this._objectSearchSources.get(k.action.getUniqueID()).getTypeaheadSessionID();this._createAndBootstrapObjectSearchSource(k.action.getUniqueID(),this.props.placeID,{sid:l})}}if(k.action&&k.object){c('ReactComposerTaggerActions').deselectCurrentTagger(this.context.composerID,this.constructor.loggingName);var m=this._shouldFetchMinutiaeAttachment(k.action,k.object);if(k.shouldRemoveDefaultAttachment)m=false;if(m){if(k.action.getUniqueID()==c('MinutiaeVerbs').COMPOSER_TRAVELS.toString()){c('ReactComposerLocationAttachmentActions').setMinutiaeActionContext(this.context.composerID,k.object.getUniqueID(),!!this.props.isPersonalTimeline)}else this._clearMinutiaeLocation();c('ReactComposerMinutiaeAttachmentActions').fetchMinutiaeAttachment(this.context.composerID,k.action.getUniqueID(),k.object.getUniqueID(),this.context.targetID,this.context.actorID,!!this.props.isPersonalTimeline);setTimeout(function(){c('Arbiter').inform(c('ReactComposerEvents').ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this),0)}}else{c('ReactComposerMinutiaeAttachmentActions').setMarkup(this.context.composerID,null);this._clearMinutiaeLocation()}},_clearMinutiaeLocation:function j(){c('ReactComposerLocationAttachmentActions').setMinutiaeActionContext(this.context.composerID,null,!!this.props.isPersonalTimeline)},_shouldFetchMinutiaeAttachment:function j(k,l){var m=c('ReactComposerAttachmentStore').getIsAttachmentSelected(this.context.composerID,c('ReactComposerAttachmentType').STATUS);if(!m)return false;if(l.getAuxiliaryData().isRegexEntry)return false;return true},_updateActionTypeSearchSource:function j(k){var l=null;if(this._actionTypeSearchSources.has(k)){l=this._actionTypeSearchSources.get(k)}else{l=this._createAndBootstrapActionTypeSearchSource(k,{is_prefetching:true});this._actionTypeSearchSources.set(k,l)}c('ReactComposerTaggerActions').setTaggerSource(this.context.composerID,c('ReactComposerTaggerType').ACTIVITY,l)},_createAndBootstrapActionTypeSearchSource:function j(k,l){var m='/ajax/metacomposer/attachment/og/typeahead/bootstrap/action_type_loader',n={place_id:k,rank_verbs:this.props.rankVerbs,viewer:this.props.actorID},o={getAllForEmptyQuery:true,bootstrapRequests:[{uri:m,data:Object.assign({},n)}],queryRequests:[],auxiliaryFields:this._searchSourceConfig.action&&this._searchSourceConfig.action.auxiliaryFields};if(this.props.rankVerbs)o.queryRequests=[{uri:m,data:Object.assign({},n)}];var p={event_name:this.props.typeaheadLoggerEventName,minutiae_composer_version:c('BasicTypeaheadLoggerJSConstants').MinutiaeComposerVersions.REACT,at_id:c('MinutiaeVerbs').COMPOSER_SELECTS_VERB},q=new (c('WebAsyncSearchSourceWithMetrics'))(o,p),r=q.getTypeaheadSessionID();q.setRequestData(l);q.bootstrap();q.setRequestData({sid:r});return q},_prefetchObjectSearchSources:function j(k){var l=this.props.actionTypeIDsToPrefetch,m=new (c('Map'))();l.forEach(function(n){var o=this._createAndBootstrapObjectSearchSource(n,k,{is_prefetching:true});m.set(n,o)}.bind(this));this._objectSearchSources=m;this.setState({hasDoneInitialObjectPrefetch:true})},_updateObjectSearchSource:function j(k){var l=null;if(this._objectSearchSources.has(k)){l=this._objectSearchSources.get(k)}else{l=this._createAndBootstrapObjectSearchSource(k,this.props.placeID,{is_prefetching:false});this._objectSearchSources.set(k,l)}c('ReactComposerTaggerActions').setTaggerSource(this.context.composerID,c('ReactComposerTaggerType').OG,l)},_createAndBootstrapObjectSearchSource:function j(k,l,m){var n='/ajax/metacomposer/attachment/og/typeahead/query/object_loader',o={at_id:k,place_id:l,viewer:this.props.actorID},p={getAllForEmptyQuery:true,bootstrapRequests:[{uri:n,data:Object.assign({},o,{is_bootstrap:true})}],queryRequests:[{uri:n,data:Object.assign({},o,{is_bootstrap:false})}],auxiliaryFields:this._searchSourceConfig.object&&this._searchSourceConfig.object.auxiliaryFields},q={event_name:this.props.typeaheadLoggerEventName,minutiae_composer_version:c('BasicTypeaheadLoggerJSConstants').MinutiaeComposerVersions.REACT,at_id:k},r=new (c('WebAsyncSearchSourceWithMetrics'))(p,q),s=r.getTypeaheadSessionID();r.setRequestData(m);r.bootstrap();r.setRequestData({sid:s});return r},_updateEligibility:function j(){var k=c('ReactComposerTaggerStore').getTaggerData(this.context.composerID,c('ReactComposerTaggerType').CONTACT_YOUR_REPRESENTATIVE),l=!!k.politicalRepresentative,m=c('ReactComposerTaggerStore').isDisabled(this.context.composerID,c('ReactComposerTaggerType').ACTIVITY);if(m!==l)c('ReactComposerTaggerActions').setDisabled(this.context.composerID,c('ReactComposerTaggerType').ACTIVITY,l);}});f.exports=i}),null);
__d('ReactComposerAlbumTaggerButton.react',['cx','fbt','React','ReactComposerLoggingName','ReactComposerTaggerButtonMixin','ReactComposerTaggerType'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerAlbumTaggerButton',mixins:[c('ReactComposerTaggerButtonMixin')],propTypes:{hasData:j.bool},statics:{taggerID:c('ReactComposerTaggerType').ALBUM,loggingName:c('ReactComposerLoggingName').ALBUM_TAGGER,suppressTaggerLink:true},getTitle:function l(){return i._("Add your post to an album")},getTooltip:function l(){return i._("Pick an album")},getClassName:function l(){return "_3c57"+(this.props.hasData?' '+"_6xe":'')}});f.exports=k}),null);
__d('ReactComposerAlbumTaggerButtonContainer.react',['React','ReactComposerAlbumTaggerButton.react','ReactComposerAudienceStore','ReactComposerPropsAndStoreBasedStateMixin'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').createClass({displayName:'ReactComposerAlbumTaggerButtonContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAudienceStore'))],statics:{calculateState:function i(j,k){var l=c('ReactComposerAudienceStore').getCollectionID(j);return {hasSelectedAlbum:l!==null}}},render:function i(){return c('React').createElement(c('ReactComposerAlbumTaggerButton.react'),{hasData:this.state.hasSelectedAlbum})}});f.exports=h}),null);
__d('ReactComposerImplicitLocationComponent.react',['cx','React','XUICloseButton.react','emptyFunction'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerImplicitLocationComponent',propTypes:{caption:i.string.isRequired,hasExplicitLocation:i.bool,onClear:i.func},defaultProps:{onClear:c('emptyFunction')},render:function k(){if(!this.props.caption)return c('React').createElement('noscript',null);var l=this.props.hasExplicitLocation?null:c('React').createElement(c('XUICloseButton.react'),{className:"_3s32",size:'small',onClick:this._onClear}),m="_3s33"+(this.props.hasExplicitLocation?' '+"_3s34":'');return c('React').createElement('span',{className:m},c('React').createElement('span',null,this.props.caption.split(',')[0]),l)},_onClear:function k(event){event.stopPropagation();this.props.onClear&&this.props.onClear()}});f.exports=j}),null);
__d('ReactComposerImplicitLocationContainer.react',['AsyncRequest','React','ReactComposerImplicitLocationComponent.react','ReactComposerLoggingName','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','URI'],(function a(b,c,d,e,f,g){var h=c('React').createClass({displayName:'ReactComposerImplicitLocationContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerTaggerStore'))],statics:{calculateState:function i(j,k){var l=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').LOCATION)||{},m=l.implicitLocation||{};return {caption:m.citystring,hasExplicitLocation:!!l.place}}},render:function i(){if(!this.state.caption)return c('React').createElement('noscript',null);return c('React').createElement(c('ReactComposerImplicitLocationComponent.react'),babelHelpers['extends']({},this.state,{onClear:this._onClear}))},_onClear:function i(){var j=c('ReactComposerTaggerStore').getTaggerData(this.context.composerID,c('ReactComposerTaggerType').LOCATION)||{};j.implicitLocation=null;c('ReactComposerTaggerActions').setTaggerData(this.context.composerID,c('ReactComposerLoggingName').LOCATION_TAGGER,c('ReactComposerTaggerType').LOCATION,j);var k=new (c('URI'))('/ajax/places/toggle_location_sharing').addQueryData({disable:1,session_id:j.sessionID});new (c('AsyncRequest'))(k).send()}});f.exports=h}),null);
__d('ReactComposerLocationTaggerButton.react',['cx','fbt','React','ReactComposerLoggingName','ReactComposerTaggerButtonMixin','ReactComposerTaggerType'],(function a(b,c,d,e,f,g,h,i){var j=c('React').createClass({displayName:'ReactComposerLocationTaggerButton',mixins:[c('ReactComposerTaggerButtonMixin')],statics:{taggerID:c('ReactComposerTaggerType').LOCATION,loggingName:c('ReactComposerLoggingName').LOCATION_TAGGER},getTitle:function k(){return i._("Tag a location")},getTooltip:function k(){return i._("Check In")},getClassName:function k(){return "_3gqo"}});f.exports=j}),null);
__d('ReactComposerLocationTypeaheadComponent.react',['fbt','React','WebAsyncSearchSourceWithMetrics','XUITypeahead.react','emptyFunction'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){'use strict';j.constructor.call(this,m);this.$ReactComposerLocationTypeaheadComponent9=function(){return Object.assign({},this.props.taggerData)}.bind(this);this.$ReactComposerLocationTypeaheadComponent8=function(o,event){this.props.taggerSource.reportSelect(o.getUniqueID(),o.getType(),o.getOrder(),!!event&&event.button>=0,this.state.query);this.props.taggerSource.sessionEnd();var p=this.$ReactComposerLocationTypeaheadComponent9();p.place=o;this.setState({query:o.getTitle()});this.props.onSelect&&this.props.onSelect(p)}.bind(this);this.$ReactComposerLocationTypeaheadComponent3=function(event){this.setState({query:event.target.value})}.bind(this);this.$ReactComposerLocationTypeaheadComponent1=function(event){if(this.state.query===event.target.value)this.$ReactComposerLocationTypeaheadComponent10();}.bind(this);this.$ReactComposerLocationTypeaheadComponent4=function(){this.$ReactComposerLocationTypeaheadComponent10();this.setState({query:''})}.bind(this);this.$ReactComposerLocationTypeaheadComponent10=function(){var o=this.$ReactComposerLocationTypeaheadComponent9();o.place=null;if(!this.props.implicitLocationEnabled)o.implicitLocation=null;this.props.onSelect&&this.props.onSelect(o)}.bind(this);this.$ReactComposerLocationTypeaheadComponent2=function(){this.props.taggerSource.sessionEnd()}.bind(this);this.$ReactComposerLocationTypeaheadComponent6=function(){this.props.taggerSource.sessionStart()}.bind(this);this.$ReactComposerLocationTypeaheadComponent5=function(o,p){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(o.map(function(q){return q.getUniqueID()}))}.bind(this);this.$ReactComposerLocationTypeaheadComponent7=function(){this.props.taggerSource.reportRequestID(this.state.query)}.bind(this);m.taggerSource.sessionStart();var n={};if(m.defaultLocation){n.query=m.defaultLocation}else n.query=m.taggerData.place?m.taggerData.place.getTitle():'';this.state=n}l.prototype.componentWillUnmount=function(){'use strict';this.props.taggerSource.sessionEnd()};l.prototype.render=function(){'use strict';return c('React').createElement(c('XUITypeahead.react'),{className:this.props.className,clearable:true,focusedOnInit:this.props.autoFocus,highlightOnSelect:true,initialEntry:this.props.taggerData.place,onBackspace:this.$ReactComposerLocationTypeaheadComponent1,onBlur:this.$ReactComposerLocationTypeaheadComponent2,onChange:this.$ReactComposerLocationTypeaheadComponent3,onClear:this.$ReactComposerLocationTypeaheadComponent4,onEntriesFound:this.$ReactComposerLocationTypeaheadComponent5,onFocus:this.$ReactComposerLocationTypeaheadComponent6,onNoEntriesFound:this.$ReactComposerLocationTypeaheadComponent7,onSelectAttempt:this.$ReactComposerLocationTypeaheadComponent8,placeholder:this.props.placeholder,presenter:this.props.presenter,queryString:this.state.query,searchSource:this.props.taggerSource,selectedEntry:this.props.taggerData.place,showEntriesOnFocus:true,tallInput:false})};l.propTypes={autoFocus:k.bool,defaultLocation:k.string,implicitLocationEnabled:k.bool,onSelect:k.func,placeholder:k.string,presenter:k.object,taggerData:k.object.isRequired,taggerSource:k.instanceOf(c('WebAsyncSearchSourceWithMetrics')).isRequired};l.defaultProps={autoFocus:true,implicitLocationEnabled:false,onSelect:c('emptyFunction'),placeholder:h._("Where are you?"),taggerData:{}};f.exports=l}),null);
__d('ReactComposerLocationTaggerComponent.react',['cx','fbt','Grid.react','ReactComposerLocationTypeaheadComponent.react','ReactComposerTaggerPresenter','ReactComposerTaggerViewStyles','React','WebAsyncSearchSourceWithMetrics'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('Grid.react').GridItem,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.prototype.render=function(){'use strict';return c('React').createElement(c('Grid.react'),{cols:2,className:"_5esl",role:'presentation'},c('React').createElement(l,{key:'prefix',className:"_5esm",role:'presentation'},i._("At")),c('React').createElement(l,{key:'tagger',className:"_5esw",role:'presentation'},c('React').createElement(c('ReactComposerLocationTypeaheadComponent.react'),babelHelpers['extends']({},this.props,{className:"_5esx _1wqz",presenter:this.$ReactComposerLocationTaggerComponent1()}))))};n.prototype.$ReactComposerLocationTaggerComponent1=function(){'use strict';var o={taggerViewStyle:this.props.taggerViewStyle};return Object.assign({},c('ReactComposerTaggerPresenter'),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:o,maxEntries:15})};function n(){'use strict';j.apply(this,arguments)}n.propTypes={autoFocus:m.bool,implicitLocationEnabled:m.bool,onSelect:m.func,placeholder:m.string,taggerData:m.object.isRequired,taggerSource:m.instanceOf(c('WebAsyncSearchSourceWithMetrics')).isRequired,taggerViewStyle:m.shape(c('ReactComposerTaggerViewStyles').Shape)};n.defaultProps={taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};f.exports=n}),null);
__d('ReactComposerLocationTaggerContainer.react',['BasicTypeaheadLoggerJSConstants','MinutiaeVerbs','PlaceSearchConstants','React','ReactComposerLocationAttachmentActions','ReactComposerLocationAttachmentStore','ReactComposerLocationSearchSource','ReactComposerLocationTaggerComponent.react','ReactComposerLoggingName','ReactComposerMinutiaeAttachmentActions','ReactComposerTaggerActions','ReactComposerTaggerContainerMixin','ReactComposerTaggerType','ReactComposerTaggerViewStyles','areEqual','emptyFunction','getObjectValues'],(function a(b,c,d,e,f,g){var h=c('BasicTypeaheadLoggerJSConstants').EventNames,i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerLocationTaggerContainer',_taggerSourceInitialized:false,mixins:[c('ReactComposerTaggerContainerMixin')()],propTypes:{hideGeoHubs:i.bool,implicitLocationEnabled:i.bool,mediaLocation:i.shape({latitude:i.number.isRequired,longitude:i.number.isRequired}),onSelect:i.func.isRequired,taggerConfig:i.object,taggerViewStyle:i.shape(c('ReactComposerTaggerViewStyles').Shape),typeaheadLoggerEventName:i.oneOf(c('getObjectValues')(h)).isRequired,typeaheadSearchSource:i.oneOf(c('getObjectValues')(c('PlaceSearchConstants'))).isRequired},getDefaultProps:function k(){return {hideGeoHubs:false,onSelect:c('emptyFunction'),taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT}},componentWillMount:function k(){if(!this._taggerSourceInitialized){this._setNewSearchSource(this.props);this._taggerSourceInitialized=true;this.state.taggerData&&this.__onTaggerDataChanged(this.state.taggerData)}},componentWillReceiveProps:function k(l){if(!c('areEqual')(l.mediaLocation,this.props.mediaLocation))this._setNewSearchSource(l);},statics:{taggerID:c('ReactComposerTaggerType').LOCATION,loggingName:c('ReactComposerLoggingName').LOCATION_TAGGER,taggerComponent:c('ReactComposerLocationTaggerComponent.react'),enableHideOnEscape:true},__onTaggerDataChanged:function k(l){var m=l.place&&l.place.getAuxiliaryData();if(m)l.implicitLocation={cityid:m.cityID,citypageid:m.cityPageID,citystring:m.cityName};var n=c('ReactComposerLocationAttachmentStore').getMinutiaeTaggedPlace(this.context.composerID),o=c('ReactComposerLocationAttachmentStore').getIsTimeline(this.context.composerID),p=function q(r,s,t,u){c('ReactComposerMinutiaeAttachmentActions').setExplicitLocation(r,t);if(n)c('ReactComposerMinutiaeAttachmentActions').fetchMinutiaeAttachment(r,c('MinutiaeVerbs').COMPOSER_TRAVELS.toString(),n,s,u,o);};if(l.place){p(this.context.composerID,this.context.targetID,l.place.getUniqueID(),this.context.actorID);c('ReactComposerTaggerActions').deselectCurrentTagger(this.context.composerID,this.constructor.loggingName);c('ReactComposerLocationAttachmentActions').fetchLocationAttachment(this.context.composerID,l.place.getUniqueID(),this.context.targetID)}else{p(this.context.composerID,this.context.targetID,null,this.context.actorID);c('ReactComposerLocationAttachmentActions').setMarkup(this.context.composerID,null)}},_setNewSearchSource:function k(l){var m={latitude:(l.mediaLocation||{}).latitude,longitude:(l.mediaLocation||{}).longitude},n={hide_geo:l.hideGeoHubs,latitude:(l.mediaLocation||{}).latitude,longitude:(l.mediaLocation||{}).longitude},o={event_name:l.typeaheadLoggerEventName,event_specific_data:{context:'places_typeahead:'+l.typeaheadSearchSource,source:l.typeaheadSearchSource,ref:'ReactComposerLocationTypeaheadComponent.react'}},p=c('ReactComposerLocationSearchSource')(m,n,o);c('ReactComposerTaggerActions').setTaggerSource(this.context.composerID,c('ReactComposerTaggerType').LOCATION,p)}});f.exports=j}),null);
__d('ReactComposerPeopleTaggerButton.react',['cx','fbt','React','ReactComposerLoggingName','ReactComposerTaggerButtonMixin','ReactComposerTaggerType','CurrentUser'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerPeopleTaggerButton',mixins:[c('ReactComposerTaggerButtonMixin')],propTypes:{isMultiCompanyGroup:j.bool},statics:{taggerID:c('ReactComposerTaggerType').PEOPLE,loggingName:c('ReactComposerLoggingName').PEOPLE_TAGGER},getTitle:function l(){if(c('CurrentUser').isWorkUser()&&!this.props.isMultiCompanyGroup)return i._("Tag colleagues");return i._("Tag people")},getTooltip:function l(){if(c('CurrentUser').isWorkUser()&&!this.props.isMultiCompanyGroup)return i._("Tag colleagues in your post");return i._("Tag people in your post")},getClassName:function l(){return "_51y3"}});f.exports=k}),null);
__d('ReactComposerPeopleTaggerComponent.react',['cx','fbt','Grid.react','ReactComposerPeopleTaggerTokenizerToken.react','ReactComposerTaggerPresenter','ReactComposerTaggerViewStyles','TaggingLimits','React','XUITokenizer.react','emptyFunction','CurrentUser'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('Grid.react').GridItem,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$ReactComposerPeopleTaggerComponent1=function(t){var u=this.props.taggerData,v=t.getUniqueID(),w=u.some(function(x){return x.getUniqueID()===v});if(w){return}else u.push(t);this.props.onSelect&&this.props.onSelect(u)}.bind(this),this.$ReactComposerPeopleTaggerComponent2=function(t){var u=this.props.taggerData,v=u.indexOf(t);if(v==-1)return;u.splice(v,1);this.props.onPeopleTagRemove&&this.props.onPeopleTagRemove(t);this.props.onSelect&&this.props.onSelect(u)}.bind(this),p}n.prototype.render=function(){'use strict';var o={};if(this.props.actorID)o[this.props.actorID]=true;return c('React').createElement(c('Grid.react'),{cols:2,className:"_5esl",role:'presentation'},c('React').createElement(l,{key:'label',className:"_5esm",role:'presentation'},i._("With")),c('React').createElement(l,{key:'tokenizer',className:"_5esw",role:'presentation'},c('React').createElement(c('XUITokenizer.react'),babelHelpers['extends']({presenter:this.$ReactComposerPeopleTaggerComponent3(),focusedOnInit:this.props.autoFocus,excludedEntries:o,entries:this.props.taggerData,className:"_5esx _2fzs",placeholder:this.props.placeholder,searchSource:this.props.taggerSource,onAddEntryAttempt:this.$ReactComposerPeopleTaggerComponent1,onRemoveEntryAttempt:this.$ReactComposerPeopleTaggerComponent2,limit:c('TaggingLimits').MAX_WITH_TAGS},this.props))))};n.prototype.$ReactComposerPeopleTaggerComponent3=function(){'use strict';var o=this.props.taggerConfig&&this.props.taggerConfig.presenter?this.props.taggerConfig.presenter:c('ReactComposerTaggerPresenter'),p={};p.taggerViewStyle=this.props.taggerViewStyle;p.viewProps=this.props.taggerConfig&&this.props.taggerConfig.typeaheadViewProps;return Object.assign({},o,{layerPosition:this.props.layerPosition||undefined,extraRendererProps:p,TokenRenderer:c('ReactComposerPeopleTaggerTokenizerToken.react')})};n.propTypes={actorID:m.string,autoFocus:m.bool,placeholder:m.string,taggerConfig:m.object,taggerData:m.array.isRequired,taggerSource:m.object.isRequired,onPeopleTagRemove:m.func,onSelect:m.func,taggerViewStyle:m.shape(c('ReactComposerTaggerViewStyles').Shape)};n.defaultProps=function(){var o=i._("Who are you with?");if(c('CurrentUser').isWorkUser())o=i._("Who do you want to tag?");return {autoFocus:true,onSelect:c('emptyFunction'),placeholder:o,taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT,taggerData:[]}}();f.exports=n}),null);
__d('ReactComposerPeopleTaggerContainer.react',['React','ReactComposerLoggingName','ReactComposerPeopleTaggerComponent.react','ReactComposerPhotoActions','ReactComposerTaggerActions','ReactComposerTaggerContainerStateMixin','ReactComposerTaggerHideOnEscapeKeyPress.react','ReactComposerTaggerType','ReactComposerTaggerViewStyles'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerPeopleTaggerContainer',mixins:[c('ReactComposerTaggerContainerStateMixin')()],propTypes:{actorID:h.string,taggerConfig:h.object,taggerViewStyle:h.shape(c('ReactComposerTaggerViewStyles').Shape)},getDefaultProps:function j(){return {taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT}},statics:{taggerID:c('ReactComposerTaggerType').PEOPLE},render:function j(){if(!this.state.isSelected)return c('React').createElement('noscript',null);return c('React').createElement('div',{'data-testid':'people-tagger-component'},c('React').createElement(c('ReactComposerTaggerHideOnEscapeKeyPress.react'),{shouldHideOnEscape:this.state.isSelected},c('React').createElement(c('ReactComposerPeopleTaggerComponent.react'),babelHelpers['extends']({},this.props,{autoFocus:this.state.autoFocus,onPeopleTagRemove:this._onPeopleTagRemove,onSelect:this._onTaggerDataChanged,taggerData:this.state.taggerData,taggerSource:this.state.taggerSource}))))},_onTaggerDataChanged:function j(k){c('ReactComposerTaggerActions').setTaggerData(this.context.composerID,c('ReactComposerLoggingName').PEOPLE_TAGGER,c('ReactComposerTaggerType').PEOPLE,k);this.props.onSelect&&this.props.onSelect(k)},_onPeopleTagRemove:function j(k){c('ReactComposerPhotoActions').untagSubjectFromAllPhotos(this.context.composerID,k.getUniqueID())}});f.exports=i}),null);
__d('ReactComposerPhotoTaggerButtonContainer.react',['cx','Bootloader','ComposerTargetData','React','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerLoggingName','ReactComposerMediaFilePickerController.react','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerPhotoTaggerButton.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerScrapedAttachmentStore','ReactComposerVideoUploadStore','ReactObjectiveFirstPagesComposerGlobalFlags','SimpleNUXMessage','SimpleNUXMessageTypes','VideoUploadConfig'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerPhotoTaggerButtonContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAttachmentStore'),c('ReactComposerMediaUploadStore'),c('ReactComposerScrapedAttachmentStore'))],propTypes:{customPhotoTaggerButton:i.any,disableFaceRecognition:i.bool.isRequired,mediaAcceptParam:i.shape({photos:i.string,both:i.string}),photoLimit:i.number.isRequired,targetData:i.instanceOf(c('ComposerTargetData')).isRequired,mediaConfig:i.object.isRequired},getDefaultProps:function k(){return {disableFaceRecognition:false}},statics:{calculateState:function k(l,m){var n=c('ReactComposerAttachmentStore').getIsAttachmentSelected(l,c('ReactComposerAttachmentType').MEDIA),o=c('ReactComposerMediaUploadStore').getUploadsOfType(l,c('ReactComposerMediaUploadType').PHOTO),p=!c('ReactComposerVideoUploadStore').getVideo(l)&&!c('ReactComposerScrapedAttachmentStore').hasAttachment(l)&&o.size<m.photoLimit,q=!c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').MULTIMEDIA_ATTACHMENTS_NUX)&&c('VideoUploadConfig').showMultimediaNUX;return {hasData:!!o.size&&n,shown:p,uploadSize:o.size,multimediaNuxShown:q}}},render:function k(){if(!this.state.shown)return null;if(this.props.customPhotoTaggerButton){var l=this.props.customPhotoTaggerButton;return c('React').createElement(l,babelHelpers['extends']({},this.props,this.state,{onClick:this._onClick}))}else return c('React').createElement(c('ReactComposerMediaFilePickerController.react'),babelHelpers['extends']({},this.props,{loggingName:c('ReactComposerLoggingName').MEDIA_TAGGER,containerClassName:"_3xem _3xen",onClick:this._onClick}),c('React').createElement(c('ReactComposerPhotoTaggerButton.react'),{photoLimit:this.props.photoLimit,hasData:this.state.hasData,targetData:this.props.targetData,multimediaNuxShown:this.state.multimediaNuxShown,onNUXCloseButtonClick:this._onNUXCloseButtonClick}));},_onNUXCloseButtonClick:function k(){c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').MULTIMEDIA_ATTACHMENTS_NUX);this.setState({multimediaNuxShown:false})},_onClick:function k(){if(c('ReactObjectiveFirstPagesComposerGlobalFlags').getIsObjectiveFirstPagesComposer())c('Bootloader').loadModules(["PagesPublishingLoggingActions"],function(l){l.clickedTagger(c('ReactComposerLoggingName').MEDIA_TAGGER)},'ReactComposerPhotoTaggerButtonContainer.react');this._onNUXCloseButtonClick()}});f.exports=j}),null);
__d('ReactComposerTaggerButtons.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_47gt"},this.props.children)};function k(){'use strict';i.apply(this,arguments)}f.exports=k}),null);
__d('ReactComposerTaggers.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_1idc"},this.props.children)};function k(){'use strict';i.apply(this,arguments)}f.exports=k}),null);
__d('ReactComposerStatusFooter.react',['cx','AsyncRequest','BasicTypeaheadLoggerJSConstants','BootloadedComponent.react','ComposerEntryPointRef','ComposerTargetData','ReactComposerActivityTaggerButton.react','ReactComposerActivityTaggerContainer.react','ReactComposerAlbumTaggerButtonContainer.react','ReactComposerAttachmentType','ReactComposerAudienceSelectorContainer.react','ReactComposerAudienceSelectorContainerGatedModule','ReactComposerBootloaderPropTypes','ReactComposerCollectionSelectorContainerGatedModule','ReactComposerConfig','ReactComposerContextMixin','ReactComposerDraftAutosaveContainer.react','ReactComposerFooterActions.react','ReactComposerFooterContainer.react','ReactComposerGroupAudienceIndicatorGatedModule','ReactComposerImplicitLocationContainer.react','ReactComposerLocationTaggerButton.react','ReactComposerLocationTaggerContainer.react','ReactComposerPeopleTaggerButton.react','ReactComposerPeopleTaggerContainer.react','ReactComposerPhotoTaggerButtonContainer.react','ReactComposerPostButtonContainer.react','ReactComposerPostToGroupButtonContainerGatedModule','ReactComposerSelectedCollectionIndicatorContainerGatedModule','ReactComposerSharesheetSelectorContainerGatedModule','ReactComposerTaggerActions','ReactComposerTaggerButtons.react','ReactComposerTaggers.react','ReactComposerTaggerType','ReactComposerTaggerViewStyles','ReactComposerTimelineAudienceSelectorContainerGatedModule','JSResource','LeftRight.react','PlaceSearchConstants','ReactComponentWithPureRenderMixin','React','XUISpinner.react','getByPath'],(function a(b,c,d,e,f,g,h){var i=c('BasicTypeaheadLoggerJSConstants').EventNames,j=c('ReactComposerAudienceSelectorContainerGatedModule').module,k=c('ReactComposerCollectionSelectorContainerGatedModule').module,l=c('ReactComposerGroupAudienceIndicatorGatedModule').module,m=c('ReactComposerPostToGroupButtonContainerGatedModule').module,n=c('ReactComposerSelectedCollectionIndicatorContainerGatedModule').module,o=c('ReactComposerSharesheetSelectorContainerGatedModule').module,p=c('ReactComposerTimelineAudienceSelectorContainerGatedModule').module,q=c('React').PropTypes,r=c('React').createClass({displayName:'ReactComposerStatusFooter',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{activeAttachment:q.string,additionalTaggers:q.arrayOf(q.shape({button:q.element.isRequired,container:q.element.isRequired})),additionalFooterActions:q.arrayOf(q.element),audienceXHP:q.instanceOf(HTMLElement),attachmentsConfig:q.object.isRequired,bootloader:c('ReactComposerBootloaderPropTypes'),config:c('ReactComposerConfig').isRequired,hasImplicitLocation:q.bool,isActive:q.bool.isRequired,isCameraIconEnabled:q.bool,isMessagingButtonEnabled:q.bool,locationTaggerPlaceholder:q.string,mediaAcceptParam:q.shape({photos:q.string,both:q.string}),mediaLocation:q.shape({latitude:q.number.isRequired,longitude:q.number.isRequired}),peopleTaggerPlaceholder:q.string,placeID:q.string,postButtonModule:q.func,taggersConfig:q.object,targetData:q.instanceOf(c('ComposerTargetData')).isRequired,weakMention:q.object,isGroupTabSelected:q.bool,selectedGroup:q.object},getDefaultProps:function s(){return {isCameraIconEnabled:true,isGroupTabSelected:false}},_addMember:function s(event){if(this.props.weakMention!=null){var t={};t.source='invite_from_mention';t.group_id=this.props.config.targetData.targetID;t.members=[this.props.weakMention.uid];new (c('AsyncRequest'))('/ajax/groups/members/add_post.php').setData(t).send();event.preventDefault()}},_renderMentionInvitation:function s(){if(Object.prototype.hasOwnProperty.call(this.props.attachmentsConfig,c('ReactComposerAttachmentType').ADD_MENTIONED)&&this.props.attachmentsConfig[c('ReactComposerAttachmentType').ADD_MENTIONED].enabled&&this.props.weakMention!=null){var t=this.props.weakMention.uid,u=this.props.weakMention.text,v=this.props.config.groupConfig.id,w=this.props.config.groupConfig.name;return c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ReactInviteMentionedMemberFooter.react').__setRef('ReactComposerStatusFooter.react'),bootloadPlaceholder:c('React').createElement('div',null),mentionedPersonId:t,mentionedPersonName:u,groupId:v,groupName:w,onAddMember:this._addMember})}return null},componentDidMount:function s(){this._handleSetProductTaggerShowNUX();this._handleShowContactYourRepresentativeNUX();this._handleSetMessengerPromptShowNUX()},render:function s(){var t=this.context.gks&&this.context.gks.isSproutsComposer,u=this.context.gks&&this.context.gks.topPostButton,v=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],w=this.props.hasImplicitLocation?"_icv":'',x=v.footerBackground?v.footerBackground:this.props.config.showExpandedComposer?'white':'light-wash',y=t?this._renderSproutsList():null,z=this.props.attachmentsConfig[c('ReactComposerAttachmentType').STATUS].feedOnlyPost,aa=this.props.attachmentsConfig[c('ReactComposerAttachmentType').STATUS].feedOnlyPost?c('React').createElement(z,null):null,ba=null;if(!t&&this.props.isActive){ba=this._getButtons()}else if(this.context.gks&&this.context.gks.albumSelectorInComposer){ba=c('React').createElement(c('ReactComposerFooterActions.react'),null,this._getAudienceSelector(),k&&(!this.props.isGroupTabSelected||!l)?c('React').createElement(k,{addAnyPostToAlbum:this.context.gks&&this.context.gks.addAnyPostToAlbum}):null)}else if(this.context.gks&&this.context.gks.albumTabUsesSelector)ba=n&&(!this.props.isGroupTabSelected||!l)?c('React').createElement(n,null):null;var ca=null;if(v.audienceIndicator){var da=v.audienceIndicator.module;ca=c('React').createElement(da,{background:x,config:this.props.config})}var ea=void 0,fa=this.props.config,ga=fa.actorConfig,ha=fa.postButtonConfig;if(ha&&ha.isScheduledPost){if(ha.scheduleNotice){var ia=ha.scheduleNotice.module;if(ia)ea=c('React').createElement(ia,{config:this.props.config});}}else if(ga&&ga.scheduleNotice){var ja=ga.scheduleNotice.module;if(ja)ea=c('React').createElement(ja,{config:this.props.config});}var ka=!u?c('React').createElement(c('ReactComposerFooterContainer.react'),{background:x,className:w},ea,c('React').createElement(c('LeftRight.react'),null,ba,this._getFooterActions())):null,la=this._renderMentionInvitation();return c('React').createElement('div',{className:"_1j2v"},la,aa,this._getTaggers(),y,ca,ka)},_getTaggers:function s(){var t=this.props.taggersConfig;if(!t)return null;var u=t[c('ReactComposerTaggerType').PEOPLE]&&t[c('ReactComposerTaggerType').PEOPLE].enabled?c('React').createElement(c('ReactComposerPeopleTaggerContainer.react'),{placeholder:this.props.peopleTaggerPlaceholder,showEntriesOnFocus:false,actorID:this.context.actorID,taggerConfig:t[c('ReactComposerTaggerType').PEOPLE]}):null,v=t[c('ReactComposerTaggerType').LOCATION]&&t[c('ReactComposerTaggerType').LOCATION].enabled?c('React').createElement(c('ReactComposerLocationTaggerContainer.react'),{implicitLocationEnabled:t[c('ReactComposerTaggerType').LOCATION].implicitLocationEnabled,mediaLocation:this.props.mediaLocation,placeholder:this.props.locationTaggerPlaceholder,taggerConfig:t[c('ReactComposerTaggerType').LOCATION],taggerViewStyle:c('ReactComposerTaggerViewStyles').SCROLLABLE,typeaheadLoggerEventName:i.REACT_COMPOSER_LOCATION_TAGGER,typeaheadSearchSource:c('PlaceSearchConstants').SOURCE_W_COMPOSER}):null,w=this.context.composerType===c('ComposerEntryPointRef').TIMELINE,x=t[c('ReactComposerTaggerType').OG]&&t[c('ReactComposerTaggerType').OG].enabled?c('React').createElement(c('ReactComposerActivityTaggerContainer.react'),{actionTypeIDsWithNoFreeForm:t[c('ReactComposerTaggerType').OG].actionTypeIDsWithNoFreeForm,actorID:this.context.actorID,isPersonalTimeline:w,actionTaggerViewStyle:c('ReactComposerTaggerViewStyles').SCROLLABLE,objectTaggerViewStyle:c('ReactComposerTaggerViewStyles').SCROLLABLE,placeID:this.props.placeID,actionTypeIDsToPrefetch:t[c('ReactComposerTaggerType').OG].actionTypeIDsToPrefetch,rankVerbs:t[c('ReactComposerTaggerType').OG].rankVerbs,typeaheadLoggerEventName:i.OGCOMPOSER_TAGGER}):null,y=t[c('ReactComposerTaggerType').BACKDATE]&&t[c('ReactComposerTaggerType').BACKDATE].enabled?c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ReactComposerBackdateTaggerContainer.react').__setRef('ReactComposerStatusFooter.react'),bootloadPlaceholder:c('React').createElement(c('XUISpinner.react'),null)}):null,z=this._getSponsorTagger(),aa=this.props.additionalTaggers?this.props.additionalTaggers.map(function(ga){return ga.container}):null,ba=null;if(t[c('ReactComposerTaggerType').FORMATTED_TEXT]&&!t[c('ReactComposerTaggerType').FORMATTED_TEXT].noSproutDesign&&t[c('ReactComposerTaggerType').FORMATTED_TEXT].enabled&&t[c('ReactComposerTaggerType').FORMATTED_TEXT].textFormats&&t[c('ReactComposerTaggerType').FORMATTED_TEXT].containerModule){var ca=t[c('ReactComposerTaggerType').FORMATTED_TEXT].containerModule;ba=c('React').createElement(ca,{statusAttachmentActive:this.props.isActive,textFormats:t[c('ReactComposerTaggerType').FORMATTED_TEXT].textFormats,defaultFormat:t[c('ReactComposerTaggerType').FORMATTED_TEXT].defaultFormat,textLengthLimit:t[c('ReactComposerTaggerType').FORMATTED_TEXT].textLengthLimit,autoOpen:t[c('ReactComposerTaggerType').FORMATTED_TEXT].autoOpen,maxNewlines:t[c('ReactComposerTaggerType').FORMATTED_TEXT].maxNewlines,stickyStylesEnabled:t[c('ReactComposerTaggerType').FORMATTED_TEXT].stickyStylesEnabled,shouldAutoOpenWhenUserStartsTyping:t[c('ReactComposerTaggerType').FORMATTED_TEXT].shouldAutoOpenWhenUserStartsTyping,noSproutDesign:t[c('ReactComposerTaggerType').FORMATTED_TEXT].noSproutDesign})}var da=this._getProductTagger(),ea=this._getMessagingTagger(),fa=this._getContactYourRepresentativeTagger();return c('React').createElement(c('ReactComposerTaggers.react'),null,u,v,x,ba,y,z,da,ea,fa,this._getFundraiserTagger(),aa)},_renderSproutsList:function s(){var t=this.context.jsModules&&this.context.jsModules.ComposerSproutsListContainer;return c('React').createElement(t,{config:this.props.config})},_getButtons:function s(){var t=this.props.taggersConfig;if(!t)return null;var u=this.props.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],v=this.props.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA],w=t[c('ReactComposerTaggerType').CAMERA]&&t[c('ReactComposerTaggerType').CAMERA].enabled&&this.props.isCameraIconEnabled?c('React').createElement(c('ReactComposerPhotoTaggerButtonContainer.react'),{customPhotoTaggerButton:u.customPhotoTaggerButton,disableFaceRecognition:v.disableFaceboxTagger,photoLimit:v.photoLimit,mediaAcceptParam:this.props.mediaAcceptParam,targetData:this.props.targetData,mediaConfig:v}):null,x=t[c('ReactComposerTaggerType').PEOPLE]&&t[c('ReactComposerTaggerType').PEOPLE].isMultiCompanyGroup||false,y=t[c('ReactComposerTaggerType').PEOPLE]&&t[c('ReactComposerTaggerType').PEOPLE].enabled?c('React').createElement(c('ReactComposerPeopleTaggerButton.react'),{isMultiCompanyGroup:x}):null,z=t[c('ReactComposerTaggerType').OG]&&t[c('ReactComposerTaggerType').OG].enabled?c('React').createElement(c('ReactComposerActivityTaggerButton.react'),null):null,aa=t[c('ReactComposerTaggerType').ALBUM]&&t[c('ReactComposerTaggerType').ALBUM].enabled?this._getAlbumTaggerButton():null,ba=t[c('ReactComposerTaggerType').LOCATION]&&t[c('ReactComposerTaggerType').LOCATION].enabled?c('React').createElement(c('ReactComposerLocationTaggerButton.react'),null,c('React').createElement(c('ReactComposerImplicitLocationContainer.react'),null)):null,ca=t[c('ReactComposerTaggerType').BACKDATE]&&t[c('ReactComposerTaggerType').BACKDATE].enabled?c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ReactComposerBackdateTaggerButton.react').__setRef('ReactComposerStatusFooter.react'),bootloadPlaceholder:c('React').createElement(c('XUISpinner.react'),null)}):null,da=this._getSponsorTaggerButton(),ea=this._getFundraiserTaggerButton(),fa=this.props.additionalTaggers?this.props.additionalTaggers.map(function(la){return la.button}):null,ga=null;if(t[c('ReactComposerTaggerType').FORMATTED_TEXT]&&t[c('ReactComposerTaggerType').FORMATTED_TEXT].enabled&&t[c('ReactComposerTaggerType').FORMATTED_TEXT].textFormats&&t[c('ReactComposerTaggerType').FORMATTED_TEXT].buttonModule){var ha=t[c('ReactComposerTaggerType').FORMATTED_TEXT].buttonModule;ga=c('React').createElement(ha,null)}var ia=this._getProductTaggerButton(),ja=this._getMessagingTaggerButton(),ka=this._getContactYourRepresentativeTaggerButton();return c('React').createElement(c('ReactComposerTaggerButtons.react'),null,w,y,z,aa,ba,ga,ca,da,ia,ja,ka,ea,fa)},_getFooterActions:function s(){var t=this.props.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],u=t.enableDrafts?c('React').createElement(c('ReactComposerDraftAutosaveContainer.react'),null):null,v=void 0;if(this.props.postButtonLabel)v=this.props.postButtonLabel;var w=this.props.isGroupTabSelected&&m?m:this.props.postButtonModule||c('ReactComposerPostButtonContainer.react'),x=c('React').createElement(w,{config:this.props.config,label:v});return c('React').createElement(c('ReactComposerFooterActions.react'),null,u,this.props.additionalFooterActions,this._getSharesheetSelector(),this.context.gks&&this.context.gks.albumSelectorInComposer?null:this._getAudienceSelector(),x)},_getIsAudienceSelectorShownForType:function s(t){switch(this.context.composerType){case c('ComposerEntryPointRef').FEEDX_SPROUTS:return this.props.activeAttachment!==t||j;case c('ComposerEntryPointRef').TIMELINE:return this.props.activeAttachment!==t||p;default:return true;}},_getIsSharesheetSelectorShownForType:function s(t){switch(this.context.composerType){case c('ComposerEntryPointRef').FEEDX_SPROUTS:return this.props.activeAttachment!==t||o;default:return false;}},_getAudienceSelector:function s(){return this.props.audienceXHP&&this._getIsAudienceSelectorShownForType(c('ReactComposerAttachmentType').STATUS)&&this._getIsAudienceSelectorShownForType(c('ReactComposerAttachmentType').MEDIA)?this.props.isGroupTabSelected&&l?this._getGroupAudienceSelector():c('React').createElement(c('ReactComposerAudienceSelectorContainer.react'),{audienceXHP:this.props.audienceXHP,viewerIsTarget:this.props.targetData.viewerIsTarget}):null},_getSharesheetSelector:function s(){return this._getIsSharesheetSelectorShownForType(c('ReactComposerAttachmentType').STATUS)&&this._getIsSharesheetSelectorShownForType(c('ReactComposerAttachmentType').MEDIA)&&o?c('React').createElement(o,{audienceXHP:this.props.audienceXHP,viewerIsTarget:this.props.targetData.viewerIsTarget,config:this.props.config,composerID:this.context.composerID,targetID:this.props.config.targetData.targetID}):c('React').createElement('span',null)},_getGroupAudienceSelector:function s(){return this.props.isGroupTabSelected&&l&&this.props.selectedGroup?c('React').createElement(l,{group:this.props.selectedGroup}):null},_getSponsorTaggerButton:function s(){var t=this.props.taggersConfig;if(!t||!t[c('ReactComposerTaggerType').SPONSOR]||!t[c('ReactComposerTaggerType').SPONSOR].enabled)return null;var u=t[c('ReactComposerTaggerType').SPONSOR].button,v=t[c('ReactComposerTaggerType').SPONSOR].button?c('React').createElement(u,{key:'sponsor_button'}):null;return v},_getSponsorTagger:function s(){var t=this.props.taggersConfig;if(!t||!t[c('ReactComposerTaggerType').SPONSOR]||!t[c('ReactComposerTaggerType').SPONSOR].enabled)return null;var u=t[c('ReactComposerTaggerType').SPONSOR].container,v=t[c('ReactComposerTaggerType').SPONSOR].container?c('React').createElement(u,{key:'sponsor_container',viewer:t[c('ReactComposerTaggerType').SPONSOR].viewer,showDirectBoost:t[c('ReactComposerTaggerType').SPONSOR].showSponsorTaggerDirectBoost,showDirectBoostNUX:t[c('ReactComposerTaggerType').SPONSOR].showSponsorTaggerDirectBoostNUX,showSponsorRelationship:t[c('ReactComposerTaggerType').SPONSOR].showSponsorTaggerSponsorRelationship}):null;return v},_getProductTaggerButton:function s(){var t=this.props.taggersConfig;if(this._hasAdditionalTaggerContainerWithKey('product_container')||!t||!t[c('ReactComposerTaggerType').PRODUCT]||!t[c('ReactComposerTaggerType').PRODUCT].enabled)return null;return c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ReactComposerProductTaggerButton.react').__setRef('ReactComposerStatusFooter.react'),bootloadPlaceholder:c('React').createElement('div',null),key:'product_button',productTaggerType:t[c('ReactComposerTaggerType').PRODUCT].productTaggerType})},_checkAddMessengerButtonEnabled:function s(){var t=this.props.taggersConfig;return c('getByPath')(t,[c('ReactComposerTaggerType').MESSAGING,'enabled'])&&this.props.isMessagingButtonEnabled===true},_checkAddContactYourRepresentativeEnabled:function s(){var t=this.props.taggersConfig;return c('getByPath')(t,[c('ReactComposerTaggerType').CONTACT_YOUR_REPRESENTATIVE,'enabled'])&&c('getByPath')(t,[c('ReactComposerTaggerType').OG,'enabled'])},_getProductTagger:function s(){var t=this.props.taggersConfig;if(this._hasAdditionalTaggerContainerWithKey('product_container')||!t||!t[c('ReactComposerTaggerType').PRODUCT]||!t[c('ReactComposerTaggerType').PRODUCT].enabled)return null;return c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ReactComposerProductTaggerContainer.react').__setRef('ReactComposerStatusFooter.react'),bootloadPlaceholder:c('React').createElement('div',null),key:'product_container',pageID:this.props.config.targetData.targetID,productTaggerType:t[c('ReactComposerTaggerType').PRODUCT].productTaggerType,reactComposerID:this.context.composerID,showAddProduct:t[c('ReactComposerTaggerType').PRODUCT].showAddProduct,viewer:this.context.actorID})},_handleSetProductTaggerShowNUX:function s(){var t=this.props.taggersConfig;if(!t||!t[c('ReactComposerTaggerType').PRODUCT]||!t[c('ReactComposerTaggerType').PRODUCT].enabled)return;c('ReactComposerTaggerActions').handleSetTaggerShowNUX(this.context.composerID,c('ReactComposerTaggerType').PRODUCT,t[c('ReactComposerTaggerType').PRODUCT].showProductTaggerButtonNUX)},_handleShowContactYourRepresentativeNUX:function s(){if(!this._checkAddContactYourRepresentativeEnabled())return;var t=this.props.taggersConfig,u=c('getByPath')(t,[c('ReactComposerTaggerType').CONTACT_YOUR_REPRESENTATIVE,'showNux']);if(!u)return;c('ReactComposerTaggerActions').handleSetTaggerShowNUX(this.context.composerID,c('ReactComposerTaggerType').CONTACT_YOUR_REPRESENTATIVE,true)},_handleSetMessengerPromptShowNUX:function s(){var t=this.props.taggersConfig;if(!t||!c('getByPath')(t,[c('ReactComposerTaggerType').MESSAGING])||!c('getByPath')(t,[c('ReactComposerTaggerType').MESSAGING,'enabled']))return;c('ReactComposerTaggerActions').handleSetTaggerShowNUX(this.context.composerID,c('ReactComposerTaggerType').MESSAGING,t[c('ReactComposerTaggerType').MESSAGING].showMessengerPromptButtonNUX)},_getMessagingTaggerButton:function s(){var t=this.props.taggersConfig;if(!this._checkAddMessengerButtonEnabled()||!t||!c('getByPath')(t,[c('ReactComposerTaggerType').MESSAGING])||!c('getByPath')(t,[c('ReactComposerTaggerType').MESSAGING,'messengerPromptNuxType']))return null;return c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ReactComposerMessagingTaggerButton.react').__setRef('ReactComposerStatusFooter.react'),bootloadPlaceholder:c('React').createElement('div',null),key:'messaging_button',reactComposerID:this.context.composerID,nuxType:c('getByPath')(t,[c('ReactComposerTaggerType').MESSAGING,'messengerPromptNuxType']),autoSelect:c('getByPath')(t,[c('ReactComposerTaggerType').MESSAGING,'autoSelect'])})},_getMessagingTagger:function s(){if(!this._checkAddMessengerButtonEnabled())return null;return c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ReactComposerMessagingTaggerContainer.react').__setRef('ReactComposerStatusFooter.react'),bootloadPlaceholder:c('React').createElement('div',null),key:'messaging_container',reactComposerID:this.context.composerID})},_getFundraiserTagger:function s(){var t=this.props.taggersConfig;if(t&&t[c('ReactComposerTaggerType').FUNDRAISER]&&t[c('ReactComposerTaggerType').FUNDRAISER].enabled)return c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ReactComposerFundraiserTaggerContainer.react').__setRef('ReactComposerStatusFooter.react'),bootloadPlaceholder:c('React').createElement('div',null)});return null},_getFundraiserTaggerButton:function s(){var t=this.props.taggersConfig;if(t&&t[c('ReactComposerTaggerType').FUNDRAISER]&&t[c('ReactComposerTaggerType').FUNDRAISER].enabled)return c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ReactComposerFundraiserTaggerButton.react').__setRef('ReactComposerStatusFooter.react'),bootloadPlaceholder:c('React').createElement('div',null)});return null},_getContactYourRepresentativeTaggerButton:function s(){if(!this._checkAddContactYourRepresentativeEnabled())return null;return c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ReactComposerContactYourRepresentativeTaggerButton.react').__setRef('ReactComposerStatusFooter.react'),bootloadPlaceholder:c('React').createElement('div',null),key:'contact_your_representative_button',reactComposerID:this.context.composerID})},_getContactYourRepresentativeTagger:function s(){if(!this._checkAddContactYourRepresentativeEnabled())return null;return c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ReactComposerContactYourRepresentativeTaggerContainer.react').__setRef('ReactComposerStatusFooter.react'),bootloadPlaceholder:c('React').createElement('div',null),key:'contact_your_representative_container',reactComposerID:this.context.composerID})},_getAlbumTaggerButton:function s(){return k?c('React').createElement(k,{addAnyPostToAlbum:this.context.gks&&this.context.gks.addAnyPostToAlbum,alternateTriggerComponent:c('React').createElement(c('ReactComposerAlbumTaggerButtonContainer.react'),null)}):null},_hasAdditionalTaggerContainerWithKey:function s(t){var u=this.props.additionalTaggers?this.props.additionalTaggers.map(function(v){return v.container}):null;if(!u)return false;return u.some(function(v){return v.key===t})}});f.exports=r}),null);
__d('ReactComposerStatusFooterContainer.react',['React','ReactComponentWithPureRenderMixin','ReactComposerAttachmentStore','ReactComposerPostToGroupStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusFooter.react','ReactComposerStore','ReactComposerTaggerStore','ReactComposerTaggerType'],(function a(b,c,d,e,f,g){var h=c('React').createClass({displayName:'ReactComposerStatusFooterContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAttachmentStore'),c('ReactComposerStore'),c('ReactComposerTaggerStore'),c('ReactComposerPostToGroupStore'))],statics:{calculateState:function i(j,k){var l=c('ReactComposerAttachmentStore').isSelectedAttachmentActive(j),m=c('ReactComposerAttachmentStore').getSelectedAttachmentID(j),n=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').LOCATION),o=n&&n.implicitLocation&&!!n.implicitLocation.citystring,p=n&&n.place&&n.place.getUniqueID();return {activeAttachment:m,isActive:l,hasImplicitLocation:o,mediaLocation:n?n.mediaLocation:null,placeID:p,sproutsDisplayState:c('ReactComposerStore').getSproutsDisplayState(j),isGroupTabSelected:c('ReactComposerPostToGroupStore').getIsTabSelected(j),selectedGroup:c('ReactComposerPostToGroupStore').getSelectedGroup(j)}}},render:function i(){return c('React').createElement(c('ReactComposerStatusFooter.react'),babelHelpers['extends']({},this.props,{activeAttachment:this.state.activeAttachment,isActive:this.state.isActive,hasImplicitLocation:this.state.hasImplicitLocation,mediaLocation:this.state.mediaLocation,placeID:this.state.placeID,sproutsDisplayState:this.state.sproutsDisplayState,isCameraIconEnabled:this.props.isCameraIconEnabled,isMessagingButtonEnabled:this.props.isMessagingButtonEnabled,isGroupTabSelected:this.state.isGroupTabSelected,selectedGroup:this.state.selectedGroup}))}});f.exports=h}),null);
__d('ShareDialogTagSummary.react',['cx','Arbiter','AsyncRequest','immutable','Parent','React','emptyFunction','ifRequired','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes,l=true;i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={socialText:null},this.$ShareDialogTagSummary1=undefined,this.$ShareDialogTagSummary2=undefined,this.$ShareDialogTagSummary4=function(s){this.setState({socialText:s.getPayload().rendered})}.bind(this),this.$ShareDialogTagSummary5=function(s){var t=s.target;if(c('Parent').byClass(t,'withToken')){this.props.withTokenClick()}else if(c('Parent').byClass(t,'placeToken')){this.props.placeTokenClick()}else if(c('Parent').byClass(t,'og_composer_object')){var u=this.props.taggerData;if(!u.get('action')&&!u.get('object')&&u.get('politicalRepresentativeInfo').politicalRepresentative){this.props.politicalRepresentativeClick()}else this.props.ogObjectClick();}else if(!c('Parent').byClass(t,'ogPickerIcon'))this.props.onTagSummaryClick();}.bind(this),o}m.prototype.componentWillMount=function(){'use strict';this.$ShareDialogTagSummary1=c('Arbiter').subscribe('composer/ogIconPickerOpened',function(event,n){l=false});this.$ShareDialogTagSummary3(this.props)};m.prototype.componentWillUnmount=function(){'use strict';if(this.$ShareDialogTagSummary2)this.$ShareDialogTagSummary2.abort();};m.prototype.componentWillReceiveProps=function(n){'use strict';if(!this.props.taggerData.equals(n.taggerData))this.$ShareDialogTagSummary3(n);};m.prototype.render=function(){'use strict';var n=c('joinClasses')(this.props.className,"_4zq4");return c('React').createElement('div',{className:n,onMouseDown:this.$ShareDialogTagSummary5,dangerouslySetInnerHTML:this.state.socialText})};m.prototype.$ShareDialogTagSummary3=function(n){'use strict';if(this.$ShareDialogTagSummary2)this.$ShareDialogTagSummary2.abort();var o=n.taggerData,p=o.get('people'),q=o.get('place'),r=o.get('action'),s=o.get('actionIconID'),t=o.get('object'),u=o.get('products'),v=o.get('sponsors'),w=o.get('politicalRepresentativeInfo'),x=o.get('issues'),y=p.filter(function(da){return !this.props.peopleToExclude.has(da.getUniqueID())}.bind(this));if(!(y&&y.length>0)&&!q&&!(r&&t)&&!(u&&u.length>0)&&!(v&&v.sponsors.length>0)&&!w.politicalRepresentative&&!(x&&x.length>0)){if(this.state.socialText)this.setState({socialText:null});return}var z={};if(y)z.people=y.map(function(da){return da.getUniqueID()});if(q){z.place=q.getTitle();z.placeID=q.getUniqueID()}if(u)z.productIDs=u.map(function(da){return da.getUniqueID()});if(v){var aa=c('ifRequired')('BrandedContentSponsorRelationship',function(da){return v.sponsorRelationship===da.PRESENTED_BY},function(){return false});if(!aa)z.sponsorIDs=v.sponsors.map(function(da){return da.getUniqueID()});}if(x)z.issueIDs=x.map(function(da){return da.getUniqueID()});if(r&&t){z.actionID=r.getUniqueID();var ba=t.getUniqueID(),ca=t.getTitle();if(!ba||ba===ca){z.objectStr=ca}else z.objectID=ba;}else if(w.politicalRepresentative)c('ifRequired')('ContactYourRepresentativeConsts',function(da){z.actionID=da.composer_action_id;z.objectID=w.politicalRepresentative.getUniqueID()});if(s)z.actionIconID=s;z.iconPickerOpened=l!==true;this.$ShareDialogTagSummary2=new (c('AsyncRequest'))();this.$ShareDialogTagSummary2&&this.$ShareDialogTagSummary2.setURI('/ajax/metacomposer/social_text.php').setData(z).setHandler(this.$ShareDialogTagSummary4).send()};m.propTypes={ogObjectClick:k.func.isRequired,onTagSummaryClick:k.func.isRequired,peopleToExclude:k.instanceOf(c('immutable').Set).isRequired,placeTokenClick:k.func.isRequired,politicalRepresentativeClick:k.func.isRequired,taggerData:k.instanceOf(c('immutable').Map).isRequired,withTokenClick:k.func.isRequired};m.defaultProps={peopleToExclude:c('immutable').Set(),ogObjectClick:c('emptyFunction'),onTagSummaryClick:c('emptyFunction'),placeTokenClick:c('emptyFunction'),politicalRepresentativeClick:c('emptyFunction'),withTokenClick:c('emptyFunction')};f.exports=m}),null);
__d('ReactComposerTaggerSummaryContainer.react',['cx','Arbiter','immutable','React','ReactComposerContextMixin','ReactComposerLoggingName','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','ReactDOM','ShareDialogTagSummary.react','containsNode'],(function a(b,c,d,e,f,g,h){var i=c('React').createClass({displayName:'ReactComposerTaggerSummaryContainer',_ogSubscription:undefined,mixins:[c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerTaggerStore'))],statics:{calculateState:function j(k,l){var m=c('ReactComposerTaggerStore').getTaggersData(k),n=m[c('ReactComposerTaggerType').PEOPLE],o=m[c('ReactComposerTaggerType').LOCATION],p=m[c('ReactComposerTaggerType').ACTIVITY],q=o?o.place:null,r=m[c('ReactComposerTaggerType').PRODUCT],s=m[c('ReactComposerTaggerType').SPONSOR],t=m[c('ReactComposerTaggerType').CONTACT_YOUR_REPRESENTATIVE],u=m[c('ReactComposerTaggerType').ISSUE_TAG];return {people:n,place:q,activity:p,products:r,sponsors:s,politicalRepresentativeInfo:t,issues:u}}},componentWillMount:function j(){this._ogSubscription=c('Arbiter').subscribe('composer/ogCustomIconSelected',function(event,k){if(!c('containsNode')(c('ReactDOM').findDOMNode(this.refs.taggerSummary),k.triggerElement))return;var l=c('ReactComposerTaggerStore').getTaggerData(this.context.composerID,c('ReactComposerTaggerType').ACTIVITY)||{};l.actionIconID=k.icon_id;l.actionIconURI=k.iconURI;c('ReactComposerTaggerActions').setTaggerDataWithoutLogging(this.context.composerID,c('ReactComposerTaggerType').ACTIVITY,l)}.bind(this))},componentWillUnmount:function j(){if(this._ogSubscription){this._ogSubscription.unsubscribe&&this._ogSubscription.unsubscribe();this._ogSubscription=null}},render:function j(){return c('React').createElement('div',{className:"_vww",'data-testid':'tagger-summary'},c('React').createElement(c('ShareDialogTagSummary.react'),{ogObjectClick:this._ogObjectClick,onTagSummaryClick:this._onTagSummaryClick,peopleToExclude:c('immutable').Set([this.context.actorID]),placeTokenClick:this._placeTokenClick,politicalRepresentativeClick:this._onPoliticalRepresentativeClick,ref:'taggerSummary',taggerData:c('immutable').Map({action:this.state.activity.action,actionIconID:this.state.activity.actionIconID,object:this.state.activity.object,people:this.state.people,place:this.state.place,products:this.state.products,sponsors:this.state.sponsors,politicalRepresentativeInfo:this.state.politicalRepresentativeInfo,issues:this.state.issues}),withTokenClick:this._withTokenClick}))},_withTokenClick:function j(){c('ReactComposerTaggerActions').selectTagger(this.context.composerID,c('ReactComposerLoggingName').TAGGER_SUMMARY_PEOPLE,c('ReactComposerTaggerType').PEOPLE)},_placeTokenClick:function j(){c('ReactComposerTaggerActions').selectTagger(this.context.composerID,c('ReactComposerLoggingName').TAGGER_SUMMARY_LOCATION,c('ReactComposerTaggerType').LOCATION)},_ogObjectClick:function j(){c('ReactComposerTaggerActions').selectTagger(this.context.composerID,c('ReactComposerLoggingName').TAGGER_SUMMARY_MINUTIAE,c('ReactComposerTaggerType').ACTIVITY)},_onTagSummaryClick:function j(){c('ReactComposerTaggerActions').deselectCurrentTagger(this.context.composerID,c('ReactComposerLoggingName').TAGGER_SUMMARY_ROW)},_onPoliticalRepresentativeClick:function j(){c('ReactComposerTaggerActions').selectTagger(this.context.composerID,c('ReactComposerLoggingName').TAGGER_SUMMARY_CONTACT_YOUR_REPRESENTATIVE,c('ReactComposerTaggerType').CONTACT_YOUR_REPRESENTATIVE)}});f.exports=i}),null);
__d('ReactComposerVideoUploadPlaceholder.react',['cx','ix','Image.react','React','ReactComponentWithPureRenderMixin','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStore','XUICloseButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerVideoUploadPlaceholder',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerStore'))],propTypes:{onRemoveClick:j.func},statics:{calculateState:function l(m,n){return {posting:c('ReactComposerStore').isPosting(m)}}},render:function l(){var m="_2oe _5ip5",n="_3ew _5iph",o=this.state.posting?null:c('React').createElement(c('XUICloseButton.react'),{className:"_5ipi",onClick:this.props.onRemoveClick,shade:'light',size:'medium'});return c('React').createElement('div',{className:m},o,c('React').createElement(c('Image.react'),{className:n,src:i("82359")}))}});f.exports=k}),null);
__d('ReactComposerVideoUploadPlaceholderContainer.react',['React','ReactComponentWithPureRenderMixin','ReactComposerContextMixin','ReactComposerVideoUploadActions','ReactComposerVideoUploadPlaceholder.react'],(function a(b,c,d,e,f,g){var h=c('React').createClass({displayName:'ReactComposerVideoUploadPlaceholderContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],render:function i(){return c('React').createElement(c('ReactComposerVideoUploadPlaceholder.react'),{onRemoveClick:this._onRemoveClick})},_onRemoveClick:function i(){c('ReactComposerVideoUploadActions').remove(this.context.composerID)}});f.exports=h}),null);
__d('ReactComposerVideoUploadProgressBar.react',['cx','DOMContainer.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){return c('React').createElement('div',{className:"_4340"},c('React').createElement(c('DOMContainer.react'),null,this.props.progressBar))};function l(){i.apply(this,arguments)}l.propTypes={progressBar:k.instanceOf(HTMLElement).isRequired};f.exports=l}),null);
__d('ReactComposerMediaAttachment.react',['cx','fbt','BootloadOnRender.react','ComposerEntryPointRef','immutable','JSResource','LazyComponent.react','MNPageComposerUtils','React','ReactComposerAttachmentType','ReactComposerAudienceSelectorContainer.react','ReactComposerSproutsDisplayState','ReactComposerCollageContainer.react','ReactComposerCollagePlusButton.react','ReactComposerContextMixin','ReactComposerCrossPostToInstagramRow.react','ReactComposerDraftAutosaveContainer.react','ReactComposerDragDropPromptContainer.react','ReactComposerFooterActions.react','ReactComposerFooterContainer.react','ReactComposerMediaAttachmentButtons.react','ReactComposerMediaUploadsGridContainer.react','ReactComposerPostButtonContainer.react','ReactComposerProfilePhotoBlock.react','ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react','ReactComposerStatusFooterContainer.react','ReactComposerStatusUtils','ReactComposerTaggerSummaryContainer.react','ReactComposerTimelineAudienceSelectorNextButtonContainerGatedModule','ReactComposerVideoUploadPlaceholderContainer.react','ReactComposerVideoUploadProgressBar.react','ReactComposerFundraiserAttachmentContainerGated','ReactDOM'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('ReactComposerContextMixin').contextTypes,m=c('ReactComposerTimelineAudienceSelectorNextButtonContainerGatedModule').module,n=c('ReactComposerFundraiserAttachmentContainerGated').module;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$ReactComposerMediaAttachment1=0,q}o.prototype.render=function(){var p=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA],q=this.props.uploads.size>0&&!this.props.slideshowDialogOpen||!!this.props.video||p.canUploadPhoto&&!this.props.createAlbumLink||this.props.shouldShowCanvasSelector||this.props.shouldShowCarouselURLInputArea||this.props.shouldShowPreview||this.props.isCollectionSelected||this.props.isSlideshowSelected,r=null;if(p.PageComposerMediaAttachmentButtons){var s=p.PageComposerMediaAttachmentButtons;r=c('React').createElement(s,{canvasConfig:p.canvasConfig,carouselConfig:p.carouselConfig,collectionConfig:p.collectionConfig,createAlbumLink:this.props.createAlbumLink,mediaAcceptParam:this.props.config.mediaAcceptParam,onFilesSelected:this.props.onFilesSelected,showCanvasEntryPoint:p.showCanvasEntryPoint,showCollectionEntryPoint:p.showCollectionEntryPoint,showCarouselEntryPoint:p.showCarouselEntryPoint,showPhotoAlbumEntryPoint:p.showPhotoAlbumEntryPoint,showSlideshowEntryPoint:p.showSlideshowEntryPoint,showUploadPhotosButton:p.canUploadPhoto,slideshowConfig:p.slideshowConfig,targetData:this.props.config.targetData})}else r=c('React').createElement(c('ReactComposerMediaAttachmentButtons.react'),{showUploadPhotosButton:p.canUploadPhoto,createAlbumLink:this.props.createAlbumLink,mediaAcceptParam:this.props.config.mediaAcceptParam,onFilesSelected:this.props.onFilesSelected,targetData:this.props.config.targetData});return q?this.$ReactComposerMediaAttachment2():c('React').createElement('div',null,c('React').createElement(c('ReactComposerDragDropPromptContainer.react'),{root:this,config:this.props.config}),r)};o.prototype.componentDidMount=function(){var p=c('ReactDOM').findDOMNode(this);this.$ReactComposerMediaAttachment1=p?p.clientWidth:0;var q=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS];if(q)c('ReactComposerStatusUtils').handleMarkdownPreview(this.context.composerID,this.context.targetID,q.markdownPreviewAttachment);};o.prototype.$ReactComposerMediaAttachment3=function(){return m&&this.context.composerType===c('ComposerEntryPointRef').TIMELINE&&this.props.config.targetData.viewerIsTarget?m:this.props.postButtonModule};o.prototype.$ReactComposerMediaAttachment2=function(){var p=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA],q=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],r=this.context.gks&&this.context.gks.isSproutsComposer,s=void 0;if(this.props.shouldShowPreview){var t=p.ComposerAttachmentPreviewContainer,u=c('React').createElement(t,null);if(this.props.shouldShowCanvasSelector){var v=p.canvasConfig.TypeaheadContainer;s=c('React').createElement('div',null,u,c('React').createElement(v,{config:p.canvasConfig}))}else s=u;}else if(this.props.shouldShowCarouselURLInputArea){var w=p.carouselConfig.PhotoCarouselUtils;s=w.getPhotoCarouselMediaContent(p.carouselConfig,this.props.config.nuxConfig)}else if(this.props.shouldShowCanvasSelector){var x=p.canvasConfig,y=x.TypeaheadContainer;s=c('React').createElement(y,{config:x})}else if(this.props.isSlideshowSelected){var z=p.slideshowConfig.thumbnailViewContainer;s=c('React').createElement(z,{maxSelectedImages:p.slideshowConfig.maxPhotoNum,mediaAcceptParam:this.props.config.mediaAcceptParam&&this.props.config.mediaAcceptParam.photos,pageID:p.slideshowConfig.pageID,onFilesSelected:this.props.onFilesSelected})}else if(this.props.isCollectionSelected){var aa=p.collectionConfig.previewContainer;s=c('React').createElement(aa,{config:p.collectionConfig})}else if(this.props.video){s=c('React').createElement('div',null,c('React').createElement(c('ReactComposerVideoUploadPlaceholderContainer.react'),null),c('React').createElement(c('ReactComposerVideoUploadProgressBar.react'),{progressBar:this.props.videoProgressBar}))}else s=c('React').createElement(c('ReactComposerMediaUploadsGridContainer.react'),{enableFaceboxTagger:!p.disableFaceboxTagger,productTaggerType:p.productTaggerType,disablePhotoEditing:p.disablePhotoEditing,disableRemovePhotos:this.props.prefillConfig?this.props.prefillConfig.disableRemovePhotos:false,mediaConfig:p,mediaAcceptParam:this.props.config.mediaAcceptParam&&this.props.config.mediaAcceptParam.both,nuxConfig:this.props.config.nuxConfig,onFilesSelected:this.props.onFilesSelected,canUploadMultiplePhotos:this.props.config.targetData.targetSupportsMultiplePhotos,uploads:this.props.uploads});var ba=this.props.sproutsDisplayState===c('ReactComposerSproutsDisplayState').INLINE,ca=null,da=this.props.shouldShowCollageUploadLayout&&!ba&&this.props.uploads.size<=5&&this.props.uploads.size>0?c('React').createElement(c('ReactComposerCollageContainer.react'),{containerWidth:this.$ReactComposerMediaAttachment1,scaleFactor:this.props.collageScaleFactor,mediaUploads:this.props.uploads,enableFaceboxTagger:!p.disableFaceboxTagger,enablePhotoEditing:!p.disablePhotoEditing,productTaggerType:p.productTaggerType}):null;if(da)ca=c('React').createElement(c('ReactComposerCollagePlusButton.react'),{enableFaceboxTagger:this.props.enableFaceboxTagger,composerConfig:this.props.config});if(da||ba)s=null;var ea=c('React').createElement(c('ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react'),{config:this.props.config,handlePastedText:this.props.handlePastedText,onFocus:this.props.onMentionsInputFocus,onChange:this.props.onMentionsInputChange,onPasteFiles:this.props.onPasteFiles,placeholder:this.$ReactComposerMediaAttachment4(),className:da?"_5b2v":''}),fa=q.multilingualStatus,ga=q.multilingualStatus?c('React').createElement(fa,null):null,ha=c('React').createElement('div',null,ea,ga);if(q.showProfilePic)if(q.templatesConfig){var ia=q.templatesConfig.module;ha=c('React').createElement(ia,{config:this.props.config},ha)}else ha=c('React').createElement(c('ReactComposerProfilePhotoBlock.react'),{profilePhotoBadge:q.customProfilePhoto,profilePicSrc:q.profilePicSrc,profileURI:q.profileURI},ha);var ja=q?q.markdownPreviewAttachment:null,ka=null;if(ja){var la=ja.container;ka=c('React').createElement(la,{prettify:ja.prettify,isMarkdownForInternalEmployee:ja.isMarkdownForInternalEmployee})}var ma=q.donateButtonConfig,na=null;if(ma){var oa=ma.donateButtonContainer;na=c('React').createElement(oa,{charityName:ma.charityName,fundraiserCampaignId:ma.fundraiserCampaignId})}var pa=null;if(q.topicFeedsTagger){var qa=q.topicFeedsTagger,ra=qa.container;pa=c('React').createElement(ra,{composerFeedID:qa.composerFeedID,photoAutoTaggingDelay:qa.photoAutoTaggingDelay,photoPollingDuration:qa.photoPollingDuration,photoPollingInterval:qa.photoPollingInterval,showNux:qa.showNux,textAutoTaggingDelay:qa.textAutoTaggingDelay,darkLaunch:qa.darkLaunch})}var sa=null;if(q.groupPostTagsTagger){var ta=q.groupPostTagsTagger,ua=ta.container;sa=c('React').createElement(ua,{tagsLimit:ta.tagsLimit,groupID:ta.groupID})}var va=!this.props.shouldShowCarouselURLInputArea&&!this.props.isSlideshowSelected,wa=c('MNPageComposerUtils').shouldShowMessagingButton(this.props.photoUploadsCount,this.props.videoUploadsCount,this.props.isSlideshowSelected,this.props.isCanvasSelected,this.props.isCollectionSelected,this.props.isPhotoCarouselSelected,this.props.shouldShowMessagingCTA),xa=null,ya=q.aymtTipConfig;if(ya&&ya.isEligible)xa=c('React').createElement(c('BootloadOnRender.react'),{loader:c('JSResource')('ReactComposerAYMTTip.react').__setRef('ReactComposerMediaAttachment.react'),placeholder:c('React').createElement('div',null),component:c('React').createElement(c('LazyComponent.react'),{pageID:ya.pageID,minLength:ya.minContentLength})});var za=null;if(this.props.config.instagramCrossPostingEnabled&&this.props.uploads.size==1&&!this.props.videoUploadsCount)za=c('React').createElement(c('ReactComposerCrossPostToInstagramRow.react'),{composerID:this.context.composerID});var ab=null;if(n)ab=c('React').createElement(n,null);var bb=null;if(this.props.isOfferLikePost&&q&&q.offerLikePostUpsellInlineBanner){var cb=[];for(var db=0;db<this.props.uploads.size;db++){var eb=this.props.uploads.get(db).photoID;if(eb)cb.push(eb);}var fb=q.offerLikePostUpsellInlineBanner;bb=c('React').createElement(fb,{actorID:this.context.actorID,composerID:this.context.composerID,pageID:q.pageID,photoIDs:cb,text:this.props.offerLikePostText||''})}return c('React').createElement('div',{className:"_2_lq",'data-testid':'media-attachment'},c('React').createElement(c('ReactComposerDragDropPromptContainer.react'),{root:this,config:this.props.config}),this.$ReactComposerMediaAttachment5(),c('React').createElement('div',{className:"_4wbt"},c('React').createElement('div',{className:(this.props.shouldScrollComposerContent&&r?"_1w_g":'')+(da?' '+"_3zko":'')},ha,this.props.children,ka,na,ab,c('React').createElement(c('ReactComposerTaggerSummaryContainer.react'),null),s,da),ca),pa,sa,xa,za,bb,c('React').createElement(c('ReactComposerStatusFooterContainer.react'),{additionalTaggers:this.props.additionalTaggers,additionalFooterActions:this.props.additionalFooterActions,attachmentsConfig:this.props.config.attachmentsConfig,audienceXHP:this.props.config.audienceXHP,config:this.props.config,isCameraIconEnabled:va,isMessagingButtonEnabled:wa,locationTaggerPlaceholder:this.$ReactComposerMediaAttachment6(),mediaAcceptParam:this.props.config.mediaAcceptParam,peopleTaggerPlaceholder:this.$ReactComposerMediaAttachment7(),postButtonLabel:this.props.postButtonLabel?this.props.postButtonLabel:undefined,postButtonModule:this.$ReactComposerMediaAttachment3(),taggersConfig:this.props.taggersConfig?this.props.taggersConfig:this.props.config.taggersConfig,targetData:this.props.config.targetData}))};o.prototype.$ReactComposerMediaAttachment6=function(){if(this.props.video)return i._("Where was this taken?");if(this.props.uploads.size>1)return i._("Where were these photos taken?");if(this.props.uploads.size===1)return i._("Where was this photo taken?");return null};o.prototype.$ReactComposerMediaAttachment7=function(){if(!!this.props.video||this.props.uploads.size>0)return i._("Who were you with?");return null};o.prototype.$ReactComposerMediaAttachment4=function(){if(this.props.placeholder)return this.props.placeholder;var p=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA];if(this.props.video||this.props.uploads.size===1&&this.props.videoUploadsCount===1){return i._("Say something about this video...")}else if(this.props.isSlideshowSelected){return i._("Say something about this slideshow...")}else if(this.props.uploads.size>1){if(this.props.photoUploadsCount===0){return i._("Say something about these videos...")}else if(this.props.videoUploadsCount===0){if(this.props.sphericalPhotoUploadsCount===this.props.photoUploadsCount){return i._("Say something about these 360 photos...")}else return i._("Say something about these photos...");}else return i._("Say something about these media...");}else if(this.props.shouldShowCarouselURLInputArea||this.props.shouldShowPreview){var q=p.carouselConfig.PhotoCarouselUtils;return q.getInputPlaceHolder(p.carouselConfig,this.props.shouldShowPreview)}else if(this.props.sphericalPhotoUploadsCount){return i._("Say something about this 360 photo...")}else return i._("Say something about this photo...");};o.prototype.$ReactComposerMediaAttachment5=function(){var p=this.context.gks&&this.context.gks.topPostButton,q=this.context.gks&&this.context.gks.isSproutsComposer;if(!(p&&q))return null;return c('React').createElement('div',{className:"_4y7p"},this.$ReactComposerMediaAttachment8())};o.prototype.$ReactComposerMediaAttachment8=function(){var p=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA],q=p.footerBackground?p.footerBackground:this.props.config.showExpandedComposer?'white':'light-wash',r=c('React').createElement(c('ReactComposerFooterContainer.react'),{background:q},c('React').createElement('div',{className:'clearfix'},c('React').createElement('div',{className:"rfloat"},this.$ReactComposerMediaAttachment9())));return r};o.prototype.$ReactComposerMediaAttachment9=function(){var p=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],q=p.enableDrafts?c('React').createElement(c('ReactComposerDraftAutosaveContainer.react'),null):null,r=this.props.config.audienceXHP?c('React').createElement(c('ReactComposerAudienceSelectorContainer.react'),{audienceXHP:this.props.config.audienceXHP,viewerIsTarget:this.props.config.targetData.viewerIsTarget}):null,s=this.props.postButtonModule||c('ReactComposerPostButtonContainer.react'),t=c('React').createElement(s,{config:this.props.config});return c('React').createElement(c('ReactComposerFooterActions.react'),null,q,this.props.additionalFooterActions,r,t)};o.defaultProps={collageScaleFactor:1};o.contextTypes=l;f.exports=o}),null);
__d('ReactComposerMediaAttachmentActions',['ReactComposerDispatcher','ReactComposerMediaAttachmentActionType','ReactComposerMediaAttachmentStore'],(function a(b,c,d,e,f,g){c('ReactComposerMediaAttachmentStore');h.prototype.setConfig=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerMediaAttachmentActionType').SET_MEDIA_CONFIG,config:j};c('ReactComposerDispatcher').dispatch(k)};h.prototype.createAlbumSelectorClicked=function(i){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerMediaAttachmentActionType').CREATE_ALBUM_SELECTOR_CLICKED})};function h(){'use strict'}f.exports=new h()}),null);
__d('ReactComposerCanvasStore',['ReactComposerCanvasActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {shouldShowCanvasSelector:false,isCanvasSelected:false}},function(l){switch(l.type){case c('ReactComposerCanvasActionType').SHOW_CANVAS_SELECTOR:k&&k.$ReactComposerCanvasStore1(l);break;case c('ReactComposerCanvasActionType').HIDE_CANVAS_SELECTOR:k&&k.$ReactComposerCanvasStore2(l);break;default:break;}});k=this}j.prototype.$ReactComposerCanvasStore1=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.shouldShowCanvasSelector=true;m.isCanvasSelected=true;this.emitChange(l)};j.prototype.$ReactComposerCanvasStore2=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.shouldShowCanvasSelector=false;m.isCanvasSelected=false;this.emitChange(l)};j.prototype.shouldShowCanvasSelector=function(k){'use strict';return this.getComposerData(k).shouldShowCanvasSelector};j.prototype.isCanvasSelected=function(k){'use strict';return this.getComposerData(k).isCanvasSelected};f.exports=new j()}),null);
__d('ReactComposerVideoUploader',['invariant','Arbiter','ComposerEntryPointRef','DOM','DOMClone','ErrorDialog','QE','React','ReactComposerActions','ReactComposerPostUtilsCore','ReactComposerVideoUploadActions','ReactComposerVideoUploadStore','ReactDOM','Run','SubscriptionsHandler','UserAgent','VideoUploadFile','VideoUploadProcessingDialog.react'],(function a(b,c,d,e,f,g,h){'use strict';var i=b.URL||b.webkitURL||{};function j(k){this.$ReactComposerVideoUploader3=k;this.$ReactComposerVideoUploader2=new (c('SubscriptionsHandler'))();this.$ReactComposerVideoUploader3.composerID||h(0);this.$ReactComposerVideoUploader3.container||h(0);this.$ReactComposerVideoUploader3.progressBarInstance||h(0);this.$ReactComposerVideoUploader3.uploader||h(0);this.$ReactComposerVideoUploader5=k.uploader;this.$ReactComposerVideoUploader1=k.composerID;this.$ReactComposerVideoUploader2.addSubscriptions(this.$ReactComposerVideoUploader5.subscribe('post-failed',this.$ReactComposerVideoUploader6.bind(this)),this.$ReactComposerVideoUploader5.subscribe('post-finished',this.$ReactComposerVideoUploader7.bind(this)),this.$ReactComposerVideoUploader5.subscribe('upload-failed',this.$ReactComposerVideoUploader8.bind(this)),this.$ReactComposerVideoUploader5.subscribe('upload-finished',this.$ReactComposerVideoUploader9.bind(this)));c('Run').onLeave(function(){return this.$ReactComposerVideoUploader5.abandon()}.bind(this));c('Run').onUnload(function(){return this.$ReactComposerVideoUploader5.abandon()}.bind(this))}j.prototype.upload=function(k,l){this.$ReactComposerVideoUploader4=l;var m=c('VideoUploadFile').fromFileInput(k);this.$ReactComposerVideoUploader5.upload(m)};j.prototype.uploadFromFile=function(k,l){var m=k.getFile();if(m&&i.createObjectURL)l.fileURL=i.createObjectURL(m);this.$ReactComposerVideoUploader4=l;this.$ReactComposerVideoUploader5.upload(k)};j.prototype.destroy=function(){this.$ReactComposerVideoUploader2.release()};j.prototype.$ReactComposerVideoUploader10=function(k){if(k)c('ErrorDialog').show(k.error_summary,k.error_description);this.$ReactComposerVideoUploader3.progressBarInstance.reset();this.$ReactComposerVideoUploader5.abandon();c('ReactComposerActions').postError(this.$ReactComposerVideoUploader1,null)};j.prototype.$ReactComposerVideoUploader6=function(k,l){this.$ReactComposerVideoUploader10(l)};j.prototype.$ReactComposerVideoUploader7=function(k,l){c('ReactComposerPostUtilsCore').handlePostSucceeded(this.$ReactComposerVideoUploader1);if(this.$ReactComposerVideoUploader3.composerEntryPointRef===c('ComposerEntryPointRef').TIMELINE)c('QE').logExposure('www_optimistic_video_post');if(this.$ReactComposerVideoUploader3.shouldShowOptimisticVideoPost&&this.$ReactComposerVideoUploader3.composerEntryPointRef===c('ComposerEntryPointRef').TIMELINE){c('Arbiter').inform('videoUpload/complete',{videoID:l.video_id,isToUserProfile:true,videoFileURL:l.fileURL})}else c('ReactDOM').render(c('React').createElement(c('VideoUploadProcessingDialog.react'),{videoID:l.video_id,show:true}),this.$ReactComposerVideoUploader3.container);this.$ReactComposerVideoUploader3.onPostSuccess&&this.$ReactComposerVideoUploader3.onPostSuccess()};j.prototype.$ReactComposerVideoUploader8=function(k,l){this.$ReactComposerVideoUploader10(l);var m=c('ReactComposerVideoUploadStore').getVideo(this.$ReactComposerVideoUploader1);if(c('UserAgent').isBrowser('IE')){var n=c('DOMClone').deepClone(m.input);c('DOM').replace(m.input,n)}else m.input.value='';c('ReactComposerVideoUploadActions').remove(this.$ReactComposerVideoUploader1)};j.prototype.$ReactComposerVideoUploader9=function(){this.$ReactComposerVideoUploader5.post(this.$ReactComposerVideoUploader4);this.$ReactComposerVideoUploader3.onUploadSuccess&&this.$ReactComposerVideoUploader3.onUploadSuccess()};f.exports=j}),null);
__d('ReactComposerMediaAttachmentContainer.react',['invariant','PUWMethods','React','Bootloader','ReactComposerAttachmentActions','ReactComposerAttachmentType','ReactComposerCanvasStore','ReactComposerCollectionStore','ComposerEntryPointRef','ReactComposerLoggingName','ReactComposerMediaAttachment.react','ReactComposerMediaAttachmentStore','ReactComposerMediaUploadActions','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerMediaUtils','ReactComposerPhotoCarouselStore','ReactComposerPhotoUploader','ReactComposerScrapedAttachmentStore','ReactComposerSlideshowActions','ReactComposerSlideshowStore','ReactComposerStatusStore','ReactComposerStatusUtils','ReactComposerStore','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerVideoUploadActions','ReactComposerVideoUploader','ReactComposerVideoUploadStore','FluxContainer','QE2Logger','ReactDOM','SubscriptionsHandler','URLScraper','getByPath','ifRequired','ReactComposerContextMixin'],(function a(b,c,d,e,f,g,h){var i,j,k=c('ReactComposerContextMixin').contextTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m;'use strict';(m=j.constructor).call.apply(m,[this].concat(Array.prototype.slice.call(arguments)));this.$ComposerMediaAttachmentContainer1=function(event,n){var o=c('ReactComposerMediaUtils').handleSpecialMediaUpload(event,n,this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA],this.context);if(o)return;var p=event.target?event.target:n.getInput();this.$ComposerMediaAttachmentContainer2||h(0);c('ReactComposerMediaUtils').uploadPhotosOrVideoFromTarget(this.context.composerID,p,this.$ComposerMediaAttachmentContainer2,this.props.config.targetData.targetSupportsMultiplePhotos,this.props.config.targetData.targetSupportsMultiMedia)}.bind(this);this.$ComposerMediaAttachmentContainer8=function(){if(this.state.selectedTagger!==null&&this.state.selectedTagger!==c('ReactComposerTaggerType').PEOPLE)c('ReactComposerTaggerActions').selectTaggerWithoutAutofocus(this.context.composerID,c('ReactComposerLoggingName').MENTIONS_INPUT_FOCUS,c('ReactComposerTaggerType').PEOPLE);}.bind(this);this.$ComposerMediaAttachmentContainer9=function(n){c('ReactComposerStatusUtils').uploadPastedFile(this.context.composerID,n[0],this.$ComposerMediaAttachmentContainer2);c('ReactComposerMediaUploadActions').photosSelect(this.context.composerID,1,c('PUWMethods').COPYPASTE)}.bind(this);this.$ComposerMediaAttachmentContainer10=function(n,o,p){var q=this.context.composerID,r=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA],s=c('ReactComposerPhotoCarouselStore').shouldShowURLEditArea(q);if(r.carouselConfig&&s&&r.carouselConfig.ComposerPhotoCarouselPlaceHolder)c('ReactComposerStatusUtils').scrapeLink(q,this.context.targetID,n,this.context.composerType,this.context.actorID,c('ReactComposerLoggingName').LINK_PASTED);if(this.props.hasMessagingLink){var t=p?p.getCurrentContent().getPlainText():'',u=c('URLScraper').match(n)||t.concat(n);this.$ComposerMediaAttachmentContainer11(q,u)}return false}.bind(this);this.$ComposerMediaAttachmentContainer7=function(n){var o=this.context.composerID,p=n.getCurrentContent().getPlainText();this.$ComposerMediaAttachmentContainer5(p);if(!c('URLScraper').trigger(p)){if(this.props.hasMessagingLink)this.$ComposerMediaAttachmentContainer11(o,p);var q=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA],r=c('ReactComposerPhotoCarouselStore').shouldShowURLEditArea(o);if(!q.carouselConfig||!r)return;if(q.carouselConfig.ComposerPhotoCarouselPlaceHolder)c('ReactComposerStatusUtils').scrapeLink(o,this.context.targetID,p,this.context.composerType,this.context.actorID,c('ReactComposerLoggingName').INLINE_COMPOSER);}}.bind(this);this.$ComposerMediaAttachmentContainer1=this.$ComposerMediaAttachmentContainer1.bind(this)}l.getStores=function(){'use strict';return [c('ReactComposerCanvasStore'),c('ReactComposerCollectionStore'),c('ReactComposerMediaAttachmentStore'),c('ReactComposerPhotoCarouselStore'),c('ReactComposerMediaUploadStore'),c('ReactComposerScrapedAttachmentStore'),c('ReactComposerSlideshowStore'),c('ReactComposerTaggerStore'),c('ReactComposerVideoUploadStore'),c('ReactComposerStore')]};l.calculateState=function(m,n,o){'use strict';var p=o.composerID,q=c('ReactComposerMediaUploadStore').getUploadsOfType(p,c('ReactComposerMediaUploadType').PHOTO),r=c('ReactComposerMediaUploadStore').getUploadsOfType(p,c('ReactComposerMediaUploadType').VIDEO),s=c('ReactComposerMediaUploadStore').getUploads(p),t=n.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA],u=q.filter(function(v){return v.isSpherical===true}).size;return {createAlbumLink:c('ReactComposerMediaAttachmentStore').getCreateAlbumLink(p),shouldShowCanvasSelector:c('ReactComposerCanvasStore').shouldShowCanvasSelector(p),shouldShowCarouselURLInputArea:c('ReactComposerPhotoCarouselStore').shouldShowURLEditArea(p),shouldShowPreview:c('ReactComposerScrapedAttachmentStore').getMarkup(p)!==null,shouldShowCollageUploadLayout:t.shouldShowCollageUploadLayout,shouldShowMessagingCTA:t.shouldShowMessagingCTA,shouldScrollComposerContent:t.shouldScrollComposerContent,collageScaleFactor:t.collageScaleFactor,slideshowDialogOpen:c('ReactComposerSlideshowStore').shouldShowSlideshowDialog(p),isCanvasSelected:c('ReactComposerCanvasStore').isCanvasSelected(p),isCollectionSelected:c('ReactComposerCollectionStore').isCollectionSelected(p),isPhotoCarouselSelected:c('ReactComposerPhotoCarouselStore').isPhotoCarouselSelected(p),isSlideshowSelected:c('ReactComposerSlideshowStore').isSlideshowSelected(p),selectedTagger:c('ReactComposerTaggerStore').getSelectedTagger(p),uploads:s,isOfferLikePost:m?m.isOfferLikePost:false,offerLikePostText:m?m.offerLikePostText:null,photoUploadsCount:q.size,sphericalPhotoUploadsCount:u,videoUploadsCount:r.size,video:c('ReactComposerVideoUploadStore').getVideo(p),videoProgressBar:c('ReactComposerMediaAttachmentStore').getVideoProgressBar(p),videoProgressBarInstance:c('ReactComposerMediaAttachmentStore').getVideoProgressBarInstance(p),videoUploader:c('ReactComposerMediaAttachmentStore').getVideoUploader(p),sproutsDisplayState:c('ReactComposerStore').getSproutsDisplayState(p)}};l.prototype.componentWillMount=function(){'use strict';this.$ComposerMediaAttachmentContainer4=new (c('SubscriptionsHandler'))();var m=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA];this.$ComposerMediaAttachmentContainer2=new (c('ReactComposerPhotoUploader'))(this.context,m.photoLimit,{disableFaceRecognition:m.disableFaceboxTagger});var n=c('ReactComposerMediaUtils').subscribeToImageEdit(this.context.composerID,this.$ComposerMediaAttachmentContainer2);this.$ComposerMediaAttachmentContainer4.addSubscriptions(n)};l.prototype.componentDidMount=function(){'use strict';var m=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA];this.$ComposerMediaAttachmentContainer3=new (c('ReactComposerVideoUploader'))({composerID:this.context.composerID,container:c('ReactDOM').findDOMNode(this.refs.videoContainer),progressBarInstance:this.state.videoProgressBarInstance,uploader:this.state.videoUploader,shouldShowOptimisticVideoPost:m.shouldShowOptimisticVideoPost,composerEntryPointRef:this.context.composerType});c('ReactComposerVideoUploadActions').setUploader(this.context.composerID,this.$ComposerMediaAttachmentContainer3);var n=c('ReactComposerStatusStore').getMessageText(this.context.composerID);this.$ComposerMediaAttachmentContainer5(n)};l.prototype.componentWillUnmount=function(){'use strict';this.$ComposerMediaAttachmentContainer3&&this.$ComposerMediaAttachmentContainer3.destroy();this.$ComposerMediaAttachmentContainer4&&this.$ComposerMediaAttachmentContainer4.release()};l.prototype.componentWillUpdate=function(m,n){'use strict';n=n||{};var o=this.state.uploads.size>0||!!this.state.video,p=n.uploads.size>0||!!n.video,q=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA];if(q.returnToStatusIfNoUploads&&o&&!p&&!this.state.slideshowDialogOpen){c('ReactComposerAttachmentActions').selectAttachment(this.context.composerID,c('ReactComposerAttachmentType').STATUS,true);if(c('ReactComposerSlideshowStore').isSlideshowSelected(this.context.composerID))c('ReactComposerSlideshowActions').hideSlideshowEditField(this.context.composerID);}};l.prototype.render=function(){'use strict';return c('React').createElement('div',null,c('React').createElement(c('ReactComposerMediaAttachment.react'),babelHelpers['extends']({},this.props,{createAlbumLink:this.state.createAlbumLink,isCanvasSelected:this.$ComposerMediaAttachmentContainer6()?true:this.state.isCanvasSelected,isCollectionSelected:this.state.isCollectionSelected,isPhotoCarouselSelected:this.state.isPhotoCarouselSelected,isSlideshowSelected:this.state.isSlideshowSelected,shouldShowCanvasSelector:this.$ComposerMediaAttachmentContainer6()?true:this.state.shouldShowCanvasSelector,shouldShowCarouselURLInputArea:this.state.shouldShowCarouselURLInputArea,shouldShowCollageUploadLayout:this.state.shouldShowCollageUploadLayout,sproutsDisplayState:this.state.sproutsDisplayState,shouldScrollComposerContent:this.state.shouldScrollComposerContent,collageScaleFactor:this.state.collageScaleFactor,shouldShowPreview:this.state.shouldShowPreview,slideshowDialogOpen:this.state.slideshowDialogOpen,shouldShowMessagingCTA:this.state.shouldShowMessagingCTA,isOfferLikePost:this.state.isOfferLikePost,offerLikePostText:this.state.offerLikePostText,onFilesSelected:this.$ComposerMediaAttachmentContainer1,onMentionsInputChange:this.$ComposerMediaAttachmentContainer7,onMentionsInputFocus:this.$ComposerMediaAttachmentContainer8,onPasteFiles:this.$ComposerMediaAttachmentContainer9,handlePastedText:this.$ComposerMediaAttachmentContainer10,postButtonModule:this.props.postButtonModule,uploads:this.state.uploads,videoUploadsCount:this.state.videoUploadsCount,photoUploadsCount:this.state.photoUploadsCount,sphericalPhotoUploadsCount:this.state.sphericalPhotoUploadsCount,video:this.state.video,videoProgressBar:this.state.videoProgressBar})),c('React').createElement('div',{ref:'videoContainer'}))};l.prototype.$ComposerMediaAttachmentContainer6=function(){'use strict';var m=false;c('ifRequired')('ReactObjectiveFirstPagesComposerViewMode',function(n){m=this.props.viewMode===n.CREATE_CANVAS_VIEW}.bind(this));return m};l.prototype.$ComposerMediaAttachmentContainer11=function(m,n){'use strict';var o=this.props.config.taggersConfig,p=c('getByPath')(o,[c('ReactComposerTaggerType').MESSAGING,'canDefaultCTAMessagingLink']);if(this.props.hasMessagingLink&&this.props.hasMessagingLink(n)&&!c('ReactComposerTaggerStore').hasMessagingCTA(m)){c('QE2Logger').logExposureForUser('composer_default_cta_messaging_link_in_text_universe');if(p)c('ReactComposerTaggerActions').selectTagger(m,c('ReactComposerLoggingName').MESSAGING_TAGGER,c('ReactComposerTaggerType').MESSAGING);}};l.prototype.$ComposerMediaAttachmentContainer5=function(m){'use strict';var n=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS];if(this.context.composerType===c('ComposerEntryPointRef').PAGES_FEED)c('Bootloader').loadModules(["SalesPromoUtils.react"],function(o){if(o.checkIsOLP(m)){var p=n.offerLikePostUpsell,q=p.indexOf('inline')!==-1;if(q)this.setState({isOfferLikePost:true,offerLikePostText:m});if(p==='none'||q)c('QE2Logger').logExposureForPage('orgoff_offer_creation',n.pageID);}else this.setState({offerLikePostText:m});}.bind(this),'ReactComposerMediaAttachmentContainer.react');};l.contextTypes=k;f.exports=c('FluxContainer').create(l,{withContext:true,withProps:true})}),null);
__d('ReactComposerVideoCopyrightDialog.react',['fbt','LayerHideOnEscape','React','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerVideoCopyrightDialog1=function(){this.props.onCancel&&this.props.onCancel()}.bind(this),this.$ReactComposerVideoCopyrightDialog2=function(){this.props.onCancel&&this.props.onCancel()}.bind(this),n}l.prototype.componentDidMount=function(){'use strict';this.refs.dialog.layer.subscribe('hide',this.$ReactComposerVideoCopyrightDialog1)};l.prototype.render=function(){'use strict';return c('React').createElement(c('XUIDialog.react'),{ref:'dialog',shown:this.props.shown,width:500,layerHideOnBlur:false,behaviors:{LayerHideOnEscape:c('LayerHideOnEscape')},key:'dialog'},c('React').createElement(c('XUIDialogBody.react'),null,h._("Please confirm that the content you are uploading does not infringe upon the intellectual property rights of any third party and that you have secured all rights necessary to copy, display and publicly perform the uploaded content (including any musical compositions or sound recordings included in the content) on Facebook.")),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIButton.react'),{use:'confirm',onClick:this.props.onConfirm,label:h._("Confirm")}),c('React').createElement(c('XUIButton.react'),{onClick:this.props.onCancel,label:h._("Cancel")})))};l.propTypes={shown:k.bool,onConfirm:k.func,onCancel:k.func};f.exports=l}),null);
__d('ReactComposerMediaAttachmentPostButton.react',['fbt','React','ReactComposerConfig','ReactComposerPostButtonContainer.react','ReactComposerVideoCopyrightDialog.react','ReactFragment','XUIContextualDialog.react','XUIContextualDialogBody.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={copyrightDialogShown:false},this.$ReactComposerMediaAttachmentPostButton3=function(){if(this.props.showCopyrightDialogOnPost){this.setState({copyrightDialogShown:true});return false}if(this.props.onClick){this.props.onClick();return false}return true}.bind(this),this.$ReactComposerMediaAttachmentPostButton1=function(){this.setState({copyrightDialogShown:false})}.bind(this),this.$ReactComposerMediaAttachmentPostButton2=function(){this.setState({copyrightDialogShown:false});this.props.onClick&&this.props.onClick()}.bind(this),n}l.prototype.renderLayers=function(){return c('ReactFragment').create({limitDialog:c('React').createElement(c('XUIContextualDialog.react'),{alignment:'right',contextRef:function(){return this.refs.post}.bind(this),position:'below',shown:this.props.limitExceeded,width:this.props.contextualDialogWidth},c('React').createElement(c('XUIContextualDialogBody.react'),null,h._("You can only add {number} photos at a time",[h.param('number',this.props.photoLimit)]))),copyrightDialog:c('React').createElement(c('ReactComposerVideoCopyrightDialog.react'),{shown:this.state.copyrightDialogShown,onCancel:this.$ReactComposerMediaAttachmentPostButton1,onConfirm:this.$ReactComposerMediaAttachmentPostButton2})})};l.prototype.render=function(){return c('React').createElement('span',null,c('React').createElement(c('ReactComposerPostButtonContainer.react'),{config:this.props.config,forceDisabled:this.props.disabled,onClickPreprocess:this.$ReactComposerMediaAttachmentPostButton3,label:this.props.label,ref:'post'}),this.renderLayers())};l.propTypes={config:c('ReactComposerConfig').isRequired,disabled:k.bool,limitExceeded:k.bool,onClick:k.func,photoLimit:k.number.isRequired,showCopyrightDialogOnPost:k.bool,label:k.string,contextualDialogWidth:k.number};l.defaultProps={disabled:false,limitExceeded:false,showCopyrightDialogOnPost:false,contextualDialogWidth:300};f.exports=l}),null);
__d('ReactComposerMediaEagerAttachment.react',['React','ReactComposerAttachmentActions','ReactComposerAttachmentBodyMixin','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerMediaAttachmentActions','ReactComposerMediaAttachmentContainer.react','ReactComposerStatusActions','ReactComposerTaggerActions'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerMediaEagerAttachment',mixins:[c('ReactComposerAttachmentBodyMixin')()],propTypes:{config:c('ReactComposerConfig').isRequired,postButtonModule:h.func.isRequired},statics:{attachmentID:c('ReactComposerAttachmentType').MEDIA},componentWillMount:function j(){var k=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA].bootstrapData;c('ReactComposerStatusActions').setMentionsSource(this.context.composerID,k.mentionsSource);c('ReactComposerMediaAttachmentActions').setConfig(this.context.composerID,k);c('ReactComposerAttachmentActions').setInitialized(this.context.composerID,c('ReactComposerAttachmentType').MEDIA)},componentDidMount:function j(){c('ReactComposerTaggerActions').updateTaggersSource(this.context.composerID,this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA].bootstrapData.taggersSource)},renderX:function j(){return c('React').createElement(c('ReactComposerMediaAttachmentContainer.react'),this.props)}});f.exports=i}),null);
__d('ReactComposerMediaPostButtonContainerMixin',['React','ReactComponentWithPureRenderMixin','ReactComposerActions','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerConstants','ReactComposerContextMixin','ReactComposerMediaAttachmentPostButton.react','ReactComposerMediaUploadStore','ReactComposerOptimisticPostingActions','ReactComposerPhotoStore','ReactComposerPostUtils','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStore','ReactComposerVideoUploadStore'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i={mixins:[c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerMediaUploadStore'),c('ReactComposerPhotoStore'),c('ReactComposerStore'),c('ReactComposerVideoUploadStore')),c('ReactComponentWithPureRenderMixin')],propTypes:{config:c('ReactComposerConfig').isRequired,onClickPreprocess:h.func,label:h.string,forceDisabled:h.bool},statics:{calculateState:function j(k,l,m){var n=l.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA],o=c('ReactComposerPhotoStore').isLimitExceeded(k,n.photoLimit),p=m.gks[c('ReactComposerConstants').GK_VIDEO_COPYRIGHT]&&!!c('ReactComposerVideoUploadStore').getVideo(k),q=c('ReactComposerVideoUploadStore').getVideo(k)&&c('ReactComposerStore').isPosting(k),r=c('ReactComposerPhotoStore').isSphericalPhotoUpdating(k),s=c('ReactComposerMediaUploadStore').isUploading(k)||c('ReactComposerPhotoStore').isRecognizing(k)||r||q,t=m.gks.optimisticPosting?o:c('ReactComposerPostUtils').isPostButtonDisabled(k,n.photoLimit);return {limitExceeded:o,isUploading:s,disabled:l.forceDisabled||t,showCopyrightDialogOnPost:p}}},render:function j(){var k=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA].photoLimit;return c('React').createElement(c('ReactComposerMediaAttachmentPostButton.react'),{disabled:this.state.disabled,limitExceeded:this.state.limitExceeded,onClick:this._onClick,photoLimit:k,showCopyrightDialogOnPost:this.state.showCopyrightDialogOnPost,config:this.props.config,label:this.props.label})},_onClick:function j(){if(this.props.onClickPreprocess)if(!this.props.onClickPreprocess())return;if(this.context.gks.optimisticPosting){if(this.state.isUploading){c('ReactComposerOptimisticPostingActions').startOptimisticallyPosting(this.context.composerID,this.props.config,c('ReactComposerAttachmentType').MEDIA,this.context.actorID,this.context.targetID)}else this._startPost();}else this._startPost();},_startPost:function j(){c('ReactComposerActions').postStarted(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID})}};f.exports=i}),null);
__d('ReactComposerSessionMetricsActions',['ReactComposerDispatcher','ReactComposerSessionMetricsActionTypes','ReactComposerSessionMetricsStore'],(function a(b,c,d,e,f,g){c('ReactComposerSessionMetricsStore');var h={keystroke:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSessionMetricsActionTypes').KEYSTROKE})},paste:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSessionMetricsActionTypes').PASTE})}};f.exports=h}),null);
__d('ReactComposerPromptsActions',['ReactComposerDispatcher','ReactComposerPromptsActionTypes','ReactComposerPromptsStore'],(function a(b,c,d,e,f,g){c('ReactComposerPromptsStore');h.prototype.setMinutiaeData=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerPromptsActionTypes').SET_MINUTIAE_DATA,minutiaeData:j})};h.prototype.setPromptData=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerPromptsActionTypes').SET_PROMPT_DATA,promptData:j})};h.prototype.setPromptXHP=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerPromptsActionTypes').SET_PROMPT_XHP,promptXHP:j})};h.prototype.setMemeCategoryID=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerPromptsActionTypes').SET_MEME_CATEGORY_ID,memeCategoryID:j})};function h(){'use strict'}f.exports=new h()}),null);
__d('ReactComposerPromptsLoggingActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({SET_SELECTED_MEME:null},'ReactComposerPromptsLoggingActionTypes')}),null);
__d('ReactComposerPromptsLoggingStore',['AsyncRequest','ComposerXSessionIDs','MemePickerLogger','PromptsInteractionsEventNames','ReactComposerActionTypes','ReactComposerPromptsLoggingActionTypes','ReactComposerPromptsStore','ReactComposerStoreBase','ReactComposerTaggerStore','ReactComposerTaggerType','XReactFeedComposerXPromptDismissController'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {}},function(l){k&&k.handler(l)});k=this}j.prototype.handler=function(k){'use strict';switch(k.type){case c('ReactComposerActionTypes').POST_STARTED:this.$ReactComposerPromptsLoggingStore1(k);break;case c('ReactComposerPromptsLoggingActionTypes').SET_SELECTED_MEME:this.$ReactComposerPromptsLoggingStore2(k);break;default:}};j.prototype.$ReactComposerPromptsLoggingStore1=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.$ReactComposerPromptsLoggingStore3(l);m&&this.$ReactComposerPromptsLoggingStore4(m,l);var n=this.$ReactComposerPromptsLoggingStore5(l);if(n)c('MemePickerLogger').logMemePosted(n);};j.prototype.$ReactComposerPromptsLoggingStore3=function(k){'use strict';if(this.$ReactComposerPromptsLoggingStore5(k))return c('PromptsInteractionsEventNames').POST_PROMPT;if(c('ReactComposerPromptsStore').getMinutiaeData(k))if(this.$ReactComposerPromptsLoggingStore6(k)){return c('PromptsInteractionsEventNames').POST_WITHOUT_PROMPT}else return c('PromptsInteractionsEventNames').POST_PROMPT;return null};j.prototype.$ReactComposerPromptsLoggingStore6=function(k){'use strict';var l=c('ReactComposerPromptsStore').getMinutiaeData(k);if(!l)return false;return this.$ReactComposerPromptsLoggingStore7(k,l)||this.$ReactComposerPromptsLoggingStore8(k,l)};j.prototype.$ReactComposerPromptsLoggingStore7=function(k,l){'use strict';var m=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').ACTIVITY),n=l[c('ReactComposerTaggerType').ACTIVITY];if(!n||!n.action||!n.object)return false;if(!m||!m.action||!m.object)return true;return m.action.getUniqueID()!==n.action.getUniqueID()||m.object.getUniqueID()!==n.object.getUniqueID()};j.prototype.$ReactComposerPromptsLoggingStore8=function(k,l){'use strict';var m=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').LOCATION),n=l[c('ReactComposerTaggerType').LOCATION];if(!n||!n.place)return false;if(!m||!m.place)return true;return m.place.getUniqueID()!==n.place.getUniqueID()};j.prototype.$ReactComposerPromptsLoggingStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','selectedMeme']),m=l[0],n=l[1],o=this.getComposerData(m);o.selectedMeme=n};j.prototype.$ReactComposerPromptsLoggingStore5=function(k){'use strict';return this.getComposerData(k).selectedMeme};j.prototype.$ReactComposerPromptsLoggingStore4=function(event,k){'use strict';var l=c('ReactComposerPromptsStore').getPromptData(k);if(!l)return;new (c('AsyncRequest'))().setURI(c('XReactFeedComposerXPromptDismissController').getURIBuilder().getURI()).setData({user_action:event,prompt_id:l.promptID,prompt_type:l.promptType,prompt_tracking_string:l.trackingString,composer_session_id:c('ComposerXSessionIDs').getSessionID(k)}).send()};f.exports=new j()}),null);
__d('ReactComposerStatusPrompt.react',['Arbiter','DOMContainer.react','React','ReactComposerEvents','ReactComposerPrefillStore','ReactComposerPromptsActions','ReactComposerPromptsStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerPromptsLoggingStore'],(function a(b,c,d,e,f,g){c('ReactComposerPromptsLoggingStore');var h=c('React').createClass({displayName:'ReactComposerStatusPrompt',_prefillSubscription:undefined,mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerPromptsStore'))],statics:{calculateState:function i(j,k){return {promptXHP:c('ReactComposerPromptsStore').getPromptXHP(j)}}},getDefaultProps:function i(){return {hidePrompt:false}},componentWillMount:function i(){this._prefillSubscription=c('Arbiter').subscribe(c('ReactComposerEvents').SET_PREFILL_DATA+this.context.composerID,this._handlePrefill)},componentWillUnmount:function i(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null},render:function i(){if(this.props.hidePrompt||!this.state.promptXHP)return null;return c('React').createElement(c('DOMContainer.react'),null,this.state.promptXHP)},_handlePrefill:function i(){var j=c('ReactComposerPrefillStore').getAndEraseField(this.context.composerID,'prompt');if(j)c('ReactComposerPromptsActions').setPromptXHP(this.context.composerID,j);}});f.exports=h}),null);
__d('ReactComposerStatusAttachment.react',['cx','Arbiter','ComposerEntryPointRef','React','ReactComposerAttachmentPreviewContainer.react','ReactComposerAttachmentType','ReactComposerAudienceActions','ReactComposerAudienceSelectorContainer.react','ReactComposerContextMixin','ReactComposerDraftAutosaveContainer.react','ReactComposerDragDropPromptContainer.react','ReactComposerEvents','ReactComposerFooterActions.react','ReactComposerFooterContainer.react','ReactComposerPostButtonContainer.react','ReactComposerProfilePhotoBlock.react','ReactComposerSessionMetricsActions','ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react','ReactComposerStatusFooterContainer.react','ReactComposerStatusPrompt.react','ReactComposerTaggerSummaryContainer.react','ReactComposerTaggerSummaryPlaceholder.react','ReactComposerTaggerType','ReactComposerTimelineAudienceSelectorNextButtonContainerGatedModule','ReactComposerFundraiserAttachmentContainerGated','XUISpinner.react','emptyFunction','ReactComposerStatusActions','ReactComposerPrefillMentionsInput','DraftModifier','EditorState','ReactInputSelection','SelectionState'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('ReactComposerContextMixin').contextTypes,l=c('ReactComposerTimelineAudienceSelectorNextButtonContainerGatedModule').module,m=c('ReactComposerFundraiserAttachmentContainerGated').module;c('ReactComposerStatusActions');c('ReactComposerPrefillMentionsInput');c('DraftModifier');c('EditorState');c('ReactInputSelection');c('SelectionState');i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$ReactComposerStatusAttachment1=null,this.$ReactComposerStatusAttachment3=function(t){c('ReactComposerSessionMetricsActions').keystroke(this.context.composerID)}.bind(this),this.$ReactComposerStatusAttachment4=function(t){c('ReactComposerSessionMetricsActions').paste(this.context.composerID)}.bind(this),p}n.prototype.componentDidMount=function(){if(this.props.isActive)this.refs.mentionsInput.focus();if(this.context.gks&&!this.context.gks.addAnyPostToAlbum)c('ReactComposerAudienceActions').setCollectionIDWithoutLogging(this.context.composerID,null);};n.prototype.componentWillUnmount=function(){this.$ReactComposerStatusAttachment1&&this.$ReactComposerStatusAttachment1.release()};n.prototype.$ReactComposerStatusAttachment2=function(){return l&&this.context.composerType===c('ComposerEntryPointRef').TIMELINE&&this.props.config.targetData.viewerIsTarget?l:this.props.postButtonModule};n.prototype.render=function(){var o,p=this.context.gks&&this.context.gks.isSproutsComposer;if(this.props.isActive||this.props.config.showExpandedComposer)o=c('React').createElement(c('ReactComposerStatusFooterContainer.react'),{additionalTaggers:this.props.additionalTaggers,additionalFooterActions:this.props.additionalFooterActions,attachmentsConfig:this.props.config.attachmentsConfig,audienceXHP:this.props.config.audienceXHP,bootloader:this.props.bootloader,config:this.props.config,mediaAcceptParam:this.props.config.mediaAcceptParam,postButtonLabel:this.props.postButtonLabel?this.props.postButtonLabel:undefined,postButtonModule:this.$ReactComposerStatusAttachment2(),prefillConfig:this.props.prefillConfig,taggersConfig:this.props.taggersConfig?this.props.taggersConfig:this.props.config.taggersConfig,targetData:this.props.config.targetData,weakMention:this.props.weakMention});var q=this.props.isActive?c('React').createElement(c('ReactComposerTaggerSummaryContainer.react'),null):c('React').createElement(c('ReactComposerTaggerSummaryPlaceholder.react'),null),r=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],s=r.multilingualStatus,t=r.multilingualStatus&&this.props.isActive?c('React').createElement(s,null):null,u=r.markdownPreviewAttachment,v=null;if(u&&this.props.isActive){var w=u.container;v=c('React').createElement(w,{prettify:u.prettify,isMarkdownForInternalEmployee:u.isMarkdownForInternalEmployee})}var x=r.donateButtonConfig,y=null;if(x){var z=x.donateButtonContainer;y=c('React').createElement(z,{charityName:x.charityName,fundraiserCampaignId:x.fundraiserCampaignId})}var aa=c('React').createElement(c('ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react'),{config:this.props.config,onChange:this.props.onMentionsInputChange,onFocus:this.props.onFocus,onPasteFiles:this.props.onPasteFiles,handlePastedText:this.props.handlePastedText,onPostIntent:this.props.onPostIntent,placeholder:this.props.placeholder,prefillConfig:this.props.prefillConfig,ref:'mentionsInput'}),ba=this.props.config.taggersConfig,ca=null;if(ba&&ba[c('ReactComposerTaggerType').FORMATTED_TEXT]&&ba[c('ReactComposerTaggerType').FORMATTED_TEXT].noSproutDesign&&ba[c('ReactComposerTaggerType').FORMATTED_TEXT].enabled&&ba[c('ReactComposerTaggerType').FORMATTED_TEXT].textFormats&&ba[c('ReactComposerTaggerType').FORMATTED_TEXT].containerModule){var da=ba[c('ReactComposerTaggerType').FORMATTED_TEXT].containerModule;ca=c('React').createElement(da,{statusAttachmentActive:this.props.isActive,textFormats:ba[c('ReactComposerTaggerType').FORMATTED_TEXT].textFormats,defaultFormat:ba[c('ReactComposerTaggerType').FORMATTED_TEXT].defaultFormat,textLengthLimit:ba[c('ReactComposerTaggerType').FORMATTED_TEXT].textLengthLimit,autoOpen:ba[c('ReactComposerTaggerType').FORMATTED_TEXT].autoOpen,maxNewlines:ba[c('ReactComposerTaggerType').FORMATTED_TEXT].maxNewlines,stickyStylesEnabled:ba[c('ReactComposerTaggerType').FORMATTED_TEXT].stickyStylesEnabled,shouldAutoOpenWhenUserStartsTyping:ba[c('ReactComposerTaggerType').FORMATTED_TEXT].shouldAutoOpenWhenUserStartsTyping,shouldUseNewComposerPickerDesign:ba[c('ReactComposerTaggerType').FORMATTED_TEXT].shouldUseNewComposerPickerDesign,noSproutDesign:ba[c('ReactComposerTaggerType').FORMATTED_TEXT].noSproutDesign,badgingEnabled:ba[c('ReactComposerTaggerType').FORMATTED_TEXT].badgingEnabled})}var ea=c('React').createElement('div',{onKeyDown:this.$ReactComposerStatusAttachment3,onPaste:this.$ReactComposerStatusAttachment4,role:'presentation'},aa,t);if(r.showProfilePic){var fa=r.redirect?c('emptyFunction'):function(){c('Arbiter').inform(c('ReactComposerEvents').ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this);if(r.templatesConfig){var ga=r.templatesConfig.module;ea=c('React').createElement(ga,{config:this.props.config},ea)}else ea=c('React').createElement(c('ReactComposerProfilePhotoBlock.react'),{profileName:r.profileName,profilePhotoBadge:r.customProfilePhoto,profilePicSrc:r.profilePicSrc,profileURI:r.profileURI,profileDialogURI:r.profileDialogURI,currentProfileBadgeURI:r.currentProfileBadgeURI,profileBadgeNUX:r.customProfilePhotoNux,onClick:fa},ea);}var ha=null;if(r.topicFeedsTagger&&this.props.isActive){var ia=r.topicFeedsTagger,ja=ia.container;ha=c('React').createElement(ja,{composerFeedID:ia.composerFeedID,photoAutoTaggingDelay:ia.photoAutoTaggingDelay,photoPollingDuration:ia.photoPollingDuration,photoPollingInterval:ia.photoPollingInterval,showNux:ia.showNux,textAutoTaggingDelay:ia.textAutoTaggingDelay,topicLimit:ia.topicLimit,darkLaunch:ia.darkLaunch})}var ka=null;if(r.groupPostTagsTagger&&this.props.isActive){var la=r.groupPostTagsTagger,ma=la.container;ka=c('React').createElement(ma,{tagsLimit:la.tagsLimit,groupID:la.groupID,showNux:la.showNux,canCreate:la.canCreate,addTagImage:la.addTagImage})}var na=this.props.config.shouldShowPreviewSpinner?c('React').createElement(c('ReactComposerAttachmentPreviewContainer.react'),{spinner:c('React').createElement(c('XUISpinner.react'),{background:'light',size:'large'})}):c('React').createElement(c('ReactComposerAttachmentPreviewContainer.react'),null),oa=null;if(this.props.olpDetected&&r.offerLikePostUpsellInlineBanner){var pa=r.offerLikePostUpsellInlineBanner;oa=c('React').createElement(pa,{actorID:this.context.actorID,composerID:this.context.composerID,text:this.props.olpText||'',pageID:r.pageID,photoIDs:[]})}return c('React').createElement('div',{className:this.props.className},c('React').createElement(c('ReactComposerDragDropPromptContainer.react'),{root:this,config:this.props.config}),this.$ReactComposerStatusAttachment5(),c('React').createElement('div',{className:(r.shouldScrollComposerContent&&p?"_1w_g":'')+(' '+"_i-o")},c('React').createElement('div',{className:"_3eny"},ea,oa,this.props.children,ca,na,m?c('React').createElement(m,null):null,q,c('React').createElement(c('ReactComposerStatusPrompt.react'),{hidePrompt:this.props.isActive}),v,c('React').createElement('div',{className:"_3enz"+(' '+"_3eo2")}))),y,ha,ka,o)};n.prototype.$ReactComposerStatusAttachment5=function(){var o=this.context.gks&&this.context.gks.topPostButton,p=this.context.gks&&this.context.gks.isSproutsComposer;if(!(o&&p))return null;return c('React').createElement('div',{className:"_4y7p"},this.$ReactComposerStatusAttachment6())};n.prototype.$ReactComposerStatusAttachment6=function(){var o=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],p=o.footerBackground?o.footerBackground:this.props.config.showExpandedComposer?'white':'light-wash',q=c('React').createElement(c('ReactComposerFooterContainer.react'),{background:p},c('React').createElement('div',{className:'clearfix'},c('React').createElement('div',{className:"rfloat"},this.$ReactComposerStatusAttachment7())));return q};n.prototype.$ReactComposerStatusAttachment7=function(){var o=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],p=o.enableDrafts?c('React').createElement(c('ReactComposerDraftAutosaveContainer.react'),null):null,q=this.props.config.audienceXHP?c('React').createElement(c('ReactComposerAudienceSelectorContainer.react'),{audienceXHP:this.props.config.audienceXHP,viewerIsTarget:this.props.config.targetData.viewerIsTarget}):null,r=this.props.postButtonModule||c('ReactComposerPostButtonContainer.react'),s=c('React').createElement(r,{config:this.props.config});return c('React').createElement(c('ReactComposerFooterActions.react'),null,p,this.props.additionalFooterActions,q,s)};n.contextTypes=k;f.exports=n}),null);
__d('ReactComposerStatusAttachmentContainer.react',['Bootloader','ReactComposerAttachmentActions','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerContextMixin','ReactComposerLocationAttachmentActions','ReactComposerLoggingName','ReactComposerPhotoUploader','ReactComposerScrapedAttachmentActions','ReactComposerStatusAttachment.react','ReactComposerStatusAttachmentFocusStore','ReactComposerStatusStore','ReactComposerStatusUtils','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','ComposerEntryPointRef','FluxContainer','URLScraper','QE2Logger','React','ifRequired'],(function a(b,c,d,e,f,g){var h,i,j=c('ReactComposerContextMixin').contextTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$ReactComposerStatusAttachmentContainer2=false,this.state={olpDetected:false,olpText:null,placeholder:''},this.$ReactComposerStatusAttachmentContainer3=function(){if(c('ReactComposerAttachmentStore').getSelectedAttachmentID(this.context.composerID)!==c('ReactComposerAttachmentType').STATUS)return;c('ReactComposerAttachmentActions').selectAttachment(this.context.composerID,c('ReactComposerAttachmentType').STATUS,true);var q=c('ReactComposerTaggerStore').getSelectedTagger(this.context.composerID);if(q!==c('ReactComposerTaggerType').FORMATTED_TEXT)c('ReactComposerTaggerActions').deselectCurrentTagger(this.context.composerID,c('ReactComposerLoggingName').INLINE_COMPOSER);}.bind(this),this.$ReactComposerStatusAttachmentContainer4=function(q){var r=q.getCurrentContent().getPlainText(),s=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS];if(this.context.composerType===c('ComposerEntryPointRef').PAGES_FEED)c('Bootloader').loadModules(["SalesPromoUtils.react"],function(t){if(t.checkIsOLP(r)){var u=s.offerLikePostUpsell,v=u.indexOf('inline')!==-1;if(v)this.setState({olpDetected:true,olpText:r});if(u==='none'||v)c('QE2Logger').logExposureForPage('orgoff_offer_creation',s.pageID);}else this.setState({olpText:r});}.bind(this),'ReactComposerStatusAttachmentContainer.react');if(!c('URLScraper').trigger(r))c('ReactComposerStatusUtils').scrapeLink(this.context.composerID,this.context.targetID,r,this.context.composerType,this.context.actorID,c('ReactComposerLoggingName').INLINE_COMPOSER);if(!this.$ReactComposerStatusAttachmentContainer2&&r.length>0&&c('ReactComposerTaggerStore').getSelectedTagger(this.context.composerID)===null){c('ifRequired')('ReactComposerFormattedTextStore',function(t){if(t.getShouldAutoOpenWhenUserStartsTyping(this.context.composerID)){c('ifRequired')('ReactComposerFormattedTextActions',function(u){u.setShouldFadeInPicker(this.context.composerID,true)}.bind(this));c('ReactComposerTaggerActions').selectTagger(this.context.composerID,c('ReactComposerLoggingName').FORMATTED_TEXT_TAGGER,c('ReactComposerTaggerType').FORMATTED_TEXT)}}.bind(this));this.$ReactComposerStatusAttachmentContainer2=true}}.bind(this),this.$ReactComposerStatusAttachmentContainer5=function(q){c('ReactComposerAttachmentActions').selectAttachment(this.context.composerID,c('ReactComposerAttachmentType').MEDIA,true);c('ReactComposerStatusUtils').uploadPastedFile(this.context.composerID,q[0],this.$ReactComposerStatusAttachmentContainer1)}.bind(this),this.$ReactComposerStatusAttachmentContainer6=function(q,r,s){var t=c('ReactComposerStatusStore').getEditorState(this.context.composerID),u=t?t.getCurrentContent().getPlainText():'',v=c('URLScraper').match(q)||u.concat(q);c('ReactComposerStatusUtils').scrapeLink(this.context.composerID,this.context.targetID,v,this.context.composerType,this.context.actorID,c('ReactComposerLoggingName').LINK_PASTED);return false}.bind(this),m}k.getStores=function(){'use strict';return [c('ReactComposerAttachmentStore'),c('ReactComposerStatusStore'),c('ReactComposerStatusAttachmentFocusStore'),c('ReactComposerTaggerStore')]};k.calculateState=function(l,m,n){'use strict';var o=n.composerID,p=c('ReactComposerAttachmentStore').isSelectedAttachmentActive(o),q=c('ReactComposerStatusAttachmentFocusStore').isInputFocused(o),r=c('ReactComposerStatusStore').getMentions(o),s=null;if(r)for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&r[t].isWeak==true){s=r[t];break}var u=c('ReactComposerTaggerStore').getTaggerData(o,c('ReactComposerTaggerType').FUN_FACT),v=u&&u.promptID?m.config.taggersConfig[c('ReactComposerTaggerType').FUN_FACT].placeholder:m.placeholder;return {isActive:p||q,olpDetected:l&&l.olpDetected,olpText:l&&l.olpText,placeholder:v,weakMention:s}};k.prototype.componentWillMount=function(){'use strict';var l=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA];this.$ReactComposerStatusAttachmentContainer1=new (c('ReactComposerPhotoUploader'))(this.context,l.photoLimit,{disableFaceRecognition:l.disableFaceboxTagger});var m=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS];if(m)if(m.defaultMarkdownOn){var n=c('ReactComposerTaggerStore').hasMarkdown(this.context.composerID);c('ReactComposerTaggerActions').setTaggerData(this.context.composerID,c('ReactComposerLoggingName').MARKDOWN_TAGGER,c('ReactComposerTaggerType').MARKDOWN,n?null:{isMarkdown:true})}};k.prototype.componentDidMount=function(){'use strict';var l=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS];c('ReactComposerScrapedAttachmentActions').enabled(this.context.composerID,l.canScrapeShare);c('ReactComposerLocationAttachmentActions').enabled(this.context.composerID,!!l.canAttachLocation);if(this.props.scrapeLinkOnInit){var m=c('ReactComposerStatusStore').getMessageText(this.context.composerID);if(m)c('ReactComposerStatusUtils').scrapeLink(this.context.composerID,this.context.targetID,m,this.context.composerType,this.context.actorID,c('ReactComposerLoggingName').INLINE_COMPOSER);}};k.prototype.render=function(){'use strict';return c('React').createElement(c('ReactComposerStatusAttachment.react'),babelHelpers['extends']({},this.props,this.state,{config:this.props.config,onFocus:this.$ReactComposerStatusAttachmentContainer3,onMentionsInputChange:this.$ReactComposerStatusAttachmentContainer4,onPasteFiles:this.$ReactComposerStatusAttachmentContainer5,handlePastedText:this.$ReactComposerStatusAttachmentContainer6,placeholder:this.state.placeholder,postButtonModule:this.props.postButtonModule}))};k.defaultProps={scrapeLinkOnInit:true};k.contextTypes=j;f.exports=c('FluxContainer').create(k,{withProps:true,withContext:true})}),null);
__d('ReactComposerStatusEagerAttachment.react',['fbt','Arbiter','React','ReactComposerAttachmentActions','ReactComposerAttachmentBodyMixin','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerPrefillConfig','ReactComposerStatusActions','ReactComposerStatusAttachmentContainer.react','ReactComposerTaggerActions'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerStatusEagerAttachment',mixins:[c('ReactComposerAttachmentBodyMixin')()],propTypes:{config:c('ReactComposerConfig').isRequired,postButtonModule:i.func.isRequired,selected:i.bool,prefillConfig:c('ReactComposerPrefillConfig')},getDefaultProps:function k(){return {placeholder:h._("What's on your mind?")}},statics:{attachmentID:c('ReactComposerAttachmentType').STATUS},componentWillMount:function k(){var l=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS].bootstrapData;c('ReactComposerStatusActions').setMentionsSource(this.context.composerID,l.mentionsSource);c('ReactComposerStatusActions').setTypeaheadReporter(this.context.composerID,l.typeaheadReporter);c('ReactComposerAttachmentActions').setInitialized(this.context.composerID,c('ReactComposerAttachmentType').STATUS)},componentDidMount:function k(){c('ReactComposerTaggerActions').updateTaggersSource(this.context.composerID,this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS].bootstrapData.taggersSource||{});c('Arbiter').inform('ReactComposerStatusEagerAttachment/mounted',this.context.composerID,c('Arbiter').BEHAVIOR_STATE)},renderX:function k(){return c('React').createElement(c('ReactComposerStatusAttachmentContainer.react'),this.props)}});f.exports=j}),null);
__d('ReactComposerSproutsHeader.react',['cx','fbt','React','ReactComposerHeaderType'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.defaultProps={type:c('ReactComposerHeaderType').DEFAULT},n}l.prototype.render=function(){switch(this.props.type){case c('ReactComposerHeaderType').DEFAULT:return c('React').createElement('div',{className:"_3ubp _sg2"},this.props.children);case c('ReactComposerHeaderType').SHARESHEET:return c('React').createElement('div',{className:"_3ubp"},i._("Select audience"));case c('ReactComposerHeaderType').NONE:default:return c('React').createElement('span',null);}};f.exports=l}),null);
__d('ReactComposerHeaderContainer.react',['React','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerContextMixin','ReactComposerHeaderType','ReactComposerSproutsHeader.react','FluxContainer'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('ReactComposerContextMixin').contextTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.getStores=function(){return [c('ReactComposerAttachmentStore')]};k.calculateState=function(l,m,n){return {selectedAttachmentID:c('ReactComposerAttachmentStore').getSelectedAttachmentID(n.composerID)}};k.prototype.$ReactComposerHeaderContainer1=function(){var l=this.props.contextConfig.gks&&this.props.contextConfig.gks.albumTab,m=this.state.selectedAttachmentID===c('ReactComposerAttachmentType').AUDIENCE_SELECTOR;return l&&!m?c('ReactComposerHeaderType').DEFAULT:m?c('ReactComposerHeaderType').SHARESHEET:c('ReactComposerHeaderType').NONE};k.prototype.render=function(){return c('React').createElement(c('ReactComposerSproutsHeader.react'),{type:this.$ReactComposerHeaderContainer1()},this.props.children)};function k(){h.apply(this,arguments)}k.contextTypes=j;f.exports=c('FluxContainer').create(k,{withContext:true,withProps:true})}),null);
__d('ReactComposerSproutsAlbumSelector.react',['ix','cx','fbt','DOMContainer.react','Image.react','React','ReactComposerAttachmentType','ReactComposerCollectionSelectorContainerGatedModule','ReactComposerConfig','ReactComposerContextMixin','TooltipData','fbglyph','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('ReactComposerCollectionSelectorContainerGatedModule').module,n=c('ReactComposerContextMixin').contextTypes;k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;o.prototype.render=function(){if(this.props.useCollectionSelector){var p=h("123370"),q=j._("Photo\/Video Album"),r=c('joinClasses')("_4-h7",'fbReactComposerAttachmentSelector_'+c('ReactComposerAttachmentType').ALBUM);return c('React').createElement('span',{className:"_sg1"},m?c('React').createElement(m,{addAnyPostToAlbum:this.context.gks&&this.context.gks.addAnyPostToAlbum,alternateTriggerComponent:c('React').createElement('span',babelHelpers['extends']({className:r,'data-tooltip-delay':'500'},c('TooltipData').propsFor(q)),c('React').createElement('span',{className:"_4-fs"},c('React').createElement(c('Image.react'),{src:p,className:"_5qto"}),c('React').createElement('span',{className:"_5qtp"},q),c('React').createElement('span',{className:"_4-h8"})))}):null)}else return c('React').createElement('span',{key:'album',className:"_sg1"},c('React').createElement(c('DOMContainer.react'),{display:'inline'},this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').ALBUM].createAlbumLink));};function o(){k.apply(this,arguments)}o.contextTypes=n;f.exports=o}),null);
__d('ReactComposerSproutsMLESelector.react',['ix','cx','fbt','React','ReactComposerAttachmentType','ReactComposerLoggingName','ReactComposerSproutsSelector.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;m.prototype.render=function(){return c('React').createElement('span',{className:"_sg1"},c('React').createElement(c('ReactComposerSproutsSelector.react'),{attachmentID:c('ReactComposerAttachmentType').MLE,loggingName:c('ReactComposerLoggingName').MLE_TAB_SELECTOR,icon:h("122925"),label:j._("Life Event")}))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d('ReactComposerSproutsMediaSelector.react',['ix','cx','React','ReactComposerLoggingName','ReactComposerInstantMediaAttachmentSelectorContainer.react','ReactComposerAttachmentType','ReactComposerConfig','fbglyph'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){return c('React').createElement('span',{className:"_sg1",key:c('ReactComposerLoggingName').MEDIA_TAB_SELECTOR},c('React').createElement(c('ReactComposerInstantMediaAttachmentSelectorContainer.react'),{key:c('ReactComposerLoggingName').MEDIA_TAB_SELECTOR,icon:h("122530"),disableFaceRecognition:this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA].disableFaceboxTagger,mediaAcceptParam:this.props.config.mediaAcceptParam,photoLimit:this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA].photoLimit,targetData:this.props.config.targetData,mediaConfig:this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA]}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d('ReactComposerSproutsQAndASelector.react',['ix','fbt','React','ReactComposerAttachmentType','ReactComposerLoggingName','ReactComposerSproutsSelector.react','fbglyph'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){return c('React').createElement(c('ReactComposerSproutsSelector.react'),{attachmentID:c('ReactComposerAttachmentType').QANDA,loggingName:c('ReactComposerLoggingName').QANDA_TAB_SELECTOR,icon:h("123482"),label:i._("Q&A")})};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d('ReactTimelineSproutsComposer.react',['cx','fbt','React','BootloadedComponent.react','ReactComposerAttachmentType','ReactComposerBodyContainer.react','ReactComposerContextProviderMixin','ReactComposerFeedMediaPostButtonContainer.react','ReactComposerFeedPostButtonContainer.react','ReactComposerFocusInit','ReactComposerHeaderContainer.react','ReactComposerLiveVideoAttachmentSelector.react','ReactComposerLiveVideoLazyAttachment.react','ReactComposerLiveVideoPreviewButton.react','ReactComposerLoggingName','ReactComposerMediaEagerAttachment.react','ReactComposerMLELazyAttachment.react','ReactComposerQAndALazyAttachment.react','ReactComposerSproutsAlbumSelector.react','ReactComposerSproutsMLESelector.react','ReactComposerSproutsQAndASelector.react','ReactComposerSproutsStatusAndMediaSelector.react','ReactComposerStatusEagerAttachment.react','ReactComposerSproutsMediaSelector.react','ReactComposerTaggerType','ReactComposerWithSprouts.react','JSResource','TimelineComposer','$','coalesce'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.componentDidMount=function(){'use strict';c('TimelineComposer').init(this.props.contextConfig.composerID);if(this.props.contextConfig.gks.shouldBlurOnFocus)c('ReactComposerFocusInit').handler(c('$')('timeline_react_composer_container'),this.props.contextConfig.composerID,this.props.contextConfig.actorID,this.props.contextConfig.gks,this.props.contextConfig.jsModules&&this.props.contextConfig.jsModules.composerFocus,true,this.props.contextConfig.reactComposerFocusExtraConfigData);};l.prototype.getChildContext=function(){'use strict';return c('ReactComposerContextProviderMixin').staticGetChildContext(this.props)};l.prototype.render=function(){'use strict';var m=this.$ReactTimelineSproutsComposer1(),n=c('React').createElement(c('ReactComposerWithSprouts.react'),{defaultAttachmentOnExpand:c('ReactComposerAttachmentType').STATUS,innerProps:{className:"_5n2b",loggingConfig:this.props.config.loggingConfig,sproutsConfig:this.props.config.sproutsConfig},expandOnInit:false},c('React').createElement(c('ReactComposerHeaderContainer.react'),this.props,m),this.$ReactTimelineSproutsComposer2(),c('React').createElement(c('ReactComposerBodyContainer.react'),{expanded:this.props.config.showExpandedComposer},this.$ReactTimelineSproutsComposer3(),this.$ReactTimelineSproutsComposer4(),this.$ReactTimelineSproutsComposer5(),this.$ReactTimelineSproutsComposer6(),this.$ReactTimelineSproutsComposer7()));return n};l.prototype.$ReactTimelineSproutsComposer1=function(){'use strict';var m=this.props.config.attachmentsConfig,n=[];if(m[c('ReactComposerAttachmentType').STATUS].enabled)n.push(c('React').createElement(c('ReactComposerSproutsStatusAndMediaSelector.react'),{key:c('ReactComposerLoggingName').STATUS_TAB_SELECTOR,label:m[c('ReactComposerAttachmentType').STATUS].defaultTabTitle,statusOnly:this.props.contextConfig.gks&&this.props.contextConfig.gks.photoTab}));if(this.props.contextConfig.gks&&this.props.contextConfig.gks.photoTab&&m[c('ReactComposerAttachmentType').MEDIA].enabled)n.push(c('React').createElement(c('ReactComposerSproutsMediaSelector.react'),{key:c('ReactComposerLoggingName').MEDIA_TAB_SELECTOR,config:this.props.config}));var o=this.props.contextConfig.gks&&this.props.contextConfig.gks.hideAlbumTab;if(m[c('ReactComposerAttachmentType').ALBUM].enabled&&!o)n.push(this.$ReactTimelineSproutsComposer8());if(m[c('ReactComposerAttachmentType').LIVE_VIDEO].enabled)n.push(this.$ReactTimelineSproutsComposer9());if(m[c('ReactComposerAttachmentType').MLE].enabled)n.push(this.$ReactTimelineSproutsComposer10());if(m[c('ReactComposerAttachmentType').QANDA].enabled)n.push(this.$ReactTimelineSproutsComposer11());return n};l.prototype.$ReactTimelineSproutsComposer8=function(){'use strict';var m=this.props.contextConfig.gks&&this.props.contextConfig.gks.albumTabUsesSelector;return c('React').createElement(c('ReactComposerSproutsAlbumSelector.react'),{key:c('ReactComposerLoggingName').ALBUM,config:this.props.config,useCollectionSelector:m})};l.prototype.$ReactTimelineSproutsComposer10=function(){'use strict';return c('React').createElement(c('ReactComposerSproutsMLESelector.react'),{key:c('ReactComposerLoggingName').MLE_TAB_SELECTOR})};l.prototype.$ReactTimelineSproutsComposer11=function(){'use strict';return c('React').createElement(c('ReactComposerSproutsQAndASelector.react'),{key:c('ReactComposerLoggingName').QANDA_TAB_SELECTOR})};l.prototype.$ReactTimelineSproutsComposer9=function(){'use strict';return c('React').createElement(c('ReactComposerLiveVideoAttachmentSelector.react'),{config:this.props.config,contextConfig:this.props.contextConfig,key:'live_video',sprouts:true})};l.prototype.$ReactTimelineSproutsComposer3=function(){'use strict';if(!this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS].enabled)return null;return c('React').createElement(c('ReactComposerStatusEagerAttachment.react'),{key:'status',config:this.props.config,selected:true,postButtonModule:c('ReactComposerFeedPostButtonContainer.react'),placeholder:this.props.config.targetData.viewerIsTarget?i._("What's on your mind?"):c('coalesce')(this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS].placeholderText,i._("Write something..."))})};l.prototype.$ReactTimelineSproutsComposer4=function(){'use strict';if(!this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA].enabled)return null;return c('React').createElement(c('ReactComposerMediaEagerAttachment.react'),{key:'media',config:this.props.config,postButtonModule:c('ReactComposerFeedMediaPostButtonContainer.react'),selected:false})};l.prototype.$ReactTimelineSproutsComposer6=function(){'use strict';if(!this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MLE].enabled)return null;return c('React').createElement(c('ReactComposerMLELazyAttachment.react'),{key:'mle',config:this.props.config})};l.prototype.$ReactTimelineSproutsComposer7=function(){'use strict';if(!this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').QANDA].enabled)return null;return c('React').createElement(c('ReactComposerQAndALazyAttachment.react'),{key:'qanda',config:this.props.config})};l.prototype.$ReactTimelineSproutsComposer5=function(){'use strict';if(!this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').LIVE_VIDEO].enabled)return null;return c('React').createElement(c('ReactComposerLiveVideoLazyAttachment.react'),{key:'live_video',config:this.props.config,postButtonModule:c('ReactComposerLiveVideoPreviewButton.react'),selected:false})};l.prototype.$ReactTimelineSproutsComposer2=function(){'use strict';var m=this.props.config.taggersConfig;if(m&&m[c('ReactComposerTaggerType').FUN_FACT]&&m[c('ReactComposerTaggerType').FUN_FACT].enabled){var n=[];if(m[c('ReactComposerTaggerType').FORMATTED_TEXT])n=m[c('ReactComposerTaggerType').FORMATTED_TEXT].textFormats;return c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ReactComposerFunFactTaggerContainer.react').__setRef('ReactTimelineSproutsComposer.react'),bootloadPlaceholder:c('React').createElement('div',null),satpFormats:n})}return null};function l(){'use strict';j.apply(this,arguments)}l.childContextTypes=c('ReactComposerContextProviderMixin').childContextTypes;f.exports=l}),null);