if (self.CavalryLogger) { CavalryLogger.start_js(["f8CDF"]); }

__d("MessengerPlatformInterfaceType",[],(function a(b,c,d,e,f,g){f.exports={UNKNOWN_INTERFACE:0,MESSENGER_INTERFACE:1,FB_INTERFACE:2,FB_POST_INTERFACE:3}}),null);
__d("PagesPrivateReplyConstants",[],(function a(b,c,d,e,f,g){f.exports={Status:{REPLYABLE:"replyable",ALREADY_REPLIED:"already_replied",RECIPIENT_FILTER:"recipient_filter",EXPIRED:"expired",NOT_USER_CREATED:"not_user_created",CANNOT_MESSAGE:"cannot_message",MESSAGING_DISABLED:"messaging_disabled"},Type:{COMMENT_PAGE_POST:"comment_page_post",COMMENT_WALL_POST:"comment_wall_post",COMMENT_REVIEW:"comment_review",REVIEW:"review",WALL_POST:"wall_post"}}}),null);
__d('BusinessActorUtils.brands',['UnicodeCJK'],(function a(b,c,d,e,f,g){'use strict';var h={getInitials:function i(j,k){var l=j.trim().charAt(0),m=k.trim().charAt(0),n=l+m;return !c('UnicodeCJK').hasIdeograph(n)?n.toUpperCase():m}};f.exports=h}),null);
__d('RTISubscriptionGate',['RTISubscriptionGateLoader'],(function a(b,c,d,e,f,g){var h=c('RTISubscriptionGateLoader').module;if(c('RTISubscriptionGateLoader').gkUseIcebreaker)h=new h(c('RTISubscriptionGateLoader').icebreakerWhitelist);f.exports=h}),null);
__d('UFICommentVPVs',['Map','MarauderLogger','Set'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('Map'))();function i(l,m){c('MarauderLogger').log('comment_vpv',undefined,null,'comment',m);if(!h.has(l))h.set(l,new (c('Set'))());h.get(l).add(m)}function j(l,m){if(h.has(l))return h.get(l).has(m);return false}var k={logVPV:i,hasLoggedVPV:j};f.exports=k}),null);
__d('UFIDispatcher',['ReactDispatcher_DEPRECATED','UFISharedDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ReactDispatcher_DEPRECATED'));i=h&&h.prototype;j.prototype.dispatch=function(k){i.dispatch.call(this,k);c('UFISharedDispatcher').dispatch(k)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('UFIStopWatch',[],(function a(b,c,d,e,f,g){'use strict';var h='COUNTING',i='PAUSED';function j(){this.$UFIStopWatch1=i;this.$UFIStopWatch2=0;this.$UFIStopWatch3=0}j.prototype.start=function(){if(this.$UFIStopWatch1===h)return this;this.$UFIStopWatch1=h;this.$UFIStopWatch3=Date.now();return this};j.prototype.pause=function(){if(this.$UFIStopWatch1===i)return this;this.$UFIStopWatch1=i;this.$UFIStopWatch2+=Date.now()-this.$UFIStopWatch3;return this};j.prototype.reset=function(){this.$UFIStopWatch2=0;this.$UFIStopWatch3=0;if(this.$UFIStopWatch1==h)this.$UFIStopWatch3=Date.now();return this};j.prototype.state=function(){return this.$UFIStopWatch1};j.prototype.milliseconds=function(){var k=0;if(this.$UFIStopWatch1===h)k=Date.now()-this.$UFIStopWatch3;return this.$UFIStopWatch2+k};j.COUNTING=h;j.PAUSED=i;f.exports=j}),null);
__d('onViewportChanged',['EventListener','emptyFunction','getViewportDimensions','requestAnimationFrame'],(function a(b,c,d,e,f,g){var h=[],i=false,j=null,k=void 0,l=void 0;function m(){var x=c('getViewportDimensions').withoutScrollbars();return {top:0,bottom:x.height,left:0,right:x.width}}function n(x,y){var z={transform:y||c('emptyFunction').thatReturnsArgument,callback:x,needsUpdate:true};h.push(z);u();p();return {remove:o.bind(null,z),scheduleCheck:s.bind(null,z)}}function o(x){var y=h.indexOf(x);if(y!==-1){h.splice(y,1);if(h.length===0){q();j=null}}}function p(){if(!l){l=c('EventListener').listen(window,'scroll',t);k=c('EventListener').listen(window,'resize',r)}}function q(){if(l){l.remove();k.remove();l=k=null}}function r(){j=null;t()}function s(x){x.needsUpdate=true;u()}function t(){h.map(function(x){return x.needsUpdate=true});u()}function u(){if(!i){i=true;c('requestAnimationFrame')(function(){i=false;w()})}}function v(x){if(x.needsUpdate){x.needsUpdate=false;return true}return false}function w(){if(!j)j=m();var x=h.filter(v),y=x.map(function(z){return z.transform.call(null,j)});x.forEach(function(z,aa){return z.callback.call(null,y[aa])})}f.exports=n}),null);
__d('onCommentIsVisible',['onViewportChanged'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=void 0;function l(n){return i(n)}function m(n){if(k!==n){k=n;j(n)}}return c('onViewportChanged')(m,l)}f.exports=h}),null);
__d('isRTL',['UnicodeBidi','UnicodeBidiDirection'],(function a(b,c,d,e,f,g){function h(i){return c('UnicodeBidi').getDirection(i)===c('UnicodeBidiDirection').RTL}f.exports=h}),null);
__d('HovercardLinkInterpolator',['cx','fbt','Badge.react','HovercardLink','Link.react','React','URI','isFacebookURI','isRTL'],(function a(b,c,d,e,f,g,h,i){function j(k,l,m,n,o){var p=arguments.length<=5||arguments[5]===undefined?null:arguments[5],q=l.entity,r=m||(q.external?'_blank':null),s,t=(!q.external?"profileLink":'')+(q.weakreference?' '+"weakReference":''),u,v=q.hashtag?k.substring(1):k;u=c('isRTL')(v)?'rtl':'ltr';var w=new (c('URI'))(q.url);if(c('isFacebookURI')(w))w.addQueryData({hc_location:o});var x=q.shimhash?q.shimhash:null,y=!q.external&&!q.hashtag&&!q.photo&&!q.note&&!q.statusupdate&&!q.video,z=y?{'data-hovercard':c('HovercardLink').constructEndpointWithGroupLocationAndExtraParams(q,n,q.hovercardlocation?q.hovercardlocation:o,null,p).toString()}:{};if(q.hashtag){s=c('React').createElement('a',babelHelpers['extends']({},z,{className:"_58cn",dir:u,href:w.toString(),target:r}),c('React').createElement('span',{'aria-label':i._("hashtag"),className:"_58cl"},k.substring(0,1)),c('React').createElement('span',{className:"_58cm"},k.substring(1)))}else{var aa=[];if(q.weakreference)aa.push(c('React').createElement('i',{key:'weakreference',className:'UFIWeakReferenceIcon'}));aa.push(k);if(q.noncoworker)aa.push(c('React').createElement(c('Badge.react'),{key:'noncoworker',type:'work_non_coworker'}));if(q.dialogurl){s=c('React').createElement(c('Link.react'),babelHelpers['extends']({},z,{className:t,dir:u,ajaxify:q.dialogurl,rel:'dialog',href:{url:w.toString(),shimhash:x},target:r}),aa)}else s=c('React').createElement(c('Link.react'),babelHelpers['extends']({},z,{className:t,dir:u,href:{url:w.toString(),shimhash:x},target:r}),aa);}return s}f.exports=j}),null);
__d('TextDelightRange.react',['cx','Bootloader','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.componentDidMount=function(){if(this.props.campaignID)c('Bootloader').loadModules(["TextDelightController"],function(l){return l.attachClickListener(this.$TextDelightRange1,this.props.campaignID,'comment')}.bind(this),'TextDelightRange.react');};k.prototype.render=function(){return c('React').createElement('span',{className:"_ezo",style:this.props.style,ref:function(l){this.$TextDelightRange1=l}.bind(this),role:'presentation'},this.props.children)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d('VideoTimestampsClicksWWWTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:VideoTimestampsClicksWWWLoggerConfig',this.$VideoTimestampsClicksWWWTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:VideoTimestampsClicksWWWLoggerConfig',this.$VideoTimestampsClicksWWWTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$VideoTimestampsClicksWWWTypedLogger1={};return this};h.prototype.updateData=function(j){this.$VideoTimestampsClicksWWWTypedLogger1=babelHelpers['extends']({},this.$VideoTimestampsClicksWWWTypedLogger1,j);return this};h.prototype.setCommentID=function(j){this.$VideoTimestampsClicksWWWTypedLogger1.comment_id=j;return this};h.prototype.setIsContentTimestamp=function(j){this.$VideoTimestampsClicksWWWTypedLogger1.is_content_timestamp=j;return this};h.prototype.setLocalCommentFeedbackID=function(j){this.$VideoTimestampsClicksWWWTypedLogger1.local_comment_feedback_id=j;return this};h.prototype.setVC=function(j){this.$VideoTimestampsClicksWWWTypedLogger1.vc=j;return this};h.prototype.setVideoTimestamp=function(j){this.$VideoTimestampsClicksWWWTypedLogger1.video_timestamp=j;return this};var i={comment_id:true,is_content_timestamp:true,local_comment_feedback_id:true,vc:true,video_timestamp:true};f.exports=h}),null);
__d('transformTextRanges',['UnicodeUtils'],(function a(b,c,d,e,f,g){var h=function i(j,k,l){if(!j||!k||!l)return j;k.sort(function(s,t){return s.offset-t.offset});var m=0;for(var n=0;n<k.length;n++){k[n].offset+=m;var o=c('UnicodeUtils').substr(j,k[n].offset,k[n].length),p=c('UnicodeUtils').strlen(o),q=l(o,k[n]),r=c('UnicodeUtils').strlen(q);if(o!==q){j=c('UnicodeUtils').substr(j,0,k[n].offset)+q+c('UnicodeUtils').substr(j,k[n].offset+k[n].length);k[n].length=r;m+=r-p}}return j};f.exports=h}),null);
__d('UFICommentUtils',['HovercardLinkInterpolator','React','TextDelightRange.react','UFIConstants','UFIVideoPlayerRegistry','URI','URITruncator','VideoTimestampsClicksWWWTypedLogger','transformTextRanges'],(function a(b,c,d,e,f,g){'use strict';var h={getCommentTextWithTruncatedURIs:function i(j,k){if(c('UFIConstants').commentURLTruncationLength)if(j&&j.length>0)k=c('transformTextRanges')(k,j,function(l,m){var n=m.entity&&(m.entity.external||m.entity.__type__&&m.entity.__type__.name==='ExternalUrl');return n?c('URITruncator')(l,c('UFIConstants').commentURLTruncationLength):l});return k},getCommentBodyInterpolator:function i(j,k,l,m){return function(n,o){var p;if(o.videoTimestamp){if(m)return c('React').createElement('span',null,o.entity);var q=function t(u){u.preventDefault();new (c('VideoTimestampsClicksWWWTypedLogger'))().setVideoTimestamp(o.integerTimestamp).setCommentID(l).setIsContentTimestamp(false).log();if(k){c('UFIVideoPlayerRegistry').seekAvailableVideoPlayerController(k,o.integerTimestamp);c('UFIVideoPlayerRegistry').scrollToAvailableVideo(k)}return false};return c('React').createElement('a',{className:'TimestampLink',onClick:q,href:'#'},o.entity)}else if(o.sphericalViewport){var r=function t(u){u.preventDefault();if(k)c('UFIVideoPlayerRegistry').setAvailableVideoPlayerControllerSphericalViewport(k,{yaw:o.yaw,pitch:o.pitch});return false};return c('React').createElement('a',{onClick:r,href:'#'},o.entity)}else if(o.sphericalViewportAndTimestamp){var s=function t(u){u.preventDefault();if(k){c('UFIVideoPlayerRegistry').setAvailableVideoPlayerControllerSphericalViewport(k,{yaw:o.yaw,pitch:o.pitch});c('UFIVideoPlayerRegistry').seekAvailableVideoPlayerController(k,o.integerTimestamp)}return false};return c('React').createElement('a',{onClick:s,href:'#'},o.entity)}else if(o.campaign){var p=function(){var t={};if(o.campaign.delight_styles)o.campaign.delight_styles.forEach(function(u){var v=u.style.replace(/-([a-z])/gi,function(w,x,y,z){return x.toUpperCase()});t[v]=u.value});return {v:c('React').createElement(c('TextDelightRange.react'),{style:t,campaignID:o.campaign.id},n)}}();if(typeof p==="object")return p.v;}else return c('HovercardLinkInterpolator')(n,o,'_blank',j,'ufi');}},shallowCopyRanges:function i(j){if(!j)return j;var k=[];j.forEach(function(l){k.push(babelHelpers['extends']({},l))});return k},annotateProfileURIIfPublic:function i(j,k){if(!j)return k;return new (c('URI'))(k).addQueryData('rc','p').toString()},shouldShowTranslateAll:function i(j,k,l,m){if(!j)return false;var n=0,o=void 0,p=void 0;for(var q=0;q<j.length;q++){o=j[q];if(o.istranslatable&&!o.translationdata&&!m[o.id])n++;if(n>1)return true;if(l[o.id]){p=k?k[o.id]:[];for(var r=0;r<p.length;r++){o=p[r];if(o.istranslatable&&!o.translationdata&&!m[o.id])n++;if(n>1)return true;}}}return false}};f.exports=h}),null);
__d("UFIStreamingCommentsMode",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NONE:0,LIVE:1,ON_DEMAND:2})}),null);
__d('UFICommentVPVDLogging',['csx','Banzai','Parent','UFIConfig','UFIOrderingModeStore','UFIStopWatch','UFIStreamingCommentsMode','WebCommentViewOption'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('UFIConfig').commentVPVD;function j(k){var l=k.renderedComment,m=l.comment,n=l.isLivePinnedComment,o=k.contextArgs,p=k.node,q=k.stopWatch;if(q.state()===c('UFIStopWatch').COUNTING)return {state:'still visible - not logged',instanceid:o.instanceid,fbid:m.fbid,duration_ms:q.milliseconds()};var r=q.milliseconds();if(r>=0&&r<i.min_duration_to_log)return {state:'small duration - not logged',instanceid:o.instanceid,fbid:m.fbid,duration_ms:r};var s=null,t=null;if(p){var u=c('Parent').byClass(p,"public/feedobject/root");if(u){var v=u.getAttribute('data-ft');if(v)s=JSON.parse(v);t=u.getAttribute('data-referrer')}}var w=c('UFIOrderingModeStore').getState().get(o.instanceid),x=c('UFIStreamingCommentsMode').NONE;if(w===c('WebCommentViewOption').LIVE_STREAMING)if(o.islivestreaming){x=c('UFIStreamingCommentsMode').LIVE}else if(o.isLiveVOD)x=c('UFIStreamingCommentsMode').ON_DEMAND;var y={comment_fbid:m.fbid,comment_id:m.id,container_module:o.location,duration_ms:r,is_live_pinned_comment:n,is_on_sponsored_story:!!o.isSponsored,is_page_comment:!!o.isPage,is_reply:!!m.parentcommentid,mf_story_key:s?s.mf_story_key:null,order_mode:w,qid:s?s.qid:null,referrer_source:t,streaming_comments_mode:x};q.reset();c('Banzai').post('comment_vpvd',y);return babelHelpers['extends']({state:'logged',instanceid:o.instanceid,fbid:m.fbid,duration_ms:r},y)}f.exports={log:j}}),null);
__d('UFICommentVPVDState',['invariant','Arbiter','Parent','UFICommentVisibilityStore','UFICommentVPVDLogging','UFIConfig','UFIRootRegistry','UFIStopWatch','UFIVisibility','UserActivity','ViewportTrackingHelper','getActiveElement'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('UFIConfig').commentVPVD,j={INFOCUS:'INFOCUS',BLURRED_NEW:'BLURRED_NEW',BLURRED_INACTIVE:'BLURRED_INACTIVE',BLURRED_SNOWLIFT_OTHER:'BLURRED_SNOWLIFT_OTHER',BLURRED_UNDER_LAYER:'BLURRED_UNDER_LAYER',BLURRED_NO_NODE:'BLURRED_NO_NODE'},k='changed',l=new (c('Arbiter'))(),m=null,n=false,o=false,p={};function q(w){if(!i.debug_console)return;console.table&&console.table([{isFocusInLayer:n,isSnowliftOpen:o,userIsActive:c('UserActivity').isActive(i.idle_timeout)}]);console.table&&console.table(Object.keys(p).map(function(x){var y=p[x];return {instanceID:y.contextArgs.instanceid,fbid:y.renderedComment.comment.fbid,state:y.state,visibility:y.visibility,counting:y.stopWatch.state()}}))}function r(w){var x=Object.keys(w);if(!x.length)return;x.forEach(function(y){return t(w[y])});p=babelHelpers['extends']({},p,w);l.inform(k)}function s(w,x){var y;r((y={},y[w]=x,y))}function t(w){if(w.visibility==c('UFIVisibility').VISIBLE&&w.state==j.INFOCUS){w.stopWatch.start()}else w.stopWatch.pause();}function u(w){if(!c('UserActivity').isActive(i.idle_timeout))return j.BLURRED_INACTIVE;if(n&&!o){if(!w.node)return j.BLURRED_NO_NODE;if(!m)return j.BLURRED_UNDER_LAYER;w.node||h(0);m||h(0);var x=c('ViewportTrackingHelper').isDescendantOf(w.node,m);return x?j.INFOCUS:j.BLURRED_UNDER_LAYER}if(o)if(c('UFIRootRegistry').isSnowliftNode(w.contextArgs.rootid)){return j.INFOCUS}else return j.BLURRED_SNOWLIFT_OTHER;return j.INFOCUS}var v={subscribe:function w(x){return l.subscribe(k,x)},unsubscribe:function w(x){l.unsubscribe(x)},getState:function w(){return p},getKey:function w(x,y){var z=x.isLivePinnedComment?'/P':'';return y.instanceid+'/'+x.comment.fbid+z},initComment:function w(x,y,z){var aa=v.getKey(x,y),ba=p[aa];if(!ba&&!z){return}else if(!ba){var ca={renderedComment:x,contextArgs:y,node:z,state:j.BLURRED_NEW,stopWatch:new (c('UFIStopWatch'))(),visibility:c('UFICommentVisibilityStore').getVisibility(c('UFICommentVisibilityStore').getState(),y,x)};ca.state=u(ca);s(aa,ca)}else if(!z){ba.stopWatch.pause();s(aa,babelHelpers['extends']({},ba,{state:j.BLURRED_NO_NODE}))}else s(aa,babelHelpers['extends']({},ba,{node:z,state:u(ba)}));},updateAllStates:function w(x){r(Object.keys(p).reduce(function(y,z){y[z]=babelHelpers['extends']({},p[z],{state:u(p[z])});return y},{}));q(x)},cleanupUFIInstance:function w(x){var y=[];Object.keys(p).filter(function(z){return p[z].contextArgs.instanceid==x}).forEach(function(z){p[z].stopWatch.pause();var aa=c('UFICommentVPVDLogging').log(p[z]);if(i.debug_console)y.push(aa);delete p[z]});if(i.debug_console)console.table&&console.table(y);},onCommentVisibilityChanged:function w(){var x=c('UFICommentVisibilityStore').getState();r(Object.keys(p).reduce(function(y,z){var aa=p[z],ba=aa.renderedComment,ca=aa.contextArgs,da=aa.visibility,ea=c('UFICommentVisibilityStore').getVisibility(x,ca,ba),fa=da!=ea;if(!fa)return y;y[z]=babelHelpers['extends']({},p[z],{visibility:ea});return y},{}));q('UFICommentVisibilityStore.changed')},onClickDocument:function w(){var x=c('getActiveElement')();if(!x){m=null;n=false}else{m=c('Parent').byClass(x,'uiContextualLayerParent');n=!!m}},onSnowliftOpen:function w(){o=true},onSnowliftClose:function w(){o=false},debug:function w(){q('debug')}};f.exports=v}),null);
__d('UserActivityEmitter',['invariant','EventEmitter','UserActivity','TimeSlice','clearTimeout','setTimeout'],(function a(b,c,d,e,f,g,h){'use strict';var i='change',j={};k.factory=function(l){if(!j[l])j[l]=new k(l);return j[l]};function k(l){this.$UserActivityEmitter5=250;this.$UserActivityEmitter6=function(){if(this.$UserActivityEmitter4=='INACTIVE'){this.$UserActivityEmitter4='ACTIVE';this.$UserActivityEmitter2.emit(i,'ACTIVE')}if(this.$UserActivityEmitter3)c('clearTimeout')(this.$UserActivityEmitter3);this.$UserActivityEmitter3=c('setTimeout')(c('TimeSlice').guard(this.$UserActivityEmitter7,'UserActivityEmitter idleTimeout',{isContinuation:false}),this.$UserActivityEmitter5)}.bind(this);this.$UserActivityEmitter7=function(){this.$UserActivityEmitter4='INACTIVE';this.$UserActivityEmitter2.emit(i,'INACTIVE');c('clearTimeout')(this.$UserActivityEmitter3);this.$UserActivityEmitter3=null}.bind(this);l>c('UserActivity').EVENT_INTERVAL_MS||h(0);this.$UserActivityEmitter5=l;this.$UserActivityEmitter2=new (c('EventEmitter'))();this.$UserActivityEmitter4=c('UserActivity').isActive(l)?'ACTIVE':'INACTIVE';this.$UserActivityEmitter1=c('UserActivity').subscribe(this.$UserActivityEmitter6);if(this.$UserActivityEmitter4=='ACTIVE')this.$UserActivityEmitter6();}k.prototype.subscribe=function(l){return this.$UserActivityEmitter2.addListener(i,l)};k.prototype.getState=function(){return this.$UserActivityEmitter4};f.exports=k}),null);
__d('UFICommentVPVD',['Arbiter','Event','SubscriptionsHandler','UFICommentVisibilityStore','UFICommentVPVDLogging','UFICommentVPVDState','UFIConfig','UFIInstanceActionType','UFISharedDispatcher','UserActivityEmitter'],(function a(b,c,d,e,f,g){'use strict';var h=c('UFIConfig').commentVPVD,i=false,j=null,k=new (c('SubscriptionsHandler'))(),l=null,m=null;function n(){if(j)return;j=setTimeout(function(){j=null;var p=c('UFICommentVPVDState').getState(),q=[];Object.keys(p).forEach(function(r){var s=c('UFICommentVPVDLogging').log(p[r]);if(h.debug_console)q.push(s);});if(h.debug_console)console.table&&console.table(q);},10)}var o={init:function p(){if(i||!c('UFICommentVPVDState'))return;i=true;m=c('UFISharedDispatcher').register(function(q){if(q.type==c('UFIInstanceActionType').REMOVE)c('UFICommentVPVDState').cleanupUFIInstance(q.instanceID);});l=c('UserActivityEmitter').factory(h.idle_timeout);k=new (c('SubscriptionsHandler'))();k.addSubscriptions(c('UFICommentVisibilityStore').addListener(function(){var q=c('UFICommentVPVDState').getState();c('UFICommentVPVDState').onCommentVisibilityChanged();if(q!==c('UFICommentVPVDState').getState())n();}),{remove:function q(){if(m){c('UFISharedDispatcher').unregister(m);m=null}}},c('Event').listen(document.documentElement,'click',function(){c('UFICommentVPVDState').onClickDocument();c('UFICommentVPVDState').updateAllStates('document onClick');n()}),l.subscribe(function(q){c('UFICommentVPVDState').updateAllStates('user-active = '+q);if(q!='ACTIVE')n();}),c('Arbiter').subscribe('reflow',function(){c('UFICommentVPVDState').updateAllStates('reflow');n()}),c('Arbiter').subscribe('PhotoSnowlift.OPEN',function(){c('UFICommentVPVDState').onSnowliftOpen();c('UFICommentVPVDState').updateAllStates('PhotoSnowlift.OPEN');n()}),c('Arbiter').subscribe('PhotoSnowlift.CLOSE',function(){c('UFICommentVPVDState').onSnowliftClose();c('UFICommentVPVDState').updateAllStates('PhotoSnowlift.CLOSE');n()}))},enableVPVDLogging:function p(q){if(!q.location||!h.locations)return false;return h.everywhere||h.locations.includes(q.location)}};f.exports=o}),null);
__d('UFIReactionStore',['Arbiter','FluxStore','UFIReactionTypes','UFIStoryActionType','UFIUIEvents','UFIUserActions'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;j.prototype.__onDispatch=function(k){switch(k.type){case c('UFIStoryActionType').CHANGE_REACTION:c('UFIUserActions').changeReaction(k.contextArgs.ftentidentifier,k.reactionType,{rootid:k.contextArgs.rootid,source:k.contextArgs.source,feedbackReferrer:k.contextArgs.feedbackReferrer,fluentContentToken:k.contextArgs.fluentContentToken,isLiveVOD:k.contextArgs.isLiveVOD,islivestreaming:k.contextArgs.islivestreaming,instanceid:k.contextArgs.instanceid},k.target,k.sphericalYaw,k.sphericalPitch);c('Arbiter').inform(c('UFIUIEvents').ReactionButtonClicked,{ft_id:k.contextArgs.ftentidentifier,like_action:k.reactionType===c('UFIReactionTypes').LIKE,reaction_type:k.reactionType,target:k.target});break;}};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('ProfileBrowserLink',['URI'],(function a(b,c,d,e,f,g){var h='/ajax/browser/dialog/',i='/browse/',j=function l(m,n,o){return new (c('URI'))(m+n).setQueryData(o)},k={constructPageURI:function l(m,n){return j(i,m,n)},constructDialogURI:function l(m,n){return j(h,m,n)}};f.exports=k}),null);
__d('ProfileBrowserTypes',[],(function a(b,c,d,e,f,g){var h={LIKES:'likes',FRIEND_CHECKINS:'friendcheckins',FRIENDED_FANS_OF:'friended_fans_of',GROUP_ADMINS:'group_admins',GROUP_MEMBERS:'group_members',GROUP_FRIEND_MEMBERS:'group_friend_members',GROUP_MESSAGE_VIEWERS:'group_message_viewers',LIVE_VIDEO_VIEWERS:'live_video_viewers',MUTUAL_FRIENDS:'mutual_friends',TODO_LIST_ASSIGNEES:'todo_list_assignees',GROUP_JOIN_REQUESTERS_FRIENDS_IN_GROUP:'group_join_requesters_friends_in_group'};f.exports=h}),null);
__d('Newline.react',['React'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){'use strict';return c('React').createElement('br',this.props)};function j(){'use strict';h.apply(this,arguments)}f.exports=j}),null);
__d('BaseTextWithEntities.react',['Newline.react','React','ReactFragment','Text.react','UnicodeUtils'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;function k(o,p){return o.offset-p.offset}var l=/(\r\n|[\r\n])/,m=j.shape({length:j.number.isRequired,offset:j.number.isRequired});h=babelHelpers.inherits(n,c('React').Component);i=h&&h.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=i.constructor).call.apply(o,[this].concat(r)),this.$BaseTextWithEntities2=function(t){var u=t.split(l),v={};for(var w=0;w<u.length;w++){var x=u[w];if(x){var y='text'+w;if(w%2===1){v[y]=c('React').createElement(c('Newline.react'),null)}else v[y]=this.props.textRenderer(u[w]);}}return c('ReactFragment').create(v)}.bind(this),p}n.prototype.$BaseTextWithEntities1=function(){return [].concat(this.props.ranges,this.props.aggregatedRanges,this.props.imageRanges,this.props.metaRanges,this.props.inlineStyleRanges,this.props.textDelightRanges).filter(function(o){return o!=null}).sort(k)};n.prototype.render=function(){var o=0,p=this.props.text,q=this.$BaseTextWithEntities1(),r={},s=q.length;for(var t=0,u=s;t<u;t++){var v=q[t];if(v.offset<o)continue;if(v.offset>o)r['text'+t]=this.$BaseTextWithEntities2(c('UnicodeUtils').substring(p,o,v.offset));var w=c('UnicodeUtils').substr(p,v.offset,v.length);r['range'+t]=this.props.rangeRenderer(w,v);o=v.offset+v.length}if(p.length>o)r.end=this.$BaseTextWithEntities2(c('UnicodeUtils').substr(p,o));return c('React').createElement(c('Text.react'),{className:this.props.className,style:this.props.style},c('ReactFragment').create(r))};n.propTypes={aggregatedRanges:j.array,imageRanges:j.array,inlineStyleRanges:j.array,textDelightRanges:j.array,metaRanges:j.array,rangeRenderer:j.func.isRequired,ranges:j.arrayOf(m),text:j.string.isRequired,textRenderer:j.func.isRequired};f.exports=n}),null);
__d('TextWithEntities.react',['BaseTextWithEntities.react','Link.react','React','TextWithEmoticons.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;function j(l){return l.replace(/<3\b|&hearts;/g,'\u2665')}h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$TextWithEntities1=function(q){if(this.props.renderEmoticons||this.props.renderEmoji){return c('React').createElement(c('TextWithEmoticons.react'),{text:q,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji})}else return j(q);}.bind(this),this.$TextWithEntities2=function(q,r){if(this.props.interpolator){return this.props.interpolator(q,r)}else if(r.entity){return c('React').createElement(c('Link.react'),{href:r.entity},q)}else return q;}.bind(this),m}k.prototype.render=function(){return c('React').createElement(c('BaseTextWithEntities.react'),babelHelpers['extends']({},this.props,{textRenderer:this.$TextWithEntities1,rangeRenderer:this.$TextWithEntities2,ranges:this.props.ranges,imageRanges:this.props.imageRanges,aggregatedRanges:this.props.aggregatedRanges,metaRanges:this.props.metaRanges,textDelightRanges:this.props.textDelightRanges,text:this.props.text}))};f.exports=k}),null);
__d('SeeMore.react',['cx','fbt','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={isCollapsed:true},this.handleClick=function(r){if(this.props.clickCallback!==null)this.props.clickCallback(r);this.setState({isCollapsed:false})}.bind(this),n}l.prototype.render=function(){'use strict';var m=this.state.isCollapsed,n=this.props.exposeTextInHtml,o=null;if(m){var p=null;if(this.props.allowSeeMoreLinebreak)p=c('React').createElement('span',{className:"_1ipe",role:'hidden'},' ');o=c('React').createElement('span',{className:"_5uzb"},i._("..."),p)}var q=this.props.children[0],r=null;if(m){if(n)r=c('React').createElement('span',{className:"_1x3s"},this.props.children[1]);}else r=c('React').createElement('span',null,this.props.children[1]);var s=m?c('React').createElement('a',{className:"_5v47 fss",onClick:this.handleClick,href:'#',role:'button'},i._("See more")):null;return c('React').createElement('span',{className:c('joinClasses')(this.props.className,"_1n4g")},q,o,s,r)};l.defaultProps={clickCallback:null,exposeTextInHtml:false,allowSeeMoreLinebreak:false};f.exports=l}),null);
__d('findSplitPointForText',[],(function a(b,c,d,e,f,g){function h(i,j,k){var l=null,m=i.split('\n');if(j&&i.length>j)l=j;if(k&&m.length>k){var n=m.slice(0,k).join('\n').length;if(l!==null){l=Math.min(n,l)}else l=n;}return l}f.exports=h}),null);
__d('partitionTextAndRanges',['UnicodeUtils'],(function a(b,c,d,e,f,g){function h(k,l){var m=k.offset+k.length;return l>k.offset&&l<m}function i(k,l){for(var m=0;m<k.length;m++){var n=k[m];if(h(n,l))return n.offset;}return l}var j=function k(l,m,n){var o=[],p=[],q=i(m,n);for(var r=0;r<m.length;r++){var s=m[r];if(s.offset<q){o.push(s)}else p.push(babelHelpers['extends']({},s,{offset:s.offset-q}));}return {before:{ranges:o,text:c('UnicodeUtils').substr(l,0,q)},after:{ranges:p,text:c('UnicodeUtils').substr(l,q)}}};f.exports=j}),null);
__d('TruncatedTextWithEntities.react',['fbt','React','SeeMore.react','TextWithEntities.react','findSplitPointForText','partitionTextAndRanges'],(function a(b,c,d,e,f,g,h){var i,j,k=30;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$TruncatedTextWithEntities1=function(r){if(!this.props.allowSeeMoreLinebreakOnLongWords||!r)return false;if(r.length<=k)return false;var s=/(^|\s)(\S+)$/,t=s.exec(r),u=t?t[2]:null;return !!(u&&u.length>k)}.bind(this),n}l.prototype.render=function(){'use strict';var m=this.props.text||'',n=this.props.ranges||[];m=m.replace(/\s*$/,'');var o=this.props.maxLines,p=this.props.maxLength;if(p&&m.length>p){var q=this.props.truncationPercent||.6;p=Math.floor(q*p)}var r=null;if(!this.props.shouldExpand)r=c('findSplitPointForText')(m,p,o);if(r!==null){while(m[r-1]==='\n')r--;var s=c('partitionTextAndRanges')(m,n,r),t=c('React').createElement(c('TextWithEntities.react'),{aggregatedRanges:this.props.aggregatedRanges,interpolator:this.props.interpolator,ranges:s.before.ranges,renderEmoji:this.props.renderEmoji,renderEmoticons:this.props.renderEmoticons,text:s.before.text});if(!this.props.showSeeMore)return c('React').createElement('span',{className:this.props.className,'data-ft':this.props['data-ft'],dir:this.props.dir,lang:this.props.lang},t,c('React').createElement('span',null,h._("...")));var u=this.$TruncatedTextWithEntities1(s.before.text);return c('React').createElement('span',{'data-ft':this.props['data-ft'],dir:this.props.dir,lang:this.props.lang},c('React').createElement(c('SeeMore.react'),{allowSeeMoreLinebreak:u,className:this.props.className,clickCallback:this.props.markViewerHasInteracted},t,c('React').createElement(c('TextWithEntities.react'),{aggregatedRanges:this.props.aggregatedRanges,interpolator:this.props.interpolator,ranges:s.after.ranges,textDelightRanges:this.props.textDelightRanges,renderEmoji:this.props.renderEmoji,renderEmoticons:this.props.renderEmoticons,text:s.after.text})))}else return c('React').createElement('span',{'data-ft':this.props['data-ft'],dir:this.props.dir,lang:this.props.lang},c('React').createElement(c('TextWithEntities.react'),{aggregatedRanges:this.props.aggregatedRanges,className:this.props.className,imageRanges:this.props.imageRanges,interpolator:this.props.interpolator,ranges:n,textDelightRanges:this.props.textDelightRanges,renderEmoji:this.props.renderEmoji,renderEmoticons:this.props.renderEmoticons,text:m}));};l.defaultProps={showSeeMore:true};f.exports=l}),null);
__d('UFICommentVPVDTracker.react',['cx','React','ReactDOM','SubscriptionsHandler','UFICommentAction','UFICommentVisibilityStore','UFICommentVPVD','UFICommentVPVDState','UFIConfig','UFISharedDispatcher','UFIVisibility','ViewportTrackingHelper','onCommentIsVisible'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Children,l=c('React').PropTypes,m=c('UFIConfig').commentVPVD;function n(p){return c('UFICommentVisibilityStore').getVisibility(c('UFICommentVisibilityStore').getState(),p.contextArgs)===c('UFIVisibility').VISIBLE}i=babelHelpers.inherits(o,c('React').Component);j=i&&i.prototype;function o(p){j.constructor.call(this,p);this.state={isVisible:false};this.isCommentVisible=function(q){if(!n(this.props))return false;var r={height:q.bottom-q.top,width:0};return c('ViewportTrackingHelper').isVisibleInDimension(r,c('ReactDOM').findDOMNode(this),m.min_visible_size)}.bind(this);this.onCommentVisibilityChanged=function(q){this.setState({isVisible:q});c('UFISharedDispatcher').dispatch(c('UFICommentAction').changeVisibility(this.props.contextArgs,this.props.renderedComment,q?c('UFIVisibility').VISIBLE:c('UFIVisibility').HIDDEN))}.bind(this);if(c('UFICommentVPVD').enableVPVDLogging(p.contextArgs))c('UFICommentVPVD').init();this.$UFICommentVPVDTracker1=new (c('SubscriptionsHandler'))()}o.prototype.componentDidMount=function(){if(c('UFICommentVPVD').enableVPVDLogging(this.props.contextArgs))this.$UFICommentVPVDTracker1.addSubscriptions(c('onCommentIsVisible')(this.isCommentVisible,this.onCommentVisibilityChanged));};o.prototype.componentWillUnmount=function(){this.$UFICommentVPVDTracker1.release()};o.prototype.render=function(){var p=this.props,q=this.state,r=k.only(p.children);if(!c('UFICommentVPVD').enableVPVDLogging(p.contextArgs))return r;var s=m.debug_html;return c('React').createElement('div',{'data-debugstate':s?q.isVisible?'fully visible':'not fully visible':null,className:"_3b-9"+(s?' '+"_3b-a":'')+(s&&q.isVisible?' '+"_3b-b":'')+(s&&!q.isVisible?' '+"_3b-c":''),ref:function t(u){return c('UFICommentVPVDState').initComment(p.renderedComment,p.contextArgs,u)}},r)};o.propTypes={renderedComment:l.object.isRequired,contextArgs:l.object.isRequired};f.exports=o}),null);
__d("UserHovercardLocation",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INVALID:"unknown",NONE:"none",HC_FRIEND_BROWSER:"hc_friend_browser",HC_FRIENDS_TAB:"hc_friends_tab",HC_PROFILE_BROWSER:"hc_profile_browser",HC_STREAM:"hc_stream",HC_TIMELINE:"hc_timeline",HC_UFI:"hc_ufi",HC_REMINDER_POKE:"hc_reminder_poke",HC_REMINDER_BIRTHDAY:"hc_reminder_birthday",HC_EVENT_GUEST:"hc_event_guest",HC_UNKNOWN:"hc_unknown",HC_NUX:"hc_nux_page_suggestion",FRIEND_BROWSER:"friend_browser",FRIENDS_TAB:"friends_tab",PROFILE_BROWSER:"profile_browser",STREAM:"stream",TIMELINE:"timeline",UFI:"ufi",UFI_ADMIN:"ufi_admin",REMINDER_POKE:"reminder_poke",REMINDER_BIRTHDAY:"reminder_birthday",REMINDER_FACEVERSARY:"reminder_faceversary",REMINDER_NAMEDAY:"reminder_nameday",REMINDER_WORK_ANNIVERSARY:"reminder_work_anniversary",EVENT_GUEST:"event_guest",NUX_PAGE_SUGGESTION:"hc_nux_page_suggestion",TIMELINE_FRIENDS_BOX:"tl_fr_box",CHAT:"chat",GROUP:"group",GROUP_DIALOG:"group_dialog",MARKETPLACE_HOVERCARD:"marketplace_hovercard"})}),null);
__d('UFIActor.react',['cx','fbt','Badge.react','Focus','HovercardLink','Image.react','Locale','React','ReactDOM','UFICommentUtils','UFIConfig','UserHovercardLocation'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.componentDidMount=function(){if(this.props.focusOnMount)c('Focus').setWithoutOutline(c('ReactDOM').findDOMNode(this.refs.authorName));};l.prototype.render=function(){var m=this.props.author,n=c('Locale').isRTL()?'rtl':'ltr',o=(this.props.isAuthorWeakReference?"weakReference":'')+(' '+"UFICommentActorName"),p=[];if(this.props.isAuthorWeakReference)p.push(c('React').createElement('i',{className:'UFIWeakReferenceIcon',key:'icon'}));if(this.props.author.badgeSrc&&this.props.author.badgeSrc.length>0)p.push(c('React').createElement('span',null,c('React').createElement(c('Badge.react'),{type:'subscription',size:'medium',key:'badge'}),' '));if(this.props.useFirstName){p.push(m.firstName)}else if(this.props.author.isBusinessPersona&&this.props.author.assetRole){p.push(m.name+' '+i._("(")+this.props.author.assetRole+i._(")"))}else p.push(m.name);if(this.props.isAuthorNonCoworker){p.push(c('React').createElement(c('Badge.react'),{key:'noncoworker',type:'work_non_coworker'}))}else if(this.props.isAuthorBot)p.push(c('React').createElement(c('Badge.react'),{key:'bot',type:'bot'}));var q=this.props.customGlyphTag;if(q&&q.glyph)p.push(c('React').createElement(c('Image.react'),{className:q.classname,key:'customglyphtag',src:q.glyph,alt:q.description,title:q.description}));var r=this.props.isAdminViewer?c('UserHovercardLocation').UFI_ADMIN:c('UserHovercardLocation').UFI,s=Object.assign({},this.props);delete s.author;delete s.customGlyphTag;delete s.delimiter;delete s.dialogUrl;delete s.disableAuthorLink;delete s.focusOnMount;delete s.groupOrEventID;delete s.hovercardLocation;delete s.isAdminViewer;delete s.isAuthorBot;delete s.isAuthorNonCoworker;delete s.isAuthorWeakReference;delete s.isPublic;delete s.showHovercard;delete s.useFirstName;delete s.commonalityString;var t=this.props.showHovercard?c('HovercardLink').constructEndpointWithGroupLocationAndExtraParams(m,this.props.groupOrEventID,this.props.hovercardLocation?this.props.hovercardLocation:r,this.props.isAuthorWeakReference,{is_public:this.props.isPublic}).toString():null,u=m.uri&&!this.props.disableAuthorLink,v=u?c('UFICommentUtils').annotateProfileURIIfPublic(!!this.props.isPublic,m.uri):null,w=u?c('React').createElement('a',babelHelpers['extends']({},s,{className:o,'data-hovercard':t,'data-ft':this.props['data-ft'],dir:n,href:v,ref:'authorName'}),p):c('React').createElement('span',{className:o,dir:n,ref:'authorName'},p);if(this.props.dialogUrl)w=c('React').createElement('a',babelHelpers['extends']({},s,{className:o,'data-hovercard':t,'data-ft':this.props['data-ft'],dir:n,ajaxify:this.props.dialogUrl,rel:'dialog',href:v,ref:'authorName'}),p);return c('React').createElement('span',{className:c('UFIConfig').showCommonalityContext&&this.props.commonalityString?"UFICommentActorNameSpan":''},w,c('React').Children.map(this.props.children,function(x){return x?[x.key==='badge'||x.key==='constituentTitle'||x.key==='commonalityContext'||x.key==='neighborBadge'?'':this.props.delimiter,x]:null}.bind(this)))};function l(){j.apply(this,arguments)}l.defaultProps={delimiter:' \u00b7 ',isAdminViewer:false,isPublic:false};f.exports=l}),null);
__d('UFIBusinessActorIcon.react',['cx','AppUserRoleConstants.brands','BusinessActorUtils.brands','React','getObjectValues','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=c('BusinessActorUtils.brands').getInitials(this.props.firstName,this.props.lastName),n=this.props.businessRole===c('AppUserRoleConstants.brands').ADMIN;return c('React').createElement('div',{className:c('joinClasses')(this.props.classNames,"_1rpl")},c('React').createElement('div',{className:c('joinClasses')(this.props.textClassNames,n?"_1rpm":null)},m))};function l(){i.apply(this,arguments)}l.propTypes={firstName:k.string.isRequired,lastName:k.string.isRequired,classNames:k.string,textClassNames:k.string,businessRole:k.oneOf(c('getObjectValues')(c('AppUserRoleConstants.brands')))};f.exports=l}),null);
__d("TranslationTrigger",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SEE_TRANSLATION:"see_translation",AUTO_TRANSLATION:"auto_translation",SEE_CONVERSION:"see_conversion",TRANSLATE_ALL:"translate_all",LOGGED_OUT_AUTO_TRANSLATION:"logged_out_auto_translation",NONE:"none"})}),null);
__d('PublicConversationsUnicornTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:PublicConversationsUnicornLoggerConfig',this.$PublicConversationsUnicornTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:PublicConversationsUnicornLoggerConfig',this.$PublicConversationsUnicornTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$PublicConversationsUnicornTypedLogger1={};return this};h.prototype.updateData=function(j){this.$PublicConversationsUnicornTypedLogger1=babelHelpers['extends']({},this.$PublicConversationsUnicornTypedLogger1,j);return this};h.prototype.setCommentFbid=function(j){this.$PublicConversationsUnicornTypedLogger1.comment_fbid=j;return this};h.prototype.setVC=function(j){this.$PublicConversationsUnicornTypedLogger1.vc=j;return this};var i={comment_fbid:true,vc:true};f.exports=h}),null);
__d('UFICommentLikeCount.react',['cx','fbt','ActorURI','NumberFormat','ProfileBrowserLink','ProfileBrowserTypes','React','SutroStoryHeaderUFIGatingConfig','URI'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=function o(p,q,r){var s=new (c('URI'))('/ajax/like/tooltip.php').setQueryData({comment_fbid:p.fbid,comment_from:p.author,comment_likecount:p.likecount||0,comment_id:p.id,cache_buster:p.likeconfirmhash||0});if(q)s.addQueryData({viewas:q});return c('ActorURI').create(s,r)};j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.prototype.render=function(){var o=this.props.comment,p=o.likecount||0,q=c('NumberFormat').formatInteger(p),r=i._({"*":"{number} likes","_1":"1 Like"},[i.plural(p,'number')]),s=c('ProfileBrowserTypes').LIKES,t={id:o.fbid},u=m(this.props.comment,this.props.contextArgs.viewas,this.props.actorForPost),v=c('React').createElement('span',{className:"UFICommentReactionIconContainer"},c('React').createElement('i',{className:"_3j7l _2p78 _9-y"})),w=c('React').createElement('span',null,q),x=c('SutroStoryHeaderUFIGatingConfig').enabled_for_ui40,y="UFICommentLikeButton"+(this.props.comment.hasviewerliked?' '+"UFICommentLikedButton":'')+(x?' '+"UFISutroLikeCount":''),z=c('ProfileBrowserLink').constructDialogURI(s,t).toString(),aa=c('ProfileBrowserLink').constructPageURI(s,t).toString(),ba='dialog',ca=this.props.contextArgs.loggedOutLinkConfig;if(ca&&ca.showLikeLink){z=ca.likeAjaxifyURI;aa='#'}return c('React').createElement('a',{ajaxify:z,'aria-label':r,className:y,'data-hover':'tooltip','data-tooltip-alignh':'center','data-tooltip-uri':u.toString(),href:aa,rel:ba,role:'button'},v,w)};function n(){j.apply(this,arguments)}n.propTypes={actorForPost:l.string,comment:l.object.isRequired,contextArgs:l.object.isRequired};f.exports=n}),null);
__d("ReactionNuxTypeEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LIKE_CLICK:"like_click",LIKE_CLICK_RENUX:"like_click_renux",SPATIAL_REACTIONS_NUX:"spatial_reactions_nux"})}),null);
__d("UFILikeWebDriverIDs",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LIKE_LINK:"fb-ufi-likelink",UNLIKE_LINK:"fb-ufi-unlikelink",LIKE_LINK_COMMENT:"ufi_comment_like_link",LIKE_LINK_REPLY:"ufi_reply_like_link"})}),null);
__d('UFIReactionIconImpl.react',['cx','Image.react','React','SutroStoryHeaderUFIGatingConfig','UFIConfig','UFIReactionTypes','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.shouldComponentUpdate=function(m,n){'use strict';return m.className!==this.props.className||m.reaction!==this.props.reaction||m.size!==this.props.size||m.grayscale!==this.props.grayscale};l.prototype.renderImage=function(){'use strict';var m=c('UFIReactionTypes').reactions[this.props.reaction].name,n='/images/ufi/reactions/v6/svg/'+m+'.svg',o=c('SutroStoryHeaderUFIGatingConfig').enabled_for_ufi;if(this.props.hasStaticSVGDock){return c('React').createElement(c('Image.react'),{style:{position:'absolute'},src:n})}else return c('React').createElement('i',{className:c('joinClasses')(c('UFIReactionTypes').reactions[this.props.reaction].class_name,"_2p78"+(this.props.size==='13'?' '+"_9-y":'')+(this.props.size==='16'?' '+"_9--":'')+(this.props.size==='18'?' '+"_19kl":'')+(this.props.size==='48'?' '+"_9-_":'')+(this.props.size==='96'?' '+"_9_0":'')+(this.props.grayscale?' '+"_pxi":'')+(o?' '+"_hly":''))});};l.prototype.render=function(){'use strict';return c('React').createElement('span',{className:c('joinClasses')("_9zc"+(this.props.size==='13'?' '+"_2p79":'')+(this.props.size==='16'?' '+"_2p7a":'')+(this.props.size==='18'?' '+"_19km":'')+(this.props.size==='48'?' '+"_2p7b":'')+(this.props.size==='96'?' '+"_9-w":''),this.props.className,"_3uet"+(' '+"_4e-m"))},this.renderImage())};function l(){'use strict';i.apply(this,arguments)}l.propTypes={className:k.string,grayscale:k.bool,isSVGDock:k.bool,reaction:k.number.isRequired,size:k.oneOf(['13','16','18','48','96'])};l.defaultProps={className:null,grayscale:false,isSVGDock:false,size:'16'};f.exports=l}),null);
__d('addFocusEvents',['Deferred','Event','React','SubscriptionList'],(function a(b,c,d,e,f,g){var h=c('React').Component,i=void 0,j=function(k){return function(){var l,m;l=babelHelpers.inherits(n,h);m=l&&l.prototype;n.prototype.componentDidMount=function(){'use strict';if(!i){var o,p;i=new (c('SubscriptionList'))(function(){o=c('Event').listen(window,'blur',function(){i&&i.fireCallbacks(true);p&&p.remove();p=c('Event').listen(document.documentElement,'focusin',function(){i&&i.fireCallbacks(false);p&&p.remove();p=null})})},function(){o&&o.remove();p&&p.remove();o=null;p=null;i=null})}this.subscription=i.add(function(q){this.locked=q}.bind(this))};n.prototype.componentWillUnmount=function(){'use strict';this.subscription&&this.subscription.remove()};n.prototype.onClick=function(event){'use strict';this.props.onClick&&this.props.onClick(event);if(this.deferred)this.deferred.resolve(this.props.onMouseFocus);};n.prototype.onFocus=function(event){'use strict';if(this.deferred)this.deferred.reject();if(this.locked)return;this.deferred=new (c('Deferred'))();this.deferred.done(function(o){o&&o(event);this.deferred=null}.bind(this),function(){this.deferred=null}.bind(this))};n.prototype.onKeyUp=function(event){'use strict';this.props.onKeyUp&&this.props.onKeyUp(event);if(this.deferred)this.deferred.resolve(this.props.onKeyboardFocus);};n.prototype.render=function(){'use strict';var o=this.props,p=o.onKeyboardFocus,q=o.onMouseFocus,r=babelHelpers.objectWithoutProperties(o,['onKeyboardFocus','onMouseFocus']);return c('React').createElement(k,babelHelpers['extends']({},r,{onClick:this.onClick.bind(this),onFocus:this.onFocus.bind(this),onKeyUp:this.onKeyUp.bind(this)}))};function n(){'use strict';l.apply(this,arguments)}return n}()}.bind(this);f.exports=j}),null);
__d('UFIReactionsLinkImpl.react',['csx','cx','fbt','BanzaiLogger','BootloadedComponent.react','Bootloader','Event','JSResource','React','ReactDOM','ReactionNuxTypeEnum','ShimButton.react','SubscriptionsHandler','SutroStoryHeaderUFIGatingConfig','UFICommentAction','UFIConfig','UFILikeWebDriverIDs','UFIReactionIconImpl.react','UFIReactionTypes','UFIStoryAction','addFocusEvents','shallowCompare','curry'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('React').Component,n=c('React').PropTypes,o=c('UFIConfig').reactionsFunnelLogger,p=c('UFIConfig').reactionsHasCommentFunnelLogger,q=c('UFIConfig').reactionsHasFunnelLogger,r=false,s=false,t=null,u=null,v=null,w=void 0,x=c('React').createElement('div',null),y=150,z=c('UFIReactionTypes').reactions,aa=Object.keys(z),ba=20,ca=525,da=750,ea=700,fa=850,ga=500,ha='ontouchstart' in window,ia=j._("Show More Reactions"),ja=j._("New! React to what's happening in different parts of the video"),ka=[],la=function pa(){if(!t){var qa=function ra(sa){t=sa;if(ka){ka.forEach(function(ta){return ta()});ka=null}};if(c('UFIConfig').reactionsHasAnimatedIcons){c('Bootloader').loadModules(["UFIReactionsMenuWithAnimatedIcons.react"],qa,'UFIReactionsLinkImpl.react')}else c('Bootloader').loadModules(["UFIReactionsMenuImpl.react"],qa,'UFIReactionsLinkImpl.react');}},ma=function pa(qa){if(!u||!v||!w){var ra=function sa(ta,ua,va){u=ta;v=ua;w=va;qa()};c('Bootloader').loadModules(["SpatialReactionsProductionStore","SphericalVideoComponentActions","SpatialReactionClickAnimation","SpatialReactionFunnelLoggingStore"],ra,'UFIReactionsLinkImpl.react')}else qa();},na=c('addFocusEvents')('a');k=babelHelpers.inherits(oa,m);l=k&&k.prototype;function oa(pa,qa){'use strict';l.constructor.call(this,pa,qa);this.$UFIReactionsLink2=function(){if(this.state.dialogShown)this.forceUpdate();}.bind(this);this.hideDialog=function(){this.setState({dialogShown:false,isScrubbing:false})}.bind(this);this.showDialog=function(){if(this.dialogShownTime===0)this.dialogShownTime=Date.now();if(!this.state.dialogShown)this.state.logToFunnel&&o.menuShow(this.state.logAsComment);r=true;this.setState({dialogShown:true,NUXShown:false})}.bind(this);this.onClick=function(event){var sa,ta=this;event.preventDefault();var ua=this.props,va=ua.reaction,wa=ua.suggestedReaction;if(!va||va===c('UFIReactionTypes').LIKE||!z[va]){(function(){if(!va&&ta.props.nuxConfig){var xa=ta.props.nuxConfig.nuxType;if(xa===c('ReactionNuxTypeEnum').LIKE_CLICK||xa===c('ReactionNuxTypeEnum').LIKE_CLICK_RENUX)ta.maybeShowNUX();}var ya=wa&&ta.hasSuggestedReaction?wa:c('UFIReactionTypes').LIKE;va=va?c('UFIReactionTypes').NONE:ya;var za=c('curry')(ta.onReactionChange,va);ta.$UFIReactionsLink3(va,true);if(ta.$UFIReactionsLink5()){ma(function(){if(u&&v){var ab=u.getVideoPlayerController(this.props.contextArgs.instanceid);if(ab&&va===c('UFIReactionTypes').LIKE){v.clickLikeButton(ab.getVideoPlayerID());event.persist();if(!this.$UFIReactionsLink1)this.$UFIReactionsLink1=new w(ab,c('UFIReactionTypes').LIKE,za);this.$UFIReactionsLink1.click(event)}else za(event);}}.bind(ta))}else za(event);})()}else this.onReactionChange(0,event);this.setState({dialogShown:false,isScrubbing:false})}.bind(this);this.onClickCapture=function(event){event.stopPropagation();this.setState({isLongPressing:false})}.bind(this);this.onContextMenu=function(event){if(this.state.isTouchDown)event.preventDefault();}.bind(this);this.onMouseDown=function(event){clearTimeout(this.hoverTimeout)}.bind(this);this.onMouseEnter=function(event){clearTimeout(this.hoverTimeout);var sa=this.props.comment?ea:ca;if(!this.state.dialogShown)this.hoverTimeout=setTimeout(function(){this.showDialog();if(this.$UFIReactionsLink5())ma(function(){if(u&&v){var ta=u.getVideoPlayerController(this.props.contextArgs.instanceid);if(ta)v.openReactionMenu(ta.getVideoPlayerID());}}.bind(this));}.bind(this),sa);la();if(!this.state.dialogShown&&this.state.logToFunnel)this.logFunnelTimeout=setTimeout(function(){return o.likeButtonEnter(this.props.reaction,this.state.logAsComment)}.bind(this),y);}.bind(this);this.onMouseLeave=function(event){clearTimeout(this.hoverTimeout);clearTimeout(this.logFunnelTimeout);var sa=this.props.comment?fa:da;if(this.state.dialogShown)if(this.$UFIReactionsLink5()){ma(function(){if(u&&u.shouldLeaveReactionMenuOpen()){this.$UFIReactionsLink6(this.hideDialog)}else this.hoverTimeout=setTimeout(function(){this.hideDialog();if(u&&v){var ta=u.getVideoPlayerController(this.props.contextArgs.instanceid);if(ta)v.closeReactionMenu(ta.getVideoPlayerID());}}.bind(this),sa);}.bind(this))}else this.hoverTimeout=setTimeout(this.hideDialog,sa);}.bind(this);this.onReactionMenuMouseEnter=function(event){clearTimeout(this.hoverTimeout)}.bind(this);this.onTouchStart=function(event){if(!this.state.dialogShown){this.mouseDownTime=Date.now();this.mouseUpTime=0;this.longPressTimeout=setTimeout(function(){if(this.dialogShownTime===0)this.dialogShownTime=Date.now();this.setState({dialogShown:true,NUXShown:false,isLongPressing:true})}.bind(this),ga);la()}this.setState({isTouchDown:true,isLongPressing:false})}.bind(this);this.onTouchEnd=function(event){if(this.state.isLongPressing)this.mouseUpTime=Date.now();this.dragStartX=null;this.dragStartY=null;clearTimeout(this.longPressTimeout);this.setState({isTouchDown:false})}.bind(this);this.onTouchMove=function(event){if(this.state.isScrubbing)return;var sa=event.touches[0],ta=sa.clientX,ua=sa.clientY;if(this.dragStartX===null&&this.dragStartY===null){this.dragStartX=ta;this.dragStartY=ua;return}if(typeof this.dragStartX==='number'&&typeof this.dragStartY==='number'&&(this.dragStartX>ta+ba||this.dragStartX<ta-ba||this.dragStartY>ua+ba||this.dragStartY<ua-ba))this.setState({isScrubbing:true});}.bind(this);this.onReactionChange=function(sa,event){var ta=arguments.length<=2||arguments[2]===undefined?null:arguments[2],ua=arguments.length<=3||arguments[3]===undefined?null:arguments[3];this.$UFIReactionsLink3(sa);var va=c('ReactDOM').findDOMNode(this.refs.trigger);if(this.state.logToFunnel)event.target===va?o.likeButtonClick(sa,this.state.logAsComment):o.reactionSelection(sa,this.state.logAsComment);var wa=void 0;if(this.props.comment){wa=c('UFICommentAction').changeReaction(this.props.contextArgs,this.props.comment,sa,va)}else wa=c('UFIStoryAction').changeReaction(this.props.contextArgs,sa,va,ta,ua);this.context.dispatch(wa);var xa=function(){this.setState({dialogShown:false,isScrubbing:false})}.bind(this);if(this.$UFIReactionsLink5()){ma(function(){if(u)if(u.shouldLeaveReactionMenuOpen()){this.$UFIReactionsLink6(function(){xa()})}else xa();}.bind(this))}else xa();}.bind(this);this.onReactionMouseEnter=function(sa,event){if(this.reactionsHoverStartTimeMap[sa]===0)this.reactionsHoverStartTimeMap[sa]=Date.now();}.bind(this);this.onReactionMouseLeave=function(sa,event){if(this.reactionsHoverStartTimeMap[sa]){this.reactionsHoverTotalTimeMap[sa]+=Date.now()-this.reactionsHoverStartTimeMap[sa];this.reactionsHoverStartTimeMap[sa]=0}}.bind(this);this.onKeyboardFocus=function(){this.allowKeyboardFocus=true;this.showDialog()}.bind(this);this.onScreenReaderTrigger=function(){s=true;this.allowKeyboardFocus=true;this.showDialog()}.bind(this);this.dragStartX=null;this.dragStartY=null;this.hasSuggestedReaction=c('UFIConfig').reactionsHasSuggestedReaction;this.subscriptionsHandler=new (c('SubscriptionsHandler'))();if(ka)ka.push(this.$UFIReactionsLink2);var ra=false;if(o&&(q&&this.props.comment===undefined||p&&this.props.comment!==undefined))ra=true;this.state={allowAnimationPlayback:false,dialogShown:false,isLongPressing:false,isScrubbing:false,isTouchDown:false,logToFunnel:ra,logAsComment:!!this.props.comment&&p,NUXShown:false,shouldBounce:false}}oa.prototype.shouldComponentUpdate=function(pa,qa){'use strict';return c('shallowCompare')(this,pa,qa)};oa.prototype.componentWillReceiveProps=function(pa){'use strict';this.setState({shouldBounce:!!pa.reaction&&pa.reaction!==this.props.reaction})};oa.prototype.componentWillUpdate=function(pa,qa){'use strict';if(this.state.dialogShown&&!qa.dialogShown)this.$UFIReactionsLink3(this.props.reaction);};oa.prototype.componentDidUpdate=function(pa,qa){var ra,sa=this;'use strict';if(!qa.dialogShown&&this.state.dialogShown){if(ha)(function(){var ta=void 0;sa.subscriptionsHandler.addSubscriptions(c('Event').listen(document.documentElement,'touchstart',function(event){ta=event.touches[0]}),c('Event').listen(document.documentElement,'touchmove',function(event){ta=event.touches[0]}),c('Event').listen(document.documentElement,'touchend',function(event){if(ta&&!this.refs.root.contains(document.elementFromPoint(ta.clientX,ta.clientY)))this.setState({dialogShown:false,isScrubbing:false});}.bind(sa)))})();}else if(qa.dialogShown&&!this.state.dialogShown){this.subscriptionsHandler.release();this.subscriptionsHandler=new (c('SubscriptionsHandler'))()}};oa.prototype.componentDidMount=function(){'use strict';this.$UFIReactionsLink4();if(this.props.nuxConfig){var pa=this.props.nuxConfig.nuxType;if(pa===c('ReactionNuxTypeEnum').SPATIAL_REACTIONS_NUX)this.maybeShowNUX();}if(c('UFIConfig').reactionsHasAnimatedIcons){c('Bootloader').loadModules(["KeyframesEnvironment","createCancelableFunction"],function(qa,ra){var sa=ra(function(){return this.setState({allowAnimationPlayback:true})}.bind(this));this.subscriptionsHandler.addSubscriptions(sa);qa.waitForRenderLoopToStabilizeOncePageIsLoaded().done(sa)}.bind(this),'UFIReactionsLinkImpl.react');if(c('UFIConfig').reactionsAnimatedIconsShouldPreload)c('Bootloader').loadModules(["UFIReactionsAnimationPreloader","Parent"],function(qa,ra){var sa=ra.bySelector(this.refs.root,"._zw3");if(sa)qa.registerListener(sa,this.props.supportedReactions);}.bind(this),'UFIReactionsLinkImpl.react');}};oa.prototype.componentWillUnmount=function(){'use strict';this.subscriptionsHandler.release();if(ka){var pa=ka.indexOf(this.$UFIReactionsLink2);if(pa!==-1)ka.splice(pa,1);}};oa.prototype.maybeShowNUX=function(){'use strict';var pa=null;if(this.props.nuxConfig)pa=this.props.nuxConfig.nuxType;if(!r){r=true;this.setState({NUXShown:true,dialogShown:false});if(pa!==c('ReactionNuxTypeEnum').SPATIAL_REACTIONS_NUX)c('BanzaiLogger').log('WebReactionsNuxLoggerConfig',{feedback_id:this.props.contextArgs.ftentidentifier,'interface':'www'});}};oa.prototype.onDragStart=function(event){'use strict';event.preventDefault()};oa.prototype.renderMenu=function(){'use strict';if(this.state.dialogShown)la();if(!t)return null;var pa=this.allowKeyboardFocus;this.allowKeyboardFocus=false;return c('React').createElement(t,{allowAnimationPlayback:this.state.allowAnimationPlayback,allowKeyboardFocus:pa,initialReaction:this.props.reaction,isLongPressing:this.state.isLongPressing,isScreenReader:s,instanceId:this.props.contextArgs.instanceid,onMouseEnter:this.onReactionMenuMouseEnter,onMouseLeave:this.onMouseLeave,onReactionClick:this.onReactionChange,onBlur:this.hideDialog,onFocus:this.showDialog,onReactionMouseEnter:this.onReactionMouseEnter,onReactionMouseLeave:this.onReactionMouseLeave,shown:this.state.dialogShown,supportedReactions:this.props.supportedReactions,showSpatialReactions:this.$UFIReactionsLink5()})};oa.prototype.renderTrigger=function(){'use strict';var pa=this.props,qa=pa.reaction,ra=pa.suggestedReaction;if(qa&&!z[qa])qa=null;var sa=qa?c('UFILikeWebDriverIDs').UNLIKE_LINK:c('UFILikeWebDriverIDs').LIKE_LINK,ta=void 0,ua=void 0,va=void 0,wa=void 0;if(this.props.comment){sa=this.props.comment.parentcommentid?c('UFILikeWebDriverIDs').LIKE_LINK_REPLY:c('UFILikeWebDriverIDs').LIKE_LINK_COMMENT;var xa=false;if(!qa){ta=z[c('UFIReactionTypes').LIKE].display_name}else{ta=z[qa].display_name;wa=z[qa].color;xa=true}va="UFILikeLink"+(' '+"UFIReactionLink")+(xa?' '+"UFILinkBright":'')}else{var ya=c('SutroStoryHeaderUFIGatingConfig').is_uppercased?'display_name_uppercase':'display_name';if(!qa){ta=ra&&this.hasSuggestedReaction?z[ra][ya]:z[c('UFIReactionTypes').LIKE][ya]}else ta=z[qa][ya];if(qa&&qa!=c('UFIReactionTypes').LIKE||!qa&&ra&&this.hasSuggestedReaction&&ra!=c('UFIReactionTypes').LIKE){var za=c('SutroStoryHeaderUFIGatingConfig').enabled_for_ufi,ab=za?'18':'13';ua=c('React').createElement(c('UFIReactionIconImpl.react'),{className:"_1ktw"+(za?' '+"_2hoq":''),grayscale:!qa&&!!ra,reaction:qa||ra,size:ab})}var bb=c('SutroStoryHeaderUFIGatingConfig').enabled_for_ufi_animation;va="UFILikeLink"+(' '+"_4x9-")+(' '+"_4x9_")+(!ua?' '+"_48-k":'')+(qa?' '+"UFILinkBright":'')+(this.state.shouldBounce&&!bb?' '+"_3_mo":'')+(this.state.shouldBounce&&bb?' '+"_614v":'');wa=qa?z[qa].color:null}return c('React').createElement(na,{'aria-pressed':!!qa,className:va,'data-testid':sa,href:'#',onClick:this.onClick,onClickCapture:this.state.isLongPressing?this.onClickCapture:null,onContextMenu:this.onContextMenu,onDragStart:this.onDragStart,onKeyboardFocus:t?null:this.onKeyboardFocus,onMouseDown:this.onMouseDown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onTouchEnd:ha?this.onTouchEnd:null,onTouchMove:ha?this.onTouchMove:null,onTouchStart:ha?this.onTouchStart:null,ref:'trigger',role:'button',style:{color:wa},tabIndex:0},ua,ta)};oa.prototype.renderNUX=function(){'use strict';var pa=this.refs.root,qa=this.props.comment!==undefined,ra=this.props.nuxConfig&&this.props.nuxConfig.nuxType===c('ReactionNuxTypeEnum').SPATIAL_REACTIONS_NUX,sa=this.props.nuxConfig&&this.props.nuxConfig.titleOverride,ta=this.props.nuxConfig&&this.props.nuxConfig.textOverride;if(!this.state.NUXShown||!pa)return null;if(ra){sa=ja;ta=null}return c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:x,bootloadLoader:c('JSResource')('UFIReactionsNUX.react').__setRef('UFIReactionsLinkImpl.react'),context:pa,titleOverride:sa,textOverride:ta,isCommentReactionNux:qa,isSpatialReactionNux:ra,nuxKey:this.props.nuxConfig&&this.props.nuxConfig.nuxKey})};oa.prototype.renderScreenReaderTrigger=function(){'use strict';if(t)return null;return c('React').createElement(c('ShimButton.react'),{className:'accessible_elem','data-accessibilityid':'virtual_cursor_trigger',inline:true,tabIndex:-1,onClick:this.onScreenReaderTrigger},ia)};oa.prototype.render=function(){'use strict';var pa=c('SutroStoryHeaderUFIGatingConfig').enabled_for_ufi,qa=c('SutroStoryHeaderUFIGatingConfig').is_center_aligned;return c('React').createElement('div',{className:"_khz"+(pa?' '+"_4sz1":'')+(qa?' '+"_4rw5":'')+(this.state.isScrubbing?' '+"_4bdq":'')+(qa?' '+"_3wv2":''),ref:'root'},this.renderTrigger(),this.renderScreenReaderTrigger(),this.renderMenu(),this.renderNUX())};oa.prototype.$UFIReactionsLink4=function(){'use strict';this.dialogShownTime=0;this.reactionsHoverStartTimeMap={};this.reactionsHoverTotalTimeMap={};aa.forEach(function(pa){this.reactionsHoverStartTimeMap[pa]=0;this.reactionsHoverTotalTimeMap[pa]=0}.bind(this))};oa.prototype.$UFIReactionsLink5=function(){'use strict';return !!this.props.contextArgs.showSpatialReactions&&!this.props.comment};oa.prototype.$UFIReactionsLink6=function(pa){var qa;'use strict';if(u)(function(){var ra=u.addListener(function(){if(u&&!u.shouldLeaveReactionMenuOpen()){ra.remove();pa()}})})();};oa.prototype.$UFIReactionsLink3=function(pa,qa){'use strict';if(this.dialogShownTime!==0){var ra={feedback_id:this.props.contextArgs.ftentidentifier,final_reaction:pa,initial_reaction:this.props.reaction,'interface':'www',long_press_duration:this.mouseDownTime!==0&&this.mouseUpTime!==0?this.mouseUpTime-this.mouseDownTime:0,non_reaction_like:qa,time_spent:Date.now()-this.dialogShownTime};for(var sa in this.reactionsHoverTotalTimeMap){var ta='time_spent_'+z[sa].name.toLowerCase();ra[ta]=this.reactionsHoverTotalTimeMap[sa]}c('BanzaiLogger').log('UserReactionsLoggerConfig',ra);this.$UFIReactionsLink4()}};oa.contextTypes={dispatch:n.func};f.exports=oa}),null);
__d('UFICommentLikeLink.react',['cx','fbt','React','ReactionNuxTypeEnum','TrackingNodes','UFICommentAction','UFIConfig','UFIReactionsLinkImpl.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m='ufi_comment_like_link',n='ufi_reply_like_link';j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;o.getCanRender=function(p){return !!(p&&(p.canviewerreact||p.viewercanlike||p.hasviewerliked))};o.prototype.render=function(){var p=this.props.comment,q=this.props.feedback,r=this.props.contextArgs;if(!this.constructor.getCanRender(p))return null;if(p.canviewerreact&&!r.isaskquestion){return c('React').createElement('span',{className:"_6a _3-me"},this.$UFICommentLikeLink1(p,q,r))}else if(p.viewercanlike||p.hasviewerliked)return this.$UFICommentLikeLink2(p,q,r);return null};o.prototype.$UFICommentLikeLink1=function(p,q,r){var s=null;if(c('UFIConfig').reactionsHasCommentsNux)s={nuxKey:'reactions_comments',titleOverride:i._("New! React to a comment"),textOverride:i._("Hover over the Like link to see all reactions."),nuxType:c('ReactionNuxTypeEnum').LIKE_CLICK};return c('React').createElement(c('UFIReactionsLinkImpl.react'),{contextArgs:babelHelpers['extends']({},r,{ftentidentifier:p.id}),comment:p,nuxConfig:s,reaction:p.viewerreaction,supportedReactions:q.supportedreactions,ftIdentifier:r.ftentidentifier})};o.prototype.$UFICommentLikeLink2=function(p,q,r){var s=r.loggedOutLinkConfig,t=c('TrackingNodes').getTrackingInfo(p.hasviewerliked?c('TrackingNodes').types.UNLIKE_LINK:c('TrackingNodes').types.LIKE_LINK),u=p.hasviewerliked?i._("Unlike this comment"):i._("Like this comment"),v=p.parentcommentid?n:m,w=!p.hasviewerliked||s?i._("Like"):i._("Unlike");if(r.isaskquestion&&!p.parentcommentid){u=p.hasviewerliked?i._("Remove vote for this answer"):i._("Vote for this answer");w=!p.hasviewerliked||s?i._("Upvote"):i._("Upvoted")}var x=null,y=null;if(s&&s.showLikeLink){x='dialog';y=s.likeAjaxifyURI}return c('React').createElement('a',{className:'UFILikeLink','data-ft':t,'data-testid':v,href:'#',rel:x,ajaxify:y,onClick:function(event){return this.context.dispatch(c('UFICommentAction').toggleLike(r,p,event.target))}.bind(this),role:'button',title:u},w)};function o(){j.apply(this,arguments)}o.propTypes={comment:l.object.isRequired,contextArgs:l.object.isRequired,feedback:l.object.isRequired};o.contextTypes={dispatch:l.func};f.exports=o}),null);
__d('Timestamp.react',['LiveTimer','React','ReactDOM','joinClasses'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.componentDidMount=function(){'use strict';if(this.props.autoUpdate)c('LiveTimer').addTimeStamps(c('ReactDOM').findDOMNode(this));};k.prototype.componentDidUpdate=function(l,m){'use strict';if(this.props.autoUpdate&&this.props.time!==l.time)c('LiveTimer').loop();};k.prototype.componentWillUnmount=function(){'use strict';c('LiveTimer').removeTimestamp(c('ReactDOM').findDOMNode(this))};k.prototype.render=function(){'use strict';var l=c('LiveTimer').renderRelativeTimeToServer(this.props.time,this.props.shorten,this.props.minimize),m=this.props,n=m.shorten,o=m.time,p=m.text,q=m.verbose,r=babelHelpers.objectWithoutProperties(m,['shorten','time','text','verbose']);delete r.autoUpdate;return c('React').createElement('abbr',babelHelpers['extends']({},r,{className:c('joinClasses')(this.props.className,"livetimestamp"),title:q,'data-utime':o,'data-minimize':this.props.minimize?true:null,'data-shorten':n?true:null}),l.text.toString()||p)};function k(){'use strict';h.apply(this,arguments)}k.propTypes={autoUpdate:j.bool};k.defaultProps={autoUpdate:false};f.exports=k}),null);
__d('UFICommentMetadata.react',['cx','fbt','BootloadedComponent.react','Bootloader','FBCollapsibleList.react','JSResource','Middot.react','React','ReactDOM','SutroStoryHeaderUFIGatingConfig','Timestamp.react','TrackingNodes','UFIConstants','URI','XUISpinner.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('UFIConstants').UFIStatus,m='ufi_comment_timestamp',n="UFIFailureMessageIcon",o="UFIFailureMessage",p="uiLinkSubtle",q=function s(t){var u=t.status;return u===l.FAILED_ADD||u===l.FAILED_EDIT};j=babelHelpers.inherits(r,c('React').Component);k=j&&j.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=k.constructor).call.apply(s,[this].concat(v)),this.editLinkRef=null,t}r.prototype.render=function(){var s=this.props,t=s.comment,u=s.onRetrySubmit,v=void 0,w=void 0,x=t.timestamp;if(q(t)){v=[c('React').createElement('span',{key:'failure',className:o},c('React').createElement('i',{className:n}),i._("Unable to post comment.")),t.allowRetry&&u?[' ',c('React').createElement('a',{key:'rety-submit',onClick:u,href:'#',role:'button'},i._("Try again"))]:null]}else if(x){var y=c('TrackingNodes').getTrackingInfo(c('TrackingNodes').types.SOURCE),z=c('SutroStoryHeaderUFIGatingConfig').enabled_for_ui40;w=c('React').createElement(c('Timestamp.react'),{className:z?"UFISutroCommentTimestamp":'',shorten:this.props.shortenTimestamp,time:x.time,text:x.text,verbose:x.verbose});if(this.props.showPermalink)w=c('React').createElement('a',{key:'timestamp-message',className:p,href:this.props.permalink,'data-ft':y,'data-testid':m,target:this.props.permalinkTarget},w);}var aa=null;if(t.originalTimestamp){var ba=new (c('URI'))('/ajax/edits/browser/comment').addQueryData({comment_token:t.id}).toString();aa=[c('React').createElement(c('Middot.react'),{key:'middot-editNote'}),c('React').createElement('a',{ajaxify:ba,className:'uiLinkSubtle','data-hover':'tooltip','data-tooltip-content':i._("Show edit history"),href:'#',key:'edit-link',ref:function(ha){return this.editLinkRef=ha}.bind(this),rel:'dialog',role:'button',title:i._("Show edit history")},i._("Edited"))]}var ca=null,da=t.creator_data;if(da)ca=[c('React').createElement(c('BootloadedComponent.react'),{key:'creator',bootloadPlaceholder:c('React').createElement(c('XUISpinner.react'),{size:'small'}),bootloadLoader:c('JSResource')('UFICreatorInfo.react').__setRef('UFICommentMetadata.react'),creatorID:da.creatorID,creatorType:da.creatorType,creatorName:da.creatorName,labelType:da.labelType,pageID:da.pageID,profileURI:da.profileURI}),c('React').createElement(c('Middot.react'),{key:'middot-creator'})];var ea=null;if(t.body&&t.body.markdown_enabled&&t.body.markup)ea=[c('React').createElement(c('Middot.react'),{key:'middot-markdownNote'}),c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('a',{className:'uiLinkSubtle'},i._("Formatted")),bootloadLoader:c('JSResource')('UFICommentMarkdownFormattedLink.react').__setRef('UFICommentMetadata.react'),comment:t,key:'markdown-link'})];var fa=t.reportedBy,ga=null;if(fa&&fa.length>0)ga=[c('React').createElement(c('Middot.react'),{key:'middot-reportedByMessage'}),c('React').createElement('span',{key:'reportedByMessage'},i._("Reported by {Comma-separated list of names}",[i.param('Comma-separated list of names',c('React').createElement(c('FBCollapsibleList.react'),{numVisible:2,showLessLink:true,display:'inline',delimiter:'comma'},fa))]))];return c('React').createElement('span',null,ca,w,v,aa,ea,ga)};r.prototype.componentWillUpdate=function(s){var t=this.props.comment,u=s.comment;if(!t.editnux&&!!u.editnux)c('Bootloader').loadModules(["LegacyContextualDialog"],function(v){if(!this.editLinkRef)return;var w=new v();w.init(u.editnux).setContext(c('ReactDOM').findDOMNode(this.editLinkRef)).setWidth(300).setPosition('below').show()}.bind(this),'UFICommentMetadata.react');};f.exports=r}),null);
__d('UFICommentReactionCount.react',['cx','ActorURI','ClientIDs','React','SutroStoryHeaderUFIGatingConfig','UFIReactionsBlingTokens.react','UFIReactionsProfileBrowserUtils','XUFIReactionsSocialSentenceTooltipController'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props.comment,n={entidentifier:m.id,reactioncount:m.reactioncount,reactioncountmap:m.reactioncountmap,actorforpost:this.props.actorForPost,supportedreactions:this.props.supportedReactions},o=c('SutroStoryHeaderUFIGatingConfig').enabled_for_ui40,p="UFICommentLikeButton"+(this.props.comment.hasviewerliked?' '+"UFICommentLikedButton":'')+(o?' '+"UFISutroLikeCount":''),q="UFICommentReactionsBling"+(' '+"_4ar-")+(' '+"_ipn"),r=c('ActorURI').create(c('XUFIReactionsSocialSentenceTooltipController').getURIBuilder().setString('ft_ent_identifier',m.id).setString('client_id',c('ClientIDs').getNewClientID()).setInt('user_count',m.reactioncount).getURI(),this.props.actorForPost),s=c('UFIReactionsProfileBrowserUtils').getDialogURI(n),t=c('UFIReactionsProfileBrowserUtils').getPageURI(n),u=this.props.contextArgs.loggedOutLinkConfig;if(u&&u.showLikeLink){s=u.likeAjaxifyURI;t='#'}return c('React').createElement('a',{ajaxify:s,'data-hover':'tooltip','data-tooltip-alignh':'center','data-tooltip-uri':r,href:t,rel:'dialog',role:'button'},c('React').createElement(c('UFIReactionsBlingTokens.react'),{className:q,feedback:n,contextArgs:this.props.contextArgs,max:3,noLinks:true,size:'13'},c('React').createElement('span',{className:p},m.reactioncountreduced)))};function l(){i.apply(this,arguments)}l.propTypes={actorForPost:k.string,comment:k.object.isRequired,contextArgs:k.object.isRequired,supportedReactions:k.array};f.exports=l}),null);
__d('UFICommentShareLink.react',['cx','fbt','BootloadedComponent.react','Event','JSResource','React','ReactDOM','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=false;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.getCanRender=function(o){return !!(o&&o.canshare&&o.commentshareuri)};function n(o,p){k.constructor.call(this,o,p);this.$UFICommentShareLink1=new (c('SubscriptionsHandler'))();this.state={nuxShown:false}}n.prototype.componentDidMount=function(){var o=c('ReactDOM').findDOMNode(this.refs.root);if(o&&this.$UFICommentShareLink2())this.$UFICommentShareLink1.addSubscriptions(c('Event').listen(o,'click',this.$UFICommentShareLink3.bind(this)));};n.prototype.componentWillUnmount=function(){this.$UFICommentShareLink1.release()};n.prototype.componentWillReceiveProps=function(o){if(this.props.comment&&!this.props.comment.hasviewerliked&&o.comment&&o.comment.hasviewerliked)this.$UFICommentShareLink4();};n.prototype.$UFICommentShareLink3=function(){this.setState({nuxShown:false})};n.prototype.$UFICommentShareLink2=function(){return this.props.contextArgs&&this.props.contextArgs.commentShareNuxConfig&&this.props.contextArgs.commentShareNuxConfig.nuxKey||null};n.prototype.$UFICommentShareLink4=function(){if(m||!this.$UFICommentShareLink2())return;m=true;this.setState({nuxShown:true})};n.prototype.$UFICommentShareLink5=function(){if(!this.state.nuxShown)return null;var o=this.$UFICommentShareLink2();if(!o)return null;return c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',{className:"hidden_elem"}),bootloadLoader:c('JSResource')('UFICommentShareNUX.react').__setRef('UFICommentShareLink.react'),nuxContext:this.refs.root,nuxKey:o})};n.prototype.render=function(){var o=this.props.comment;if(!this.constructor.getCanRender(o))return null;var p=i._("Share this comment"),q=i._("Share");return c('React').createElement('a',{className:'share_action_link',href:o.commentshareuri,role:'button',ref:'root',rel:'dialog',title:p},q,this.$UFICommentShareLink5())};n.propTypes={comment:l.object.isRequired,contextArgs:l.object.isRequired};f.exports=n}),null);
__d("XUFISubscribeCommentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/comment\/subscribe\/",{})}),null);
__d('UFICommentSubscribeLink.react',['fbt','AsyncRequest','React','XUFISubscribeCommentController'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l,m){j.constructor.call(this,l,m);var n=l.comment.issubscribed;this.state={isSubscribed:n?n:false}}k.prototype.render=function(){var l=h._("Subscribe to this comment"),m=h._("Subscribe"),n=h._("Unsubscribe to this comment"),o=h._("Unsubscribe");return c('React').createElement('a',{href:'#',role:'button',title:this.state.isSubscribed?n:l,onClick:function(){return this.onLinkClick()}.bind(this)},this.state.isSubscribed?o:m)};k.prototype.onLinkClick=function(){var l=this.props.comment,m=c('XUFISubscribeCommentController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(m).setData({comment_id:l.fbid,ft_ent_identifier:l.ftentidentifier,is_subscribe:!this.state.isSubscribed}).setMethod('POST').setHandler(function(n){this.setState({isSubscribed:!this.state.isSubscribed})}.bind(this)).setErrorHandler(function(n){}).send()};f.exports=k}),null);
__d("XVideoBroadcastPinnedCommentsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/videos\/pinnedcomments\/",{})}),null);
__d('UFILivePinnedCommentLink.react',['cx','fbt','AsyncRequest','BanzaiODS','React','UFILivePinnedCommentStore','UFISharedDispatcher','UFIStoryAction','UFIVideoPlayerRegistry','XVideoBroadcastPinnedCommentsController','ifRequired'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.onLinkClick=function(){var r=c('UFILivePinnedCommentStore').getPinnedCommentID(this.props.contextArgs.ftentidentifier);if(this.props.isPinned){c('UFISharedDispatcher').dispatch(c('UFIStoryAction').unpinComment(this.props.contextArgs))}else c('UFISharedDispatcher').dispatch(c('UFIStoryAction').pinComment(this.props.contextArgs,this.props.commentID));var s=this.props.contextArgs.isBroadcasterUFI?this.getCurrentBroadcastTime():c('UFIVideoPlayerRegistry').getAvailableVideoPlayerControllerTime(this.props.contextArgs.instanceid);if(s===null){c('BanzaiODS').bumpEntityKey('streaming_comments','pin_with_no_timestamp');return}var t=c('XVideoBroadcastPinnedCommentsController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(t).setData({video_id:this.props.contextArgs.fluentContentToken,video_time_offset:s,comment_fbid:this.props.isPinned?null:this.props.commentFBID}).setMethod('POST').setErrorHandler(function(u){if(r){c('UFISharedDispatcher').dispatch(c('UFIStoryAction').pinComment(this.props.contextArgs,r))}else c('UFISharedDispatcher').dispatch(c('UFIStoryAction').unpinComment(this.props.contextArgs));}.bind(this)).send()}.bind(this),n}l.prototype.getCurrentBroadcastTime=function(){return c('ifRequired')('LiveControlPanelStore',function(m){return m.getCurrentBroadcastTime()})||c('ifRequired')('LiveVideoBroadcastBroadcastStore',function(m){return m.getCurrentBroadcastTime()})};l.prototype.render=function(){var m=i._("Unpin comment"),n=i._("Pin comment");return c('React').createElement('a',{className:"uiLink",href:'#',onClick:this.onLinkClick},this.props.isPinned?m:n)};f.exports=l}),null);
__d("XVideoBroadcastClearPinCommentEventAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/videos\/pinnedcomments\/clear\/",{})}),null);
__d('UFILiveVODUnpinCommentLink.react',['cx','fbt','AsyncRequest','Bootloader','React','UFILivePinnedCommentStore','UFISharedDispatcher','UFIStoryAction','XVideoBroadcastClearPinCommentEventAsyncController'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$UFILiveVODUnpinCommentLink1=function(){c('Bootloader').loadModules(["SimpleXUIDialog"],function(r){r.showConfirm(i._("If you unpin this comment, you won't be able to pin it again."),i._("Unpin Comment"),function(s){if(!s)return;new (c('AsyncRequest'))().setURI(c('XVideoBroadcastClearPinCommentEventAsyncController').getURIBuilder().getURI()).setData({pin_event_id:this.props.pinEventID}).setMethod('POST').setHandler(function(t){if(this.props.commentID===c('UFILivePinnedCommentStore').getPinnedCommentID(this.props.contextArgs.ftentidentifier))c('UFISharedDispatcher').dispatch(c('UFIStoryAction').unpinComment(this.props.contextArgs));}.bind(this)).send()}.bind(this))}.bind(this),'UFILiveVODUnpinCommentLink.react')}.bind(this),n}l.prototype.render=function(){return c('React').createElement('a',{className:"uiLink",href:'#',onClick:this.$UFILiveVODUnpinCommentLink1},i._("Unpin comment"))};f.exports=l}),null);
__d('UFIPrivateReplyIndicator.react',['fbt','PagesPrivateReplyConstants','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('PagesPrivateReplyConstants').Status;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.willRender=function(m){return m===k.ALREADY_REPLIED};l.prototype.render=function(){if(this.props.replyStatus===k.ALREADY_REPLIED)return c('React').createElement('span',null,h._("Page responded privately"));return null};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("XPagesMessagingPrivateReplyDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pages\/messaging\/private_reply\/dialog\/",{activity_id:{type:"String",required:true},hide_attachments:{type:"Bool",defaultValue:false}})}),null);
__d('UFIPrivateReplyLink.react',['cx','fbt','ActorURI','Link.react','PagesPrivateReplyConstants','React','SutroStoryHeaderUFIGatingConfig','XPagesMessagingPrivateReplyDialogController'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('PagesPrivateReplyConstants').Status,m=c('PagesPrivateReplyConstants').Type;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.willRender=function(o,p){if(!o)return false;if(o.hasReplyPermission&&p===o.pageID)return true;return false};n.prototype.render=function(){var o=this.props.context;if(o.hasReplyPermission&&this.props.actorID===o.pageID){if(o.status===l.REPLYABLE){return this.$UFIPrivateReplyLink1()}else if(o.status===l.ALREADY_REPLIED)return this.$UFIPrivateReplyLink2();return this.$UFIPrivateReplyLink3()}return null};n.prototype.$UFIPrivateReplyLink1=function(){var o=c('ActorURI').create(c('XPagesMessagingPrivateReplyDialogController').getURIBuilder().setString('activity_id',this.props.activityID).getURI(),this.props.context.pageID),p=c('SutroStoryHeaderUFIGatingConfig').is_center_aligned;return c('React').createElement(c('Link.react'),{className:"_50u0"+(p?' '+"_60p-":'')+(' '+"_14hj"),href:o,rel:'dialog'},this.$UFIPrivateReplyLink4())};n.prototype.$UFIPrivateReplyLink3=function(){var o=void 0;switch(this.props.context.status){case l.EXPIRED:o=i._({"comments":"You can't send a message response to comments that are more than 6 months old.","reviews":"You can't send a message response to reviews that are more than 6 months old.","posts":"You can't send a message response to posts that are more than 6 months old."},[i['enum'](this.$UFIPrivateReplyLink5(),{comments:'comments',reviews:'reviews',posts:'posts'})]);break;case l.NOT_USER_CREATED:o=i._("Pages can't send private messages to other Pages.");break;case l.CANNOT_MESSAGE:o=i._("This person can't receive a message reply from your Page.");break;}var p=c('SutroStoryHeaderUFIGatingConfig').is_center_aligned;return c('React').createElement('span',{className:"_50u0"+(' '+"_50u4")+(p?' '+"_60p-":''),'data-hover':o?'tooltip':null,'data-tooltip-content':o},this.$UFIPrivateReplyLink4())};n.prototype.$UFIPrivateReplyLink2=function(){var o=c('SutroStoryHeaderUFIGatingConfig').is_center_aligned;return c('React').createElement(c('Link.react'),{className:"_50u0"+(' '+"_14hk")+(o?' '+"_60p-":''),href:this.props.context.permalink||'#'},this.props.seeResponseLabel?i._("See response"):this.$UFIPrivateReplyLink4())};n.prototype.$UFIPrivateReplyLink4=function(){return c('SutroStoryHeaderUFIGatingConfig').is_uppercased?i._("MESSAGE"):i._("Message")};n.prototype.$UFIPrivateReplyLink5=function(){switch(this.props.context.activityType){case m.COMMENT_PAGE_POST:case m.COMMENT_WALL_POST:case m.COMMENT_REVIEW:return 'comments';case m.REVIEW:return 'reviews';default:return 'posts';}};function n(){j.apply(this,arguments)}f.exports=n}),null);
__d('UFICommentActions.react',['ix','cx','fbt','BootloadedComponent.react','CommentApprovalsResponsibleUserAction','FluxContainer','JSResource','Middot.react','PublicConversationsUnicornTypedLogger','React','ReactFragment','ShimButton.react','UFIAcceptedAnswerStore','UFIAddCommentAction','UFICentralUpdates','UFICommentAction','UFICommentLikeCount.react','UFICommentLikeLink.react','UFICommentMetadata.react','UFICommentReactionCount.react','UFICommentShareLink.react','UFICommentSubscribeLink.react','UFIConfig','UFIConstants','UFILivePinnedCommentLink.react','UFILivePinnedCommentStore','UFILiveVODUnpinCommentLink.react','UFIPrivateReplyIndicator.react','UFIPrivateReplyLink.react','UFISharedDispatcher','UFIStoryAction','WebCommentViewOption','emptyFunction','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n=c('UFIConstants').UFIStatus,o="fsm fwn fcg UFICommentActions",p="UFIDeletedMessageIcon",q="UFIDeletedMessage";k=babelHelpers.inherits(r,c('React').Component);l=k&&k.prototype;r.getStores=function(){return [c('UFIAcceptedAnswerStore'),c('UFILivePinnedCommentStore')]};r.calculateState=function(s,t){var u=t.comment,v=t.feedback,w=c('UFIAcceptedAnswerStore').get(u.ftentidentifier,v.acceptedanswer),x=c('UFILivePinnedCommentStore').getPinnedCommentID(u.ftentidentifier),y=this.calculatePinActionLinkState(u,x);return {acceptedAnswerState:w,pinActionLinkState:y}};r.calculatePinActionLinkState=function(s,t){if(s.__typename==='local')return 'None';if(t===s.id)return 'MayUnpin';return 'MayPin'};function r(s){l.constructor.call(this,s);this.$UFICommentActions1=function(){this.context.dispatch(c('UFIStoryAction').changeAcceptedAnswer(this.props.contextArgs,this.props.comment,true))}.bind(this);this.$UFICommentActions2=function(){this.context.dispatch(c('UFIStoryAction').changeAcceptedAnswer(this.props.contextArgs,this.props.comment,false))}.bind(this);this.state=r.calculateState(null,s)}r.prototype.render=function(){var s,t=this.props,u=t.comment,v=t.permalink,w=t.feedback,x=t.parentCanComment,y=t.markedAsSpamHere,z=u.status===n.SPAM_DISPLAY,aa=t.showReplyLink,ba=t.hideAsSpamForPageAdmin,ca=void 0,da=void 0,ea=void 0,fa=void 0,ga=void 0,ha=void 0,ia=void 0,ja=void 0,ka=void 0,la=void 0,ma=void 0,na=void 0,oa=void 0,pa=void 0,qa=void 0,ra=u.__typename!=='local'&&u.status!==n.LIVE_DELETED&&!u.tipOptionIndex;if(ra){if(u.needsApproval||u.canAppeal||u.canSecure||u.appealStatus!==null)na=c('React').createElement('a',{onClick:function(event){return this.context.dispatch(c('UFICommentAction').remove(t.contextArgs,t.comment,event.target,c('emptyFunction')))}.bind(this),href:'#',role:'button'},j._("Delete"));if(u.canAppeal&&u.appealStatus!==c('CommentApprovalsResponsibleUserAction').APPEALED)oa=c('React').createElement('a',{onClick:function(event){return this.context.dispatch(c('UFICommentAction').appealSpam(t.contextArgs,u,event.target,t.feedback))}.bind(this),href:'#',role:'button'},j._("Not Spam"));if(u.canSecure&&u.appealStatus!==c('CommentApprovalsResponsibleUserAction').SECURED_ACCOUNT)pa=c('React').createElement('a',{onClick:function(event){return this.context.dispatch(c('UFICommentAction').secureAccount(t.contextArgs,u,event.target,t.feedback))}.bind(this),href:'#',role:'button'},j._("I didn't post this"));if(u.needsApproval)ma=c('React').createElement('a',{onClick:function(event){return this.context.dispatch(c('UFICommentAction').keepSpam(t.contextArgs,u,event))}.bind(this),href:'#',role:'button'},j._("Keep comment"));if(z&&!y){if(t.viewerCanMarkNotSpam)ca=c('React').createElement('a',{onClick:function(event){return this.context.dispatch(c('UFICommentAction').markAsNotSpam(t.contextArgs,u,event))}.bind(this),className:"UFICommentNotSpamLink",href:'#',role:'button'},j._("Unhide"));if(ba&&w.isthreaded&&u.cancomment&&aa)ha=this.renderCommentReply(u);}else{da=c('UFICommentLikeLink.react').getCanRender(u)?c('React').createElement(c('UFICommentLikeLink.react'),{comment:u,contextArgs:t.contextArgs,feedback:w}):null;if(w.isthreaded&&u.cancomment&&aa||!!u.parentcommentid&&w.cancomment&&x)ha=this.renderCommentReply(u);if(u.canviewerreact&&!t.contextArgs.isaskquestion){fa=u.reactioncount>0?c('React').createElement(c('UFICommentReactionCount.react'),{comment:u,actorForPost:w.actorforpost,supportedReactions:w.supportedreactions,contextArgs:t.contextArgs}):null}else fa=u.likecount>0?c('React').createElement(c('UFICommentLikeCount.react'),{comment:u,actorForPost:w.actorforpost,contextArgs:t.contextArgs}):null;ia=this.renderMessageReply(u,w)}if(u.attachment&&u.attachment.type==='share'&&!u.attachment.disableRemove&&u.canremove){var sa="_460h";ja=c('React').createElement('a',{className:sa,href:'#',onClick:function(event){return this.context.dispatch(c('UFICommentAction').removePreview(t.contextArgs,u,event.target))}.bind(this),role:'button'},j._("Remove Preview"))}if(c('UFICommentShareLink.react').getCanRender(u))ea=c('React').createElement(c('UFICommentShareLink.react'),{contextArgs:t.contextArgs,comment:u});if(u.cansubscribe)qa=c('React').createElement(c('UFICommentSubscribeLink.react'),{contextArgs:t.contextArgs,comment:u});}if(c('UFIConfig').publicConversationsUnicornWhitelist)ka=c('React').createElement('a',{className:'share_action_link',href:'#',role:'button',title:'[FB Only] Mark this comment as a great comment for futher review.',onClick:function ib(event){return new (c('PublicConversationsUnicornTypedLogger'))().setCommentFbid(u.fbid).log()}},'Unicorn');var ta=t.contextArgs.islivestreaming?null:c('React').createElement(c('UFICommentMetadata.react'),{comment:u,onRetrySubmit:function(){return this.context.dispatch(c('UFIAddCommentAction').retrySubmit(t.contextArgs,u))}.bind(this),permalink:v,shortenTimestamp:t.contextArgs.shortenTimestamp,showPermalink:t.showPermalink,contextArgs:t.contextArgs}),ua=null;if(t.contextArgs.enablePinLiveComments&&!u.tipOptionIndex)if(t.contextArgs.islivestreaming&&this.state.pinActionLinkState!=='None'){ua=c('React').createElement(c('UFILivePinnedCommentLink.react'),{commentID:u.id,commentFBID:u.fbid,contextArgs:t.contextArgs,isPinned:this.state.pinActionLinkState==='MayUnpin'})}else if(t.contextArgs.isLiveVOD&&this.state.pinActionLinkState==='MayUnpin'){var va=c('UFILivePinnedCommentStore').getPinEventID(t.contextArgs.ftentidentifier);if(va!==null)ua=c('React').createElement(c('UFILiveVODUnpinCommentLink.react'),{commentID:u.id,contextArgs:t.contextArgs,pinEventID:va});}var wa={};if(w.customcommentactionlinks){var xa=function ib(jb){var kb=w.customcommentactionlinks[jb];if(kb.showInMenu)return 'continue';var lb=function mb(event){return c('UFICentralUpdates').inform(kb.type,{comment:u,feedback:w})};wa[kb.type]=c('React').createElement('a',{href:'#',onClick:lb,role:'button'},kb.title)};for(var ya in w.customcommentactionlinks){var s=xa(ya);if(s==='continue')continue;}}var za=void 0;if(u.needsApproval){za=babelHelpers['extends']({keepToggle:ma,deleteToggle:na,metadata:ta},wa)}else if(u.canAppeal||u.canSecure||(u.appealStatus===c('CommentApprovalsResponsibleUserAction').APPEALED||u.appealStatus===c('CommentApprovalsResponsibleUserAction').SECURED_ACCOUNT)&&!u.isApproved){za=babelHelpers['extends']({appealToggle:oa,secureToggle:pa,deleteToggle:na,metadata:ta},wa)}else if(this.props.orderingMode===c('WebCommentViewOption').LIVE_STREAMING){za=babelHelpers['extends']({likeToggle:da,unicornButton:ka,spamToggle:ca,likeCount:fa,spamCount:ga,livePinCommentLink:ua,metadata:ta},wa,{removePreview:ja})}else if(w.isqanda){za=babelHelpers['extends']({likeCount:fa,spamCount:ga,likeToggle:da,unicornButton:ka,commentReply:ha,shareComment:ea,messageReply:ia,spamToggle:ca},wa,{livePinCommentLink:ua,metadata:ta,removePreview:ja})}else if(t.contextArgs.isaskquestion&&!u.parentcommentid){if(ra)la=this.renderAcceptAnswerButton(t.contextArgs,w,u);za=babelHelpers['extends']({likeToggle:da,unicornButton:ka,commentReply:ha,messageReply:ia,spamToggle:ca,removePreview:ja,shareComment:ea,subscribeComment:qa,likeCount:fa,spamCount:ga,acceptAnswerButton:la},wa,{livePinCommentLink:ua,metadata:ta})}else if(t.contextArgs.entstream){za=babelHelpers['extends']({livePinCommentLink:ua,metadata:ta,likeToggle:da,unicornButton:ka,likeCount:fa,commentReply:ha,messageReply:ia,shareComment:ea,subscribeComment:qa,spamCount:ga,spamToggle:ca,removePreview:ja},wa)}else if(w.isthreaded){za=babelHelpers['extends']({likeToggle:da,unicornButton:ka,commentReply:ha,messageReply:ia,spamToggle:ca,removePreview:ja,shareComment:ea,subscribeComment:qa,likeCount:fa,spamCount:ga},wa,{livePinCommentLink:ua,metadata:ta})}else za=babelHelpers['extends']({livePinCommentLink:ua,metadata:ta,likeToggle:da,unicornButton:ka,shareComment:ea,subscribeComment:qa,likeCount:fa,spamCount:ga,commentReply:ha,messageReply:ia,spamToggle:ca,removePreview:ja},wa);if(u.status===n.LIVE_DELETED){var ab=j._("Comment deleted"),bb=c('React').createElement('span',{className:q},c('React').createElement('i',{'aria-label':ab,className:p,'data-hover':'tooltip','data-tooltip-content':ab,role:'img'}));za.deletionWarning=bb}if(u.isApproved){var cb=j._("This comment was originally marked as spam");za.isApproved=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('Image.react').__setRef('UFICommentActions.react'),bootloadPlaceholder:c('React').createElement('span',null),'data-hover':'tooltip','data-tooltip-content':cb,'aria-label':cb,src:h("119369"),'data-tooltip-alignh':'left'})}var db=true,eb={};for(var fb in za){var gb=za[fb];if(gb){var hb=c('React').createElement(c('Middot.react'),{key:'middot-'+fb});eb[fb]=db?gb:c('ReactFragment').create({middot:hb,action:gb});db=false}}return c('React').createElement('div',{className:o},c('ReactFragment').create(eb))};r.prototype.renderCommentReply=function(s){return c('React').createElement('a',{className:"UFIReplyLink _460i",href:'#',onClick:function(){var t=this.props,u=t.contextArgs,v=t.feedback;if(v.isthreaded&&s.cancomment){this.context.dispatch(c('UFIStoryAction').showReplies(u,s.id,s))}else if(s.parentcommentid)this.context.dispatch(c('UFIStoryAction').showReplies(u,s.parentcommentid,s));if(v.targetiscomment)c('UFISharedDispatcher').dispatch(c('UFIStoryAction').showComments(u));}.bind(this),role:'button'},j._("Reply"))};r.prototype.renderMessageReply=function(s,t){if(s.messagereply){if(c('UFIPrivateReplyLink.react').willRender(s.messagereply,t.actorforpost)){return c('React').createElement(c('UFIPrivateReplyLink.react'),{actorID:t.actorforpost,activityID:s.id,context:s.messagereply,seeResponseLabel:true})}else if(c('UFIPrivateReplyIndicator.react').willRender(s.messagereply.status))return c('React').createElement(c('UFIPrivateReplyIndicator.react'),{replyStatus:s.messagereply.status});}else if(s.chattobuy){var u="_460j";return c('React').createElement('a',{className:u,href:s.chattobuy,role:'button',rel:'async-dialog'},j._("Message"))}return null};r.prototype.renderAcceptAnswerButton=function(s,t,u){var v=t.actorid===t.actorforpost;if(this.state.acceptedAnswerState.type==='NoneAccepted'){if(!v)return null;var w="_460k";return c('React').createElement(c('ShimButton.react'),{className:w,form:'link',onClick:this.$UFICommentActions1},j._("Accept Answer"))}if(this.state.acceptedAnswerState.id!==u.id)return null;var x="_460l";return v?c('React').createElement(c('ShimButton.react'),{className:x,form:'link',onClick:this.$UFICommentActions2},j._("Unaccept Answer")):j._("Accepted answer")};r.contextTypes={dispatch:m.func};f.exports=c('FluxContainer').create(r,{withProps:true})}),null);
__d("XAnimatedImageInLiveCommentPreviewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/gifs\/in_live_comment\/",{})}),null);
__d("XVideoInLiveCommentPreviewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/in_live_comment\/",{})}),null);
__d('UFICommentAttachment.react',['cx','AsyncRequest','BootloadedComponent.react','CSS','DOM','DOMQuery','HTML','Image.react','JSResource','Link.react','LitestandShareAttachment','Random','React','ReactDOM','SubscriptionsHandler','UFILocallyComposedCommentStore','XAnimatedImageInLiveCommentPreviewController','XUISpinner.react','XVideoInLiveCommentPreviewController'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k='ufi_comment_photo',l=80,m='ufi_comment_sticker';i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(o){j.constructor.call(this,o);this.state={localCommentIDs:c('UFILocallyComposedCommentStore').getStateForInstance(this.props.comment.ufiinstanceid),randomInstanceID:Math.floor(c('Random').random()*10000)}}n.prototype.$UFICommentAttachment2=function(o){return o.photo_comment||o.video_comment||o.attachment};n.prototype.$UFICommentAttachment3=function(o,p){var q=void 0,r=void 0,s=void 0;if(p>o){s=l/p;q=o*s;r=p*s}else{s=l/o;q=o*s;r=p*s}return {height:Math.round(q),width:Math.round(r)}};n.prototype.componentDidMount=function(){var o=this.$UFICommentAttachment2(this.props.comment);if(o)this.renderAttachment(o);this.$UFICommentAttachment1=new (c('SubscriptionsHandler'))();this.$UFICommentAttachment1.addSubscriptions(c('UFILocallyComposedCommentStore').addListener(function(){this.setState({localCommentIDs:c('UFILocallyComposedCommentStore').getStateForInstance(this.props.comment.ufiinstanceid)})}.bind(this)))};n.prototype.shouldComponentUpdate=function(o,p){var q=this.$UFICommentAttachment2(this.props.comment),r=this.$UFICommentAttachment2(o.comment);if(!q&&!r)return false;if(!q||!r||q.markup!=r.markup){return true}else return false;};n.prototype.componentDidUpdate=function(o){var p=this.$UFICommentAttachment2(this.props.comment);if(!p)return;if(p.type!=='sticker'&&p.type!=='photo')this.renderAttachment(p);};n.prototype.componentWillUnmount=function(){if(this.refs&&this.refs.contents){var o=c('ReactDOM').findDOMNode(this.refs.contents);c('DOM').empty(o)}this.$UFICommentAttachment1&&this.$UFICommentAttachment1.release()};n.prototype.renderAttachment=function(o){if(o&&this.refs&&this.refs.contents&&o.markup){var p=o.markup;if(c('HTML').isHTML(p.markup))p=c('HTML').replaceJSONWrapper(p.markup).getRootNode();var q=p.parentNode,r=c('ReactDOM').findDOMNode(this.refs.contents);if(q&&q!==r)p=p.cloneNode(true);if(this.props.disableTheater){var s=p.querySelector('a[rel="theater"]');if(s)c('DOM').setAttributes(s,{target:'_blank',rel:''});}c('DOM').setContent(r,p);if(o.type=='share'){var t="_6m2",u=r&&c('CSS').hasClass(r,t)?r:c('DOMQuery').scry(r,'.'+t)[0];u=u?u:r;if(u instanceof HTMLElement)c('LitestandShareAttachment').init(u);}}else if(o&&o.type=='video'&&!o.markup){var v=c('XVideoInLiveCommentPreviewController').getURIBuilder();new (c('AsyncRequest'))(v.getURI()).setMethod('POST').setData({video_id:o.target.id}).setHandler(function(w){this.renderAttachment(w.payload.video_preview.video_comment)}.bind(this)).send()}else if(o&&o.type=='gif'&&!o.markup)new (c('AsyncRequest'))(c('XAnimatedImageInLiveCommentPreviewController').getURIBuilder().getURI()).setMethod('POST').setData({comment_id:this.props.comment.id,dom_selector:'div#'+this.$UFICommentAttachment4()}).send();};n.prototype.renderSticker=function(o){var p=this.$UFICommentAttachment3(Number(o.metadata.height),Number(o.metadata.width)),q=null,r=null;if(window.devicePixelRatio&&window.devicePixelRatio>1){q=o.metadata.sprite_uri_2x;r=o.metadata.source_uri_2x}else{q=o.metadata.sprite_uri;r=o.metadata.source_uri}return c('React').createElement(c('BootloadedComponent.react'),{accessibilityLabel:o.metadata.accessibilityLabel,bootloadPlaceholder:c('React').createElement(c('XUISpinner.react'),null),bootloadLoader:c('JSResource')('Sticker.react').__setRef('UFICommentAttachment.react'),animationTrigger:'load_and_hover',frameCount:o.metadata.frameCount,frameRate:o.metadata.frameRate,framesPerCol:o.metadata.framesPerCol,framesPerRow:o.metadata.framesPerRow,spriteURI:q,sourceHeight:p.height,sourceURI:r,sourceWidth:p.width,testID:m})};n.prototype.renderPhoto=function(o){var p="_2rn3 _4-eo";return c('React').createElement('div',{className:"_4iv9"},c('React').createElement(c('Link.react'),{className:p,'data-testid':k,rel:'theater',href:o.metadata.url},c('React').createElement('div',{style:{height:o.metadata.height}},c('React').createElement(c('Image.react'),{src:o.metadata.preview_uri}))))};n.prototype.renderShare=function(o){return c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('UFILiveCommentLinkPreview.react').__setRef('UFICommentAttachment.react'),attachment:o})};n.prototype.renderLivePlaceInfo=function(o){return c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('PlaceListLiveCommentAttachment.react').__setRef('UFICommentAttachment.react'),commentID:this.props.comment.fbid,data:o,postID:this.props.comment.ftentidentifier})};n.prototype.renderPlaceInfo=function(o){var p=this.props.comment.__typename==='local'||this.state.localCommentIDs[this.props.comment.id];return c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({bootloadPlaceholder:c('React').createElement(c('XUISpinner.react'),null),bootloadLoader:c('JSResource')('MultiPlacePageInfoCard.react').__setRef('UFICommentAttachment.react'),isLocallyComposed:p,postID:this.props.comment.ftentidentifier},o.props))};n.prototype.renderProductInfo=function(o){return c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({bootloadPlaceholder:c('React').createElement(c('XUISpinner.react'),null),bootloadLoader:c('JSResource')('ProductRecommendationCard.react').__setRef('UFICommentAttachment.react')},o.props))};n.prototype.renderUpsellInfo=function(o){if(o.subtype&&o.subtype=='question_triggered_page_msg')return c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({bootloadPlaceholder:c('React').createElement(c('XUISpinner.react'),null),bootloadLoader:c('JSResource')('PageCommentQuestionMessageCard.react').__setRef('UFICommentAttachment.react')},o));return c('React').createElement('span',null)};n.prototype.$UFICommentAttachment4=function(){return 'gif_comment_attachment_'+this.props.comment.id+this.state.randomInstanceID};n.prototype.render=function(){var o=this.$UFICommentAttachment2(this.props.comment);if(o)if(o&&o.type==='sticker'){return this.renderSticker(o)}else if(o&&o.type==='gif'){return c('React').createElement('div',{ref:'contents',id:this.$UFICommentAttachment4()},c('React').createElement(c('XUISpinner.react'),null))}else if(o&&o.type==='photo'){return this.renderPhoto(o)}else if(o&&o.type==='live_share'){return this.renderShare(o)}else if(o&&o.type=='comment_place_info'){return this.renderPlaceInfo(o)}else if(o&&o.type=='live_comment_place_info'){return this.renderLivePlaceInfo(o)}else if(o&&o.type=='comment_product_info'){return this.renderProductInfo(o)}else if(o&&o.type=='upsell_info'){return this.renderUpsellInfo(o)}else return c('React').createElement('div',{ref:'contents'});return c('React').createElement('span',null)};f.exports=n}),null);
__d('UFICommonalityContext.react',['React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){return c('React').createElement('span',{className:'UFICommentCommonalityContext',title:this.props.commonalityString},this.props.commonalityString)};function k(){h.apply(this,arguments)}k.PropTypes={commonalityString:j.string.isRequired};f.exports=k}),null);
__d('UFISocialContext.react',['fbt','HovercardLink','ProfileBrowserLink','ProfileBrowserTypes','React','URI'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=27;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props.topMutualFriend,n=this.props.otherMutualCount,o=this.props.commentAuthor,p=c('HovercardLink').constructEndpoint(m).toString(),q=c('React').createElement('a',{href:m.uri,'data-hovercard':p,key:'top'},m.name),r=o.name.length+m.name.length,s=void 0;if(n===0){s=h._("Friends with {name}",[h.param('name',q)])}else if(r<k){var t=void 0;if(n==1){t=h._("1 other")}else t=h._({"*":"{count} others"},[h.param('count',n,[0])]);s=h._("Friends with {name} and {others}",[h.param('name',q),h.param('others',this.getOthersLink(t,o,m))])}else{var u=h._({"*":"{count} mutual friends"},[h.param('count',n+1,[0])]);s=this.getOthersLink(u,o)}return c('React').createElement('span',{className:'UFICommentSocialContext'},s)};l.prototype.getOthersLink=function(m,n,o){var p=c('ProfileBrowserTypes').MUTUAL_FRIENDS,q={uid:n.id},r=new (c('URI'))('/ajax/mutual_friends/tooltip.php').setQueryData({friend_id:n.id});if(o)r.addQueryData({exclude_id:o.id});var s=c('ProfileBrowserLink').constructDialogURI(p,q).toString();return c('React').createElement('a',{ajaxify:s,'data-hover':'tooltip','data-tooltip-alignh':'center','data-tooltip-uri':r.toString(),href:c('ProfileBrowserLink').constructPageURI(p,q).toString(),key:'others',rel:'dialog'},m)};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d('UFICommentAuthorName.react',['Badge.react','BootloadedComponent.react','JSResource','React','TrackingNodes','UFIActor.react','UFICommonalityContext.react','UFIConfig','UFISocialContext.react'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=this.props,m=l.author,n=c('TrackingNodes').getTrackingInfo(c('TrackingNodes').types.USER_NAME),o=null,p=l.isAuthorOriginalPoster&&!l.isFeatured;if(p)o=c('React').createElement('div',{className:'UFIOPIconContainer','data-tooltip-alignh':'center','data-hover':'tooltip','data-tooltip-content':'Original poster',key:'badge'},c('React').createElement('i',{className:'UFIOriginalPosterIcon'}));return c('React').createElement(c('UFIActor.react'),{author:m,'data-ft':n,commonalityString:l.commonalityString,disableAuthorLink:l.disableAuthorLink,focusOnMount:l.focusOnMount,customGlyphTag:l.customGlyphTag,groupOrEventID:l.groupOrEventID,hovercardLocation:l.hovercardLocation,isAdminViewer:l.isAdminViewer,isAuthorBot:l.isAuthorBot,isAuthorNonCoworker:l.isAuthorNonCoworker,isAuthorWeakReference:l.isAuthorWeakReference,isPublic:this.props.isPublic,key:'author',dialogUrl:l.dialogUrl,showHovercard:l.showHovercard,useFirstName:l.useFirstName},o,l.isFeatured?c('React').createElement(c('Badge.react'),{key:'badge',size:'xsmall',type:'verified'}):null,this.$UFICommentAuthorName1(m),this.$UFICommentAuthorName2(l.neighborBadge),l.socialContext?c('React').createElement(c('UFISocialContext.react'),{topMutualFriend:l.authorProfiles[l.socialContext.topmutualid],otherMutualCount:l.socialContext.othermutualcount,commentAuthor:m}):null,c('UFIConfig').showCommonalityContext&&l.commonalityString?c('React').createElement(c('UFICommonalityContext.react'),{commonalityString:l.commonalityString,key:'commonalityContext'}):null)};k.prototype.$UFICommentAuthorName1=function(l){var m=this.props.constituentBadge;if(m&&m.officeTitle&&m.representativeName&&m.commentId)return c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ConstituentBadge.react').__setRef('UFICommentAuthorName.react'),bootloadPlaceholder:c('React').createElement('div',null),authorFirstName:l.firstName,authorId:l.id,commentId:m.commentId,ftId:m.ftId,isOwner:m.isOwner,key:'constituentTitle',officeTitle:m.officeTitle,representativeName:m.representativeName,representativeId:m.representativeId,upsellEnabled:m.upsellEnabled});if(this.props.hasConstituentBadge)return c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ConstituentBadge.react').__setRef('UFICommentAuthorName.react'),bootloadPlaceholder:c('React').createElement('div',null),authorFirstName:l.firstName,authorId:l.id,commentId:this.props.commentID,key:'constituentTitle'});return null};k.prototype.$UFICommentAuthorName2=function(l){if(l&&l.component&&l.component instanceof Function){var m=l.component,n=l.props;return c('React').createElement(m,babelHelpers['extends']({key:'neighborBadge'},n))}return null};function k(){h.apply(this,arguments)}k.propTypes={author:j.object.isRequired,authorProfiles:j.object.isRequired,commentID:j.string,commonalityString:j.string,constituentBadge:j.object,customGlyphTag:j.object,dialogUrl:j.string,disableAuthorLink:j.bool,focusOnMount:j.bool,groupOrEventID:j.string,hasConstituentBadge:j.bool,hovercardLocation:j.string,isAdminViewer:j.bool,isAuthorBot:j.bool,isAuthorNonCoworker:j.bool,isAuthorWeakReference:j.bool,isAuthorOriginalPoster:j.bool,isFeatured:j.bool,isPublic:j.bool,neighborBadge:j.object,showHovercard:j.bool,socialContext:j.object,useFirstName:j.bool};f.exports=k}),null);
__d('IntlLang',['UnicodeBidi'],(function a(b,c,d,e,f,g){'use strict';var h={HE:'\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05D0-\u05EA\u05EB-\u05EF'+'\u05F0-\u05F2\u05F3-\u05F4\u05F5-\u05FF\u07C0-\u07C9\u07CA-\u07EA'+'\u07F4-\u07F5\u07FA\u07FB-\u07FF\u0800-\u0815\u081A\u0824\u0828'+'\u082E-\u082F\u0830-\u083E\u083F\u0840-\u0858\u085C-\u085D\u085E'+'\u085F-\u089F\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB37\uFB38-\uFB3C'+'\uFB3D\uFB3E\uFB3F\uFB40-\uFB41\uFB42\uFB43-\uFB44\uFB45\uFB46-\uFB4F'},i=new RegExp('['+h.HE+']');function j(l){var m=c('UnicodeBidi').firstStrongChar(l);if(m===null)return null;if(i.exec(m))return 'he';return null}var k={getLang:j};f.exports=k}),null);
__d('UFICommentBody.react',['cx','IntlLang','Locale','React','TrackingNodes','TruncatedTextWithEntities.react','UFICommentUtils','UFIConfig','UFIConstants','UnicodeBidi'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.commentText,o=c('TrackingNodes').getTrackingInfo(c('TrackingNodes').types.USER_MESSAGE),p=c('UnicodeBidi').isDirectionLTR(n),q=!p,r=p&&c('Locale').isRTL()?'ltr':q&&!c('Locale').isRTL()?'rtl':null,s=c('IntlLang').getLang(n),t=c('UFICommentUtils').getCommentBodyInterpolator(m.groupOrEventID,m.ufiInstanceID,m.commentFBID,!!m.isLiveStreaming),u=c('React').createElement(c('TruncatedTextWithEntities.react'),{key:'comment-body',className:"UFICommentBody",interpolator:t,ranges:m.commentRanges,textDelightRanges:m.textDelightRanges,text:n,truncationPercent:c('UFIConstants').commentTruncationPercent,maxLength:m.maxLength,maxLines:m.maxLines,renderEmoticons:c('UFIConfig').renderEmoticons,renderEmoji:c('UFIConfig').renderEmoji,'data-ft':o,dir:r,lang:s,markViewerHasInteracted:this.props.markViewerHasInteracted,allowSeeMoreLinebreakOnLongWords:true,shouldExpand:this.props.shouldExpand});if(m.socialContext){u=c('React').createElement('div',{key:'body'},u)}else{var v=(p&&c('Locale').isRTL()?"_5wjy":'')+(p&&c('Locale').isRTL()?' '+"_5wjz":'')+(q&&!c('Locale').isRTL()?' '+"_5wj-":'')+(q&&!c('Locale').isRTL()?' '+"_5wj_":'');u=v?c('React').createElement('div',{key:'body',className:v},u):[' ',u]}return c('React').createElement('span',null,u)};function l(){i.apply(this,arguments)}l.propTypes={commentText:k.string.isRequired,commentRanges:k.array,textDelightRanges:k.array,groupOrEventID:k.string,maxLength:k.number,maxLines:k.number,socialContext:k.object,markViewerHasInteracted:k.func,ufiInstanceID:k.string,commentFBID:k.oneOfType([k.string,k.number]),isLiveStreaming:k.bool,shouldExpand:k.bool};f.exports=l}),null);
__d("LiveVideoAnnouncementGlyph",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BULB:"bulb",COMMENT:"comment",EYE:"eye",LIKE:"like",LIVE_VIDEO:"live-video",CHECKMARK:"checkmark",AVATAR:"avatar"})}),null);
__d('UFICommentLiveVideoAnnouncementImage.react',['ix','cx','Image.react','LiveVideoAnnouncementGlyph','React','fbglyph'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;l.prototype.render=function(){var m=this.$UFICommentLiveVideoAnnouncementImage1();if(!m)return c('React').createElement('span',null);return this.props.isJoinEvent?c('React').createElement('div',{className:"_15lj"},c('React').createElement(c('Image.react'),{className:"_24l1",src:m})):c('React').createElement('div',{className:"_15lj",style:{backgroundColor:'gray'}},c('React').createElement(c('Image.react'),{className:"_15lk",height:20,src:m,width:20}))};l.prototype.$UFICommentLiveVideoAnnouncementImage1=function(){if(this.props.image)return this.props.image;switch(this.props.glyphName){case c('LiveVideoAnnouncementGlyph').COMMENT:return h("114673");case c('LiveVideoAnnouncementGlyph').EYE:return h("114860");case c('LiveVideoAnnouncementGlyph').BULB:return h("114492");case c('LiveVideoAnnouncementGlyph').LIKE:return h("115160");default:return null;}};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d('XUIDotsButton.react',['cx','fbt','XUIAbstractGlyphButton.react','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';var n=this.props.size,o=this.props.shade,p=(n==='small'?"_xw0":'')+(n==='medium'?' '+"_xw1":'')+(o==='light'?' '+"_xw7":'')+(o==='dark'?' '+"_xw9":''),q=this.props.label,r=this.props.title;if(!this.props.title&&!this.props.tooltip)r=q;return c('React').createElement(c('XUIAbstractGlyphButton.react'),babelHelpers['extends']({},this.props,{label:q,title:r,'data-hover':this.props.tooltip&&'tooltip','data-tooltip-alignh':this.props.tooltip&&'center','data-tooltip-content':this.props.tooltip,className:c('joinClasses')(this.props.className,p)}))};function m(){'use strict';j.apply(this,arguments)}m.propTypes={shade:l.oneOf(['light','dark']),size:l.oneOf(['small','medium']),title:l.string,tooltip:l.string};m.defaultProps={label:i._("Manage"),size:'small',shade:'dark'};f.exports=m}),null);
__d('XUIEditButton.react',['cx','fbt','XUIAbstractGlyphButton.react','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){'use strict';var m=this.props.label,n=this.props.title;if(!this.props.title&&!this.props.tooltip)n=m;return c('React').createElement(c('XUIAbstractGlyphButton.react'),babelHelpers['extends']({},this.props,{label:m,title:n,'data-hover':this.props.tooltip&&'tooltip','data-tooltip-alignh':this.props.tooltip&&'center','data-tooltip-content':this.props.tooltip,className:c('joinClasses')(this.props.className,"_5upq _5upr")}))};function l(){'use strict';j.apply(this,arguments)}l.defaultProps={label:i._("Edit")};f.exports=l}),null);
__d('UFICommentMenu.react',['ix','cx','Bootloader','Image.react','React','XUICloseButton.react','XUIDotsButton.react','XUIEditButton.react','fbglyph','joinClasses','keyMirror'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l,m,n,o,p=c('React').PropTypes,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0,v=c('keyMirror')({EDIT:true,CLOSE:true,CHEVRON:true,DOTS:true,TOOLTIP:true});j=babelHelpers.inherits(w,c('React').Component);k=j&&j.prototype;function w(){var z,aa;for(var ba=arguments.length,ca=Array(ba),da=0;da<ba;da++)ca[da]=arguments[da];return aa=(z=k.constructor).call.apply(z,[this].concat(ca)),this.state={bootloading:false,bootloaded:false,needsExpand:false},this.onClickGuard=function(event){if(this.state.bootloading){return}else if(!this.state.bootloaded&&this.props.menuData){this.setState({bootloading:true});c('Bootloader').loadModules(["ContextualDialogArrow","PopoverMenu.react","ReactXUIMenu","XUIMenuSeparator.react"],function(ea,fa,ga,ha){q=ea;r=fa;s=ga;t=ga.Item;u=ha;this.setState({bootloading:false,bootloaded:true,needsExpand:true})}.bind(this),'UFICommentMenu.react')}else if(this.props.onClick)this.props.onClick(event);}.bind(this),aa}w.prototype.shouldComponentUpdate=function(z,aa){if(this.state.needsExpand&&!aa.needsExpand)return false;return true};w.prototype.render=function(){var z=void 0;switch(this.props.menuType){case v.EDIT:z=c('XUIEditButton.react');break;case v.CLOSE:z=c('XUICloseButton.react');break;case v.DOTS:z=c('XUIDotsButton.react');break;case v.TOOLTIP:z=x;break;case v.CHEVRON:default:z=y;break;}var aa=function fa(ga){switch(ga){case 'ufi_comment_menu_delete':return c('React').createElement(c('Image.react'),{src:h("142908")});case 'ufi_comment_menu_edit':return c('React').createElement(c('Image.react'),{src:h("142574")});case 'ufi_comment_menu_delete_comment_and_remove_commenter':return c('React').createElement(c('Image.react'),{src:h("141941")});case 'ufi_comment_menu_mute_member':return c('React').createElement(c('Image.react'),{src:h("142840")});case 'ufi_comment_hide_text_delights':return c('React').createElement(c('Image.react'),{src:h("142815")});case 'ufi_comment_menu_hide':return c('React').createElement(c('Image.react'),{src:h("142331")});default:return null;}};if(this.props.menuData&&this.state.bootloaded){var ba=this.props.menuData.map(function(fa){var ga=aa(fa.testid);return c('React').createElement(t,{'data-testid':fa.testid,key:fa.value,value:fa.value,icon:ga},fa.label)});if(this.props.menuUserSection){var ca=this.props.menuUserSection.map(function(fa){var ga=aa(fa.testid);return c('React').createElement(t,{'data-testid':fa.testid,key:fa.value,value:fa.value,icon:ga},fa.label)}),da=c('React').createElement(u,{key:'xui_separator'});ba=ba.concat(da,ca)}var ea=c('React').createElement(s,{onItemClick:this.props.onAction},ba);return c('React').createElement(r,babelHelpers['extends']({},this.props,{alignh:'right',layerBehaviors:[q],menu:ea,ref:'menu'}),c('React').createElement(z,babelHelpers['extends']({},this.props,{href:'#',onClick:this.onClickGuard})))}return c('React').createElement(z,babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_1-be"),href:'#',onClick:this.onClickGuard}))};w.prototype.componentDidUpdate=function(){if(this.state.needsExpand){this.refs.menu.showPopover();this.setState({needsExpand:false})}};w.MenuType=v;w.propTypes={menuData:p.array,menuUserSection:p.array,menuType:p.oneOf(Object.keys(v)).isRequired,onAction:p.func,onClick:p.func};l=babelHelpers.inherits(x,c('React').Component);m=l&&l.prototype;x.prototype.render=function(){return c('React').createElement('a',this.props,c('React').createElement(c('Image.react'),{'data-hover':'tooltip','data-tooltip-content':this.props.tooltip,'aria-label':this.props.tooltip,src:h("126426"),'data-tooltip-alignh':'center'}))};function x(){l.apply(this,arguments)}n=babelHelpers.inherits(y,c('React').Component);o=n&&n.prototype;y.prototype.render=function(){return c('React').createElement('a',this.props,c('React').createElement(c('Image.react'),{'data-hover':'tooltip','data-tooltip-content':this.props.tooltip,'aria-label':this.props.tooltip,src:h("125792")}))};function y(){n.apply(this,arguments)}f.exports=w}),null);
__d('UFICommentTranslation.react',['cx','ContentTranslationStrings','Link.react','React','TranslationTrigger','TruncatedTextWithEntities.react','UFIConfig','UFIConstants','XUISpinner.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);var m=this.props.translationData;this.state={shouldExpand:this.props.shouldExpand||!!m&&m.trigger===c('TranslationTrigger').SEE_TRANSLATION}}k.prototype.render=function(){if(!this.props.showTranslation)return c('React').createElement(c('Link.react'),{className:"UFITranslateLink",onClick:function(){return this.$UFICommentTranslation1()}.bind(this)},c('ContentTranslationStrings').SEE_TRANSLATION);var l=this.props.translationData;if(!l)return c('React').createElement('div',{className:"UFITranslateLink"},c('React').createElement(c('XUISpinner.react'),{background:'light',size:'small'}));var m=l.translatedText;if(!m||!m.text)return c('React').createElement('div',{className:"UFITranslationErrorText"},c('ContentTranslationStrings').NO_TRANSLATION_AVAILABLE);var n=this.props.isShowingOriginal||l.trigger===c('TranslationTrigger').LOGGED_OUT_AUTO_TRANSLATION,o=n?null:c('React').createElement('div',{className:"UFITranslateAttribution"},c('ContentTranslationStrings').getTranslatedFrom(l.sourceDialectName)),p=n?c('React').createElement('div',{className:"UFITranslateAttribution"},c('ContentTranslationStrings').AUTOMATICALLY_TRANSLATED):c('React').createElement(c('Link.react'),{className:"UFITranslateLink",onClick:function(){return this.$UFICommentTranslation2()}.bind(this)},c('ContentTranslationStrings').SEE_ORIGINAL_LINK);return c('React').createElement('div',null,o,c('React').createElement('div',{className:"UFITranslatedText"},c('React').createElement(c('TruncatedTextWithEntities.react'),{className:"UFICommentBody",ranges:m.ranges,text:m.text,truncationPercent:c('UFIConstants').commentTruncationPercent,maxLength:c('UFIConstants').commentTruncationLength,maxLines:c('UFIConstants').commentTruncationMaxLines,renderEmoticons:c('UFIConfig').renderEmoticons,renderEmoji:c('UFIConfig').renderEmoji,dir:m.dir,shouldExpand:this.state.shouldExpand,markViewerHasInteracted:function(){return this.setState({shouldExpand:!this.state.shouldExpand})}.bind(this)}),p))};k.prototype.$UFICommentTranslation1=function(){this.props.onSeeTranslation&&this.props.onSeeTranslation()};k.prototype.$UFICommentTranslation2=function(){this.props.onSeeOriginal&&this.props.onSeeOriginal()};k.defaultProps={shouldExpand:false};f.exports=k}),null);
/**
 * @providesModule IntersectionObserverFallback
 * @preserve-header
 * @fullSyntaxTransform
 * 
 * @format
 * Modified by Facebook
 *
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
__d('IntersectionObserverFallback',['TimeSlice','performanceNow','setInterval','throttle'],(function a(b,c,d,e,f,g){'use strict';var h=document.documentElement,i=[];function j(n,o){var p=Math.max(n.top,o.top),q=Math.min(n.bottom,o.bottom),r=Math.max(n.left,o.left),s=Math.min(n.right,o.right),t=s-r,u=q-p;return t>=0&&u>=0?{top:p,bottom:q,left:r,right:s,width:t,height:u}:undefined}function k(){return {top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(n){this.time=n.time;this.target=n.target;this.rootBounds=n.rootBounds;this.boundingClientRect=n.boundingClientRect;this.intersectionRect=n.intersectionRect||k();this.isIntersecting=!!n.intersectionRect;var o=this.boundingClientRect,p=o.width*o.height,q=this.intersectionRect.width*this.intersectionRect.height;this.intersectionRatio=p?q/p:0}function m(n,o){this.THROTTLE_TIMEOUT=100;this.POLL_INTERVAL=null;this.$IntersectionObserverFallback12=c('TimeSlice').guard(c('throttle')(function(){var r=this.$IntersectionObserverFallback14(),s=r?this.$IntersectionObserverFallback15():k();this.$IntersectionObserverFallback6.forEach(function(t){var u=t.element,v=u.getBoundingClientRect(),w=this.$IntersectionObserverFallback16(u),x=t.entry,y=r&&w&&!this.$IntersectionObserverFallback2&&this.$IntersectionObserverFallback17(u,s),z=t.entry=new l({time:c('performanceNow')(),target:u,boundingClientRect:v,rootBounds:s,intersectionRect:y});if(r&&w){if(this.$IntersectionObserverFallback18(x,z))this.$IntersectionObserverFallback7.push(z);}else if(x&&x.isIntersecting)this.$IntersectionObserverFallback7.push(z);}.bind(this));if(this.$IntersectionObserverFallback7.length)this.$IntersectionObserverFallback1(this.takeRecords(),this);}.bind(this),this.THROTTLE_TIMEOUT),'IntersectionObserverFallback: checkForIntersections');this.$IntersectionObserverFallback2=false;try{var p=window.top.document}catch(r){this.$IntersectionObserverFallback2=true}var q=o||{};this.$IntersectionObserverFallback1=n;this.$IntersectionObserverFallback4=false;this.$IntersectionObserverFallback6=[];this.$IntersectionObserverFallback7=[];this.$IntersectionObserverFallback8=this.$IntersectionObserverFallback9(q.rootMargin);this.thresholds=this.$IntersectionObserverFallback10(q.threshold);this.root=q.root||null;this.rootMargin=this.$IntersectionObserverFallback8.map(function(r){return r.value+r.unit}).join(' ')}m.prototype.$IntersectionObserverFallback10=function(n){var o=n||[0];return o.sort().filter(function(p,q,r){return p!==r[q-1]})};m.prototype.$IntersectionObserverFallback9=function(n){var o=n||'0px',p=o.split(/\s+/).map(function(q){var r=/^(-?\d*\.?\d+)(px|%)$/.exec(q);return {value:parseFloat(r[1]),unit:r[2]}});p[1]=p[1]||p[0];p[2]=p[2]||p[0];p[3]=p[3]||p[1];return p};m.prototype.$IntersectionObserverFallback11=function(){if(!this.$IntersectionObserverFallback4){this.$IntersectionObserverFallback4=true;this.$IntersectionObserverFallback12();if(this.POLL_INTERVAL){this.$IntersectionObserverFallback5=c('setInterval')(this.$IntersectionObserverFallback12,this.POLL_INTERVAL)}else{window.addEventListener('resize',this.$IntersectionObserverFallback12);document.addEventListener('scroll',this.$IntersectionObserverFallback12);if('MutationObserver' in window){this.$IntersectionObserverFallback3=new MutationObserver(this.$IntersectionObserverFallback12);this.$IntersectionObserverFallback3.observe(document,{attributes:true,childList:true,characterData:true,subtree:true})}}}};m.prototype.$IntersectionObserverFallback13=function(){if(this.$IntersectionObserverFallback4){this.$IntersectionObserverFallback4=false;if(this.$IntersectionObserverFallback5){clearInterval(this.$IntersectionObserverFallback5);this.$IntersectionObserverFallback5=undefined}window.removeEventListener('resize',this.$IntersectionObserverFallback12);document.removeEventListener('scroll',this.$IntersectionObserverFallback12);if(this.$IntersectionObserverFallback3){this.$IntersectionObserverFallback3.disconnect();this.$IntersectionObserverFallback3=undefined}}};m.prototype.$IntersectionObserverFallback17=function(n,o){if(window.getComputedStyle(n).display=='none')return undefined;var p=n.getBoundingClientRect(),q=p,r=n.parentElement,s=false;while(!s){var t=null;if(r==this.root||r&&r.nodeType!=1){s=true;t=o}else if(window.getComputedStyle(r).overflow!='visible')t=r&&r.getBoundingClientRect();if(t){q=j(t,q);if(!q)break;}r=r&&r.parentElement}return q};m.prototype.$IntersectionObserverFallback15=function(){var n=void 0;if(this.root){n=this.root.getBoundingClientRect()}else{var o=document.documentElement,p=document.body,q=o&&o.clientWidth||p&&p.clientWidth,r=o&&o.clientHeight||p&&p.clientHeight;n={top:0,left:0,right:q,width:q,bottom:r,height:r}}return this.$IntersectionObserverFallback19(n)};m.prototype.$IntersectionObserverFallback19=function(n){var o=this.$IntersectionObserverFallback8.map(function(q,r){return q.unit=='px'?q.value:q.value*(r%2?n.width:n.height)/100}),p={top:n.top-o[0],right:n.right+o[1],bottom:n.bottom+o[2],left:n.left-o[3],width:0,height:0};p.width=p.right-p.left;p.height=p.bottom-p.top;return p};m.prototype.$IntersectionObserverFallback18=function(n,o){var p=n&&n.isIntersecting?n.intersectionRatio||0:-1,q=o.isIntersecting?o.intersectionRatio||0:-1;if(p===q)return false;for(var r=0;r<this.thresholds.length;r++){var s=this.thresholds[r];if(s==p||s==q||s<p!==s<q)return true;}return false};m.prototype.$IntersectionObserverFallback14=function(){return !this.root||h!==null&&h.contains(this.root)};m.prototype.$IntersectionObserverFallback16=function(n){var o=this.root||h;return o!==null&&o.contains(n)};m.prototype.$IntersectionObserverFallback20=function(){if(i.indexOf(this)<0)i.push(this);};m.prototype.$IntersectionObserverFallback21=function(){var n=i.indexOf(this);if(n!=-1)i.splice(n,1);};m.prototype.observe=function(n){if(this.$IntersectionObserverFallback6.some(function(o){return o.element==n}))return;this.$IntersectionObserverFallback20();this.$IntersectionObserverFallback6.push({element:n,entry:null});this.$IntersectionObserverFallback11()};m.prototype.unobserve=function(n){this.$IntersectionObserverFallback6=this.$IntersectionObserverFallback6.filter(function(o){return o.element!=n});if(!this.$IntersectionObserverFallback6.length){this.$IntersectionObserverFallback13();this.$IntersectionObserverFallback21()}};m.prototype.disconnect=function(){this.$IntersectionObserverFallback6=[];this.$IntersectionObserverFallback13();this.$IntersectionObserverFallback21()};m.prototype.takeRecords=function(){var n=this.$IntersectionObserverFallback7.slice();this.$IntersectionObserverFallback7=[];return n};f.exports=m}),null);
__d('IntersectionObserver',['IntersectionObserverFallback'],(function a(b,c,d,e,f,g){'use strict';var h='IntersectionObserver' in window&&'IntersectionObserverEntry' in window&&'intersectionRatio' in window.IntersectionObserverEntry.prototype;f.exports=h?window.IntersectionObserver:c('IntersectionObserverFallback')}),null);
__d('onRectIsWithinViewport',['onViewportChanged'],(function a(b,c,d,e,f,g){function h(j,k){return !(j.bottom<k.top||j.top>k.bottom||j.right<k.left||j.left>k.right)}function i(j,k){var l=void 0;function m(o){var p=j();return !!p&&h(p,o)}function n(o){if(l!==o){l=o;k(o)}}return c('onViewportChanged')(n,m)}f.exports=i}),null);
__d('OnVisible.react',['IntersectionObserver','React','ReactDOM','WebSpeedJSExperiments','getElementRect','onRectIsWithinViewport'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'OnVisible',propTypes:{onVisible:h.func,onHidden:h.func,buffer:h.number},componentDidMount:function j(){this._create()},componentDidUpdate:function j(){this._create()},componentWillUnmount:function j(){this._remove()},reset:function j(){this._remove();this._create()},check:function j(){if(this._listener)this._listener.scheduleCheck();},_create:function j(){if(c('WebSpeedJSExperiments').i10s_io_on_visible){this._createObserver()}else this._createListener();},_remove:function j(){if(c('WebSpeedJSExperiments').i10s_io_on_visible){this._removeObserver()}else this._removeListener();},_measureElementRect:function j(){if(!this.isMounted())return null;var k=this.props.buffer||0,l=c('ReactDOM').findDOMNode(this),m=c('getElementRect')(l);if(m.left===0&&m.right===0&&m.top===0&&m.bottom===0)return null;m.left-=k;m.right+=k;m.top-=k;m.bottom+=k;return m},_createListener:function j(){var k=c('ReactDOM').findDOMNode(this);if(this._listener&&k!==this._element)this._removeListener();if(!this._listener){this._element=k;this._listener=c('onRectIsWithinViewport')(this._measureElementRect,function(l){var m=l?this.props.onVisible:this.props.onHidden;m&&m()}.bind(this))}},_removeListener:function j(){if(this._listener){this._listener.remove();this._listener=null}},_createObserver:function j(){var k=c('ReactDOM').findDOMNode(this);if(this._observer&&k!==this._element)this._removeObserver();if(!this._observer){var l={rootMargin:this.props.buffer?this.props.buffer+'px':'0px'};this._element=k;this._observer=new (c('IntersectionObserver'))(function(m){m.forEach(function(n){if(n.target===this._element){var o=n.intersectionRatio>0?this.props.onVisible:this.props.onHidden;o&&o()}}.bind(this))}.bind(this),l);this._observer.observe(k)}},_removeObserver:function j(){if(this._observer){this._observer.unobserve(this._element);this._observer.disconnect();this._observer=undefined}},render:function j(){return c('React').Children.only(this.props.children)}});f.exports=i}),null);
__d('UFICommentVPVTracker.react',['OnVisible.react','React','UFICommentVPVs','UFIConfig','clearTimeout','setTimeout'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={timer:null},this.maybeScheduleVPVLogging=function(){if(this.state.timer!==null)return;var q=this.props.comment.id,r=this.props.contextArgs.instanceid;if(c('UFICommentVPVs').hasLoggedVPV(r,q))return;this.setState({timer:c('setTimeout')(function(){c('UFICommentVPVs').logVPV(r,q);this.setState({timer:null})}.bind(this),c('UFIConfig').vpvLoggingTimeout)})}.bind(this),this.cancelScheduledVPVLogging=function(){if(this.state.timer===null)return;c('clearTimeout')(this.state.timer);this.setState({timer:null})}.bind(this),m}k.prototype.render=function(){var l=this.props.comment.id,m=this.props.contextArgs.instanceid,n=this.props.children,o=c('UFICommentVPVs').hasLoggedVPV(m,l);return c('React').createElement(c('OnVisible.react'),{onVisible:o?null:this.maybeScheduleVPVLogging,onHidden:o?null:this.cancelScheduledVPVLogging},n)};k.prototype.shouldComponentUpdate=function(l,m){return m.timer===this.state.timer};k.prototype.componentWillReceiveProps=function(){this.cancelScheduledVPVLogging()};k.prototype.componentWillUnmount=function(){this.cancelScheduledVPVLogging()};k.propTypes={comment:j.object.isRequired,contextArgs:j.object.isRequired};f.exports=k}),null);
__d('TimeOffset',[],(function a(b,c,d,e,f,g){'use strict';var h={timeToTimestamp:function i(j){if(j<=0)return '0:00';var k=Math.floor(j/3600),l=k?k+':':'';l+=((k?'0':'')+Math.floor(j%3600/60)).slice(-2)+':';return l+('0'+j%60).slice(-2)}};f.exports=h}),null);
__d('UFILiveCommentTimestamp.react',['cx','fbt','CommentPostedLiveState','Middot.react','React','ShimButton.react','TimeOffset','Tooltip.react','UFIVideoPlayerRegistry','VideoTimestampsClicksWWWTypedLogger'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n,o=this.props,p=o.comment,q=o.contextArgs,r=!p.parentcommentid,s=null;if(r)(function(){var u=typeof p.videoTimeOffset==='number'?p.videoTimeOffset:0;s=c('React').createElement(c('ShimButton.react'),{className:"_39g5",form:'link',onClick:function v(event){event.preventDefault();var w=new (c('VideoTimestampsClicksWWWTypedLogger'))().setVideoTimestamp(u).setIsContentTimestamp(true);if(p.__typename==='local'){w.setLocalCommentFeedbackID(p.ftentidentifier)}else w.setCommentID(p.fbid);w.log();c('UFIVideoPlayerRegistry').seekAvailableVideoPlayerController(q.instanceid,u)}},c('TimeOffset').timeToTimestamp(u))})();var t=null;if(p.postedLiveState===c('CommentPostedLiveState').LIVE){t=c('React').createElement(c('Tooltip.react'),{tooltip:i._("Comment posted while the video was live")},c('React').createElement(c('Middot.react'),{className:"_5rr7"}))}else if(p.postedLiveState===c('CommentPostedLiveState').ON_DEMAND){t=c('React').createElement(c('Tooltip.react'),{tooltip:i._("Comment posted after the live video ended")},c('React').createElement(c('Middot.react'),{className:"_5rra"}))}else t=c('React').createElement(c('Middot.react'),{className:"_5rra"});return c('React').createElement('span',null,t,s)};function m(){j.apply(this,arguments)}m.propTypes={comment:l.shape({fbid:l.string,__typename:l.string,postedLiveState:l.oneOf([c('CommentPostedLiveState').LIVE,c('CommentPostedLiveState').ON_DEMAND]),videoTimeOffset:l.number,parentcommentid:l.string}).isRequired,contextArgs:l.shape({instanceid:l.string.isRequired}).isRequired};f.exports=m}),null);
__d('VideoTipJarCommentBackground.react',['ix','Image.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=[h("99652"),h("99653"),h("99654")];i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=k[parseInt(this.props.tipOptionIndex,10)];return m?c('React').createElement(c('Image.react'),{src:m}):null};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("XUnifiedQueueReportedCommentsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/groups\/{groupid}\/write_async\/reported_comments\/",{groupid:{type:"Int",required:true},commentid:{type:"Int"},keep:{type:"Bool",defaultValue:false},block:{type:"Bool",defaultValue:false},uid:{type:"Int"}})}),null);
__d('UFIComment.react',['ix','cx','fbt','AsyncRequest','BootloadedComponent.react','Bootloader','CommentApprovalsResponsibleUserAction','DOMContainer.react','FluxContainer','HovercardLink','HTML','Image.react','InlineBlock.react','JSResource','LiveWWWFeedbackTypedLogger','React','ReactDOM','ShimButton.react','Text.react','TrackingNodes','TranslationTrigger','UFIAcceptedAnswerStore','UFIActorIconContainer.react','UFICentralUpdates','UFICommentAction','UFICommentActions.react','UFICommentAttachment.react','UFICommentAuthorName.react','UFICommentBody.react','UFICommentLiveVideoAnnouncementImage.react','UFICommentMenu.react','UFICommentTranslation.react','UFICommentUtils','UFICommentVPVDTracker.react','UFICommentVPVTracker.react','UFIConfig','UFIConstants','UFIImageBlock.react','UFILiveCommentTimestamp.react','UFIRootRegistry','UFISharedDispatcher','UserHovercardLocation','VideoTipJarCommentBackground.react','WebCommentViewOption','XUIButton.react','XUnifiedQueueReportedCommentsController','emptyFunction','fbglyph','joinClasses','keyMirror','uniqueID'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n=c('UFIConstants').UFIStatus,o={NEWSSTAND:'newsstand'},p=c('keyMirror')({edit:true,hide:true,remove:true,embed:true,manageConstituentBadge:true,delete_comment_and_remove_commenter:true,mute_member:true,hide_text_delights:true}),q='ufi_comment_close_button',r='ufi_highlighted_comment',s='ufi_comment_menu_delete',t='ufi_comment_menu_edit',u='ufi_comment_menu_hide',v='ufi_comment_menu_embed',w='ufi_comment_menu_manage_constituent_badge',x='ufi_comment_menu_delete_comment_and_remove_commenter',y='ufi_comment_menu_mute_member',z='ufi_comment_hide_text_delights',aa={testid:s,value:p.remove,label:j._("Delete Comment...")},ba={testid:u,value:p.hide,label:j._("Hide Comment")},ca={testid:v,value:p.embed,label:j._("Embed")},da={testid:x,value:p.delete_comment_and_remove_commenter,label:j._("Delete Comment and Remove Member...")},ea={testid:s,value:p.remove,label:j._("Delete...")},fa={testid:w,value:p.manageConstituentBadge,label:j._("Manage Constituent Badge")},ga={testid:y,value:p.mute_member,label:j._("Mute Member...")},ha={testid:y,value:p.mute_member,label:j._("Unmute Member")},ia={testid:z,value:p.hide_text_delights,label:j._("Remove text effects")},ja={testid:z,value:p.hide_text_delights,label:j._("Add text effects")},ka=null,la=function qa(ra){var sa=ra.status;return sa===n.FAILED_ADD||sa===n.FAILED_EDIT},ma=function qa(ra,sa){return !!ra.tipOptionIndex&&sa===o.NEWSSTAND};function na(qa){return qa.commenterIsFOF!==undefined&&qa.userIsMinor!==undefined&&qa.reportLink!==undefined}k=babelHelpers.inherits(oa,c('React').Component);l=k&&k.prototype;oa.getStores=function(){return [c('UFIAcceptedAnswerStore')]};oa.calculateState=function(qa,ra){var sa=ra.comment,ta=ra.feedback,ua=c('UFIAcceptedAnswerStore').get(sa.ftentidentifier,ta.acceptedanswer),va=ua.type==='Accepted'&&ua.id==sa.id;return babelHelpers['extends']({},qa,{isAcceptedAnswer:va})};function oa(qa){l.constructor.call(this,qa);pa.call(this);var ra=qa.comment;this.state={isHighlighting:ra.highlightcomment,wasHighlighted:ra.highlightcomment,markedAsSpamHere:false,isAcceptedAnswer:false,isInlinePageDeleted:false,isInlineBanned:false,loggedLiveUpdate:false,showBody:false,hideSpamComment:this.$UFIComment1()}}oa.prototype.$UFIComment8=function(event){this.context.dispatch(c('UFICommentAction').toggle_text_delights(this.props.contextArgs,this.props.comment,event.target))};oa.prototype.$UFIComment12=function(){return [aa,ba]};oa.prototype.$UFIComment13=function(){return [{testid:t,value:p.edit,label:j._("Edit...")},ea]};oa.prototype.$UFIComment14=function(){this.setState({showBody:!c('UFIConfig').shouldTranslationsReplaceContent});if(!this.props.comment.translationdata)this.context.dispatch(c('UFICommentAction').translate(this.props.contextArgs,this.props.comment,c('TranslationTrigger').SEE_TRANSLATION));};oa.prototype.$UFIComment15=function(){var qa=null,ra=null,sa=null,ta=null,ua=c('UFICommentMenu.react').MenuType.CLOSE,va=this.props.comment,wa=va.canEditConstituentTitle,xa=va.canembed&&c('UFIConfig').showCommentEmbedOption;if(this.$UFIComment1()){var ya=void 0;if(va.needsApproval){ya=this.props.authorProfiles[va.author].name}else ya=this.props.feedback.actorname;return {closeTooltip:j._("Only you and {author_name} can see this comment",[j.param('author_name',ya)]),menuType:c('UFICommentMenu.react').MenuType.TOOLTIP,onClick:qa,menuData:ra,menuUserSection:sa}}if(va.canremove&&!this.props.hideAsSpamForPageAdmin){if(this.props.viewerIsAuthor&&va.canedit){ta=xa?j._("Edit, delete or embed this"):j._("Edit or delete this");ua=c('UFICommentMenu.react').MenuType.EDIT;if(wa){ra=[fa];ra=ra.concat(this.$UFIComment13())}else ra=this.$UFIComment13();}else if(this.props.showRemoveReportMenu){ta=xa?j._("Remove, report or embed this"):j._("Remove or report this");ra=this.$UFIComment12()}else if(this.props.feedback.customcommentactionlinks){ta=xa?j._("Remove this"):j._("Remove or embed this");ra=[aa];ua=c('UFICommentMenu.react').MenuType.EDIT}else{ta=xa?j._("Remove or embed this"):j._("Remove this");if(!xa){qa=this.$UFIComment5}else ra=[ea];}}else if(this.props.feedback.customcommentactionlinks){ta=xa?j._("Hide or embed this"):j._("Hide this");ra=[ba];ua=c('UFICommentMenu.react').MenuType.EDIT}else if(va.canreport){ta=xa?j._("Hide or embed this"):j._("Hide this");if(!xa){qa=this.$UFIComment2}else ra=[ba];}if(xa){if(!ra)ra=[];ra.push(ca);ua=c('UFICommentMenu.react').MenuType.CHEVRON}if(va.canremove&&!this.props.viewerIsAuthor&&va.canviewerremovecommenter){if(!sa)sa=[];sa.push(da)}if(va.canmutemembers&&!this.props.viewerIsAuthor){if(!sa)sa=[];if(va.ismuted){sa.push(ha)}else sa.push(ga);}if(va.body&&va.body.ranges&&va.canhidetextdelights){var za=false;for(var ab=0;ab<va.body.ranges.length;ab++)if(va.body.ranges[ab].campaign){za=true;break}if(va.canedit&&this.props.viewerIsAuthor&&(va.text_delights_are_hidden||za)){if(!ra)ra=[];if(va.text_delights_are_hidden){ra.push(ja)}else ra.push(ia);}}if(this.props.feedback.customcommentactionlinks)for(var bb in this.props.feedback.customcommentactionlinks){var cb=this.props.feedback.customcommentactionlinks[bb];if(!cb.showInMenu)continue;if(!ra)ra=[];ra.push({testid:cb.type,value:cb.type,label:cb.title})}var db=ra?ra.length:0,eb=sa?sa.length:0;if(db+eb>1)ua=c('UFICommentMenu.react').MenuType.DOTS;return {closeTooltip:ta,menuType:ua,onClick:qa,menuData:ra,menuUserSection:sa}};oa.prototype.$UFIComment16=function(){var qa=this.props.comment,ra=this.$UFIComment15(),sa=ra.onClick,ta=ra.menuData,ua=ra.menuUserSection,va=ra.closeTooltip,wa=ra.menuType,xa=null,ya=(!this.$UFIComment1()?"UFICommentCloseButton":'')+(sa===null&&ta===null&&!this.$UFIComment1()?' '+"hdn":'')+(xa!==null?' '+"UFICommentCloseButtonNux":'')+(this.$UFIComment1()?' '+"UFICommentSpamTooltip":''),za=null,ab=null;if(this.props.contextArgs.viewas){za='/ajax/profile/link_disabled_in_viewas.php';ab='dialog';sa=null}return c('React').createElement('span',{className:"_36rj"},c('React').createElement(c('UFICommentMenu.react'),{ajaxify:za,'aria-label':va,className:ya,'data-testid':q,onClick:sa,rel:ab,tooltip:va,menuUserSection:ua,menuData:ta,menuType:wa,onAction:this.$UFIComment11,ref:'comment_menu'}),xa)};oa.prototype.componentDidMount=function(){var qa,ra=this;if(this.state.isHighlighting)(function(){var sa=c('ReactDOM').findDOMNode(ra),ta=parseInt(ra.props.comment.scrolltopoffset||0,10);c('Bootloader').loadModules(["UFIScrollHighlight"],function(ua){setTimeout(function(){if(c('UFIRootRegistry').isSnowliftNode(this.props.contextArgs.rootid)){ua.actOnSnowliftElem(sa,ta)}else ua.actOn(sa,ta);}.bind(this),0)}.bind(ra),'UFIComment.react');ra.setState({isHighlighting:false})})();if(this.props.comment.fbid)c('UFISharedDispatcher').dispatch(c('UFICommentAction').mounted(this.props.contextArgs,{comment:this.props.comment,isLivePinnedComment:Boolean(this.props.isLivePinnedComment)}));};oa.prototype.componentWillUnmount=function(){if(this.props.comment.fbid)c('UFISharedDispatcher').dispatch(c('UFICommentAction').unmounted(this.props.contextArgs,{comment:this.props.comment,isLivePinnedComment:Boolean(this.props.isLivePinnedComment)}));};oa.prototype.shouldComponentUpdate=function(qa,ra){var sa=this.props,ta=this.state;return qa.comment!==sa.comment||qa.showReplyLink!==sa.showReplyLink||qa.isFirst!==sa.isFirst||qa.isLast!==sa.isLast||qa.isFirstCommentComponent!==sa.isFirstCommentComponent||qa.isLastCommentComponent!==sa.isLastCommentComponent||qa.isFirstComponent!==sa.isFirstComponent||qa.isLastComponent!==sa.isLastComponent||qa.isFeatured!==sa.isFeatured||qa.hasPartialBorder!==sa.hasPartialBorder||qa.showTranslation!==sa.showTranslation||ra.wasHighlighted!==ta.wasHighlighted||ra.isHighlighting!==ta.isHighlighting||ra.markedAsSpamHere!==ta.markedAsSpamHere||ra.isInlinePageDeleted!==ta.isInlinePageDeleted||ra.isInlineBanned!==ta.isInlineBanned||ra.showBody!==ta.showBody||ra.hideSpamComment!==ta.hideSpamComment};oa.prototype.$UFIComment17=function(qa,ra){var sa=c('XUnifiedQueueReportedCommentsController').getURIBuilder().setInt('groupid',ra).getURI();new (c('AsyncRequest'))(sa).setData({commentid:qa.fbid,uid:qa.author,keep:true,block:false}).send()};oa.prototype.$UFIComment18=function(qa,ra){var sa=c('XUnifiedQueueReportedCommentsController').getURIBuilder().setInt('groupid',ra).getURI();new (c('AsyncRequest'))(sa).setData({commentid:qa.fbid,uid:qa.author,keep:false,block:false}).send()};oa.prototype.$UFIComment19=function(qa,ra){var sa=c('XUnifiedQueueReportedCommentsController').getURIBuilder().setInt('groupid',ra).getURI();new (c('AsyncRequest'))(sa).setData({commentid:qa.fbid,uid:qa.author,keep:false,block:true}).send()};oa.prototype.$UFIComment1=function(){var qa=this.props.comment,ra=qa.needsApproval,sa=qa.canAppeal,ta=qa.canSecure,ua=qa.appealStatus,va=qa.isApproved;return ra||sa||ta||(ua===c('CommentApprovalsResponsibleUserAction').APPEALED||ua===c('CommentApprovalsResponsibleUserAction').SECURED_ACCOUNT)&&!va};oa.prototype.render=function(){var qa=this.props,ra=qa.contextArgs,sa=qa.comment,ta=qa.feedback,ua=sa.status===n.DELETED,va=sa.status===n.LIVE_DELETED,wa=sa.status===n.SPAM_DISPLAY,xa=this.state.hideSpamComment;if(ua)return null;var ya=this.state.markedAsSpamHere,za=this.state.isInlinePageDeleted,ab=this.props.hideAsSpamForPageAdmin,bb=this.state.isInlineBanned;if(sa.islive&&!this.state.loggedLiveUpdate){new (c('LiveWWWFeedbackTypedLogger'))().setEvent('update_view').setUpdateType('comment').setCommentID(sa.id).log();this.setState({loggedLiveUpdate:true})}var cb=na(sa),db=!sa.status&&(sa.isunseen||sa.__typename==='local');if(!sa.status&&ta.lastseentime){var eb=sa.originalTimestamp||sa.timestamp.time;db=db||eb>ta.lastseentime}var fb=ra.markedcomments;if(fb&&fb[sa.legacyid])db=true;if(this.props.orderingMode===c('WebCommentViewOption').LIVE_STREAMING||this.props.isLivePinnedComment)db=false;var gb="UFIRow"+(this.props.isFirst?' '+"_48ph":'')+(this.props.isLast?' '+"UFILastComment":'')+(this.props.isFirstCommentComponent?' '+"_48pi":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"_4204":'')+(this.props.isLastComponent?' '+"_2o9m":'')+(this.state.isAcceptedAnswer?' '+"UFIAcceptedAnswer":'')+(this.props.isLivePinnedComment?' '+"UFILivePinnedComment":'')+(!!this.props.comment.neighborBadge?' '+"uiContextualLayerParent":''),hb=j._("Comment"),ib=j._("Comment reply"),jb=sa.parentcommentid?ib:hb;if(cb)if(ka){var kb=null,lb=null,mb=null,nb=null;if(ab){mb=bb?this.$UFIComment10:this.$UFIComment9;if(za){kb=j._("You've deleted this comment so no one can see it.")}else if(ya){kb=j._("Now this is only visible to the person who wrote it and their friends.");nb=this.$UFIComment4;lb=this.$UFIComment3}}else if(ya){kb=j._("This comment has been hidden.");nb=this.$UFIComment4;lb=this.$UFIComment3}if(kb)return c('React').createElement('div',{className:gb,role:'article','aria-label':jb},c('React').createElement(ka,{notice:kb,comment:this.props.comment,authorProfiles:this.props.authorProfiles,onUndo:lb,onBanAction:mb,onDeleteAction:nb,isInlineBanned:bb,isInlinePageDeleted:za,hideAsSpamForPageAdmin:ab,pageID:this.props.feedback.ownerid}));}else c('Bootloader').loadModules(["UFICommentRemovalControls.react"],function(sb){ka=sb;setTimeout(function(){this.forceUpdate()}.bind(this))}.bind(this),'UFIComment.react');var ob='comment_'+c('uniqueID')(),pb=c('joinClasses')(gb,"UFIComment"+(la(sa)?' '+"UFICommentFailed":'')+(ma(sa,ra.location)?' '+"UFITipJarComment":'')+(va||wa||this.$UFIComment1()&&!xa||sa.parentNeedsApproval?' '+"UFITranslucentComment":'')+(this.state.isHighlighting?' '+"highlightComment":'')+(' '+"_4oep")+(this.props.hasPartialBorder?' '+"UFIPartialBorder":'')+(db?' '+"UFIUnseenItem":'')+(sa.isAnnouncement?' '+"UFICommentLiveVideoAnnouncement":'')),qb=this.renderComment(),rb=ra.mayLogVPVs&&this.props.orderingMode===c('WebCommentViewOption').FILTERED;if(sa.__typename!=='local'&&!sa.isAnnouncement){if(rb)qb=c('React').createElement(c('UFICommentVPVTracker.react'),{comment:sa,contextArgs:ra},qb);qb=c('React').createElement(c('UFICommentVPVDTracker.react'),{renderedComment:{comment:sa,isLivePinnedComment:Boolean(this.props.isLivePinnedComment)},contextArgs:this.props.contextArgs},qb)}return c('React').createElement('div',{id:ob,className:pb,role:'article','aria-label':jb,'data-testid':this.state.wasHighlighted?r:null,'data-ft':this.props['data-ft']},qb)};oa.prototype.$UFIComment20=function(qa,ra){var sa=this.props,ta=sa.comment,ua=sa.feedback,va=this.state.hideSpamComment,wa=ta.appealStatus,xa=ta.body?ta.body.text:'',ya=c('UFICommentUtils').shallowCopyRanges(ta.body&&ta.body.ranges),za=c('UFICommentUtils').shallowCopyRanges(ta.body&&ta.body.delight_ranges),ab=c('React').createElement(c('ShimButton.react'),{className:"UFICommentShowComment",form:'link',onClick:function(){return this.setState({hideSpamComment:false})}.bind(this)},j._("Show Comment"));if(va&&this.$UFIComment1()){var bb=void 0;if(wa===c('CommentApprovalsResponsibleUserAction').SECURED_ACCOUNT&&ta.needsApproval===false){bb=c('React').createElement(c('Text.react'),null,j._({"*":"Thanks for securing your account. We recommend deleting this comment now. If you don't, it will be automatically deleted in {number} days.","_1":"Thanks for securing your account. We recommend deleting this comment now. If you don't, it will be automatically deleted in 1 day."},[j.plural(ta.daysToExpire,'number')]));var cb=c('React').createElement(c('ShimButton.react'),{className:"UFICommentShowComment",form:'link',onClick:function(event){return this.$UFIComment5(event)}.bind(this)},j._("Delete"));return c('React').createElement('span',null,bb,ab,j._("or"),cb)}bb=ta.needsApproval?c('React').createElement(c('Text.react'),null,j._("{name}'s comment was marked as spam.",[j.param('name',ra)])):c('React').createElement(c('Text.react'),null,j._("Your comment was marked as spam."));return c('React').createElement('span',null,bb,ab)}xa=c('UFICommentUtils').getCommentTextWithTruncatedURIs(ya,xa);var db=null,eb=null;if(!sa.isLocallyComposed&&!this.state.wasHighlighted){eb=c('UFIConstants').commentTruncationLength;db=c('UFIConstants').commentTruncationMaxLines}if(ta.body&&ta.body.markdown_enabled&&ta.body.markup)if(c('HTML').isHTML(ta.body.markup)){return c('React').createElement('span',{dangerouslySetInnerHTML:ta.body.markup})}else return c('React').createElement(c('DOMContainer.react'),null,ta.body.markup);if(ta.isJoinEvent)return c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('UFIJoinEvent.react').__setRef('UFIComment.react'),bootloadPlaceholder:c('React').createElement('span',null),comment:ta});return c('React').createElement(c('UFICommentBody.react'),{socialContext:ta.socialcontext,commentText:xa,commentRanges:ya,textDelightRanges:za,groupOrEventID:ua.grouporeventid,maxLength:eb,maxLines:db,markViewerHasInteracted:this.props.markViewerHasInteracted,shouldExpand:qa,ufiInstanceID:this.props.contextArgs.instanceid,commentFBID:ta.fbid,isLiveStreaming:sa.contextArgs.islivestreaming})};oa.prototype.renderComment=function(){var qa=this.props,ra=qa.comment,sa=qa.permalink,ta=qa.feedback,ua=qa.authorProfiles[ra.author],va=ra.status===n.SPAM_DISPLAY,wa=ra.status===n.LIVE_DELETED,xa=!(va||wa),ya=false;if(this.props.featuredCommentIDs&&this.props.featuredCommentIDs.indexOf(this.props.comment.fbid)>-1)ya=true;var za=ta.canremoveall||ra.hiddenbyviewer,ab=c('TrackingNodes').getTrackingInfo(c('TrackingNodes').types.SMALL_ACTOR_PHOTO),bb=void 0;if(!qa.contextArgs.viewas&&!ra.isAnnouncement){if(!ua)throw new Error('Got unexpected null author on comment '+JSON.stringify(ra)+' with profiles '+JSON.stringify(qa.authorProfiles));bb=c('HovercardLink').constructEndpointWithGroupLocationAndExtraParams(ua,ta.grouporeventid,ra.hovercardlocation?ra.hovercardlocation:c('UserHovercardLocation').UFI,ra.isauthorweakreference,{on_public_ufi:ta.ispublic}).toString()}var cb=qa.contextArgs.disableCommentAuthorLink,db=ra.isAnnouncement?null:c('React').createElement(c('UFICommentAuthorName.react'),{author:ua,authorProfiles:qa.authorProfiles,commentID:ra.id?ra.id.toString():null,commonalityString:ra.commonalityString,constituentBadge:ra.constituentTitle,disableAuthorLink:cb,focusOnMount:qa.focusOnMount,customGlyphTag:ra.customglyphtag,groupOrEventID:ta.grouporeventid,isAdminViewer:qa.feedback.isadminviewer,isAuthorBot:ra.isauthorbot,isAuthorNonCoworker:ra.isauthornoncoworker,isAuthorWeakReference:ra.isauthorweakreference,isAuthorOriginalPoster:ra.isauthororiginalposter,isFeatured:qa.isFeatured,isPublic:ta.ispublic,dialogUrl:ra.dialogurl,hasConstituentBadge:ra.hasConstituentBadge,hovercardLocation:ra.hovercardlocation,neighborBadge:ra.neighborBadge,showHovercard:!!bb,socialContext:ra.socialcontext}),eb=this.$UFIComment20(ya,db),fb=ra.translationdata,gb=fb&&fb.translatedText&&fb.translatedText.text,hb=!gb||this.state.showBody||fb.trigger===c('TranslationTrigger').LOGGED_OUT_AUTO_TRANSLATION,ib=this.props.showTranslation&&!fb||!!fb&&(!c('UFIConfig').shouldTranslationsReplaceContent||!hb||!gb||fb.trigger===c('TranslationTrigger').LOGGED_OUT_AUTO_TRANSLATION),jb=void 0;if(ra.isAnnouncement){jb=c('React').createElement('div',{className:"UFICommentLiveVideoAnnouncementBody"},c('React').createElement(c('InlineBlock.react'),{alignv:'middle',className:"UFICommentLiveVideoAnnouncementMessage",height:32},eb),c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('UFILiveVideoAnnouncementCTAContainer.react').__setRef('UFIComment.react'),bootloadPlaceholder:c('React').createElement('span',null),comment:ra}))}else jb=c('React').createElement('span',null,hb?eb:null,ra.istranslatable||!!fb?c('React').createElement(c('UFICommentTranslation.react'),{translationData:fb,showTranslation:ib,isShowingOriginal:hb,shouldExpand:ya,onSeeTranslation:function(){return this.$UFIComment14()}.bind(this),onSeeOriginal:function(){return this.setState({showBody:true})}.bind(this)}):null);var kb=null;if(qa.contextArgs.isLiveVOD||!qa.contextArgs.islivestreaming&&qa.contextArgs.showVODCommentTimestamps&&qa.comment.videoTimeOffset)kb=c('React').createElement(c('UFILiveCommentTimestamp.react'),{comment:ra,contextArgs:qa.contextArgs});var lb=void 0;if(ra.attachment_status)lb=c('React').createElement('div',{className:"_50f8"},ra.attachment_status);var mb=c('React').createElement(c('UFICommentAttachment.react'),{comment:qa.comment}),nb=void 0;if(this.state.hideSpamComment){nb=c('React').createElement('div',null)}else if(ra.isAnnouncement){nb=c('React').createElement(c('UFICommentLiveVideoAnnouncementImage.react'),{accentColor:ra.accentColor,glyphName:ra.glyphName,image:ra.image,isJoinEvent:ra.isJoinEvent})}else{var ob=ua.uri||ua.isBusinessPersona,pb=ob?c('UFICommentUtils').annotateProfileURIIfPublic(ta.ispublic,ua.uri):null;nb=c('React').createElement(c('UFIActorIconContainer.react'),{actorID:ra.author});if(ra.dialogurl){nb=c('React').createElement('a',{'data-ft':ab,'data-hovercard':bb,ajaxify:ra.dialogurl,rel:'dialog',href:pb},nb)}else if(ob)nb=c('React').createElement('a',{'data-ft':ab,'data-hovercard':bb,href:pb},nb);}var qb=null;if(this.state.isAcceptedAnswer){qb=c('React').createElement('span',{className:"UFIAcceptedAnswerLabel"},j._("Accepted answer"))}else if(this.props.isLivePinnedComment){var rb=j._("Pinned comment");qb=c('React').createElement('span',{className:"UFILivePinnedCommentLabel"},c('React').createElement(c('Image.react'),{className:'UFILivePinnedCommentGlyph',src:h("139486")}),rb)}var sb=ra.tipOptionIndex?c('React').createElement(c('VideoTipJarCommentBackground.react'),{tipOptionIndex:ra.tipOptionIndex}):null,tb=ra.isReported?c('React').createElement('div',null,c('React').createElement(c('XUIButton.react'),{label:j._("Ignore"),type:'button',onClick:function(){return this.$UFIComment17(ra,ta.grouporeventid)}.bind(this)}),c('React').createElement(c('XUIButton.react'),{label:j._("Delete"),type:'button',onClick:function(){return this.$UFIComment18(ra,ta.grouporeventid)}.bind(this)}),c('React').createElement(c('XUIButton.react'),{label:j._("Delete and block"),type:'button',onClick:function(){return this.$UFIComment19(ra,ta.grouporeventid)}.bind(this)})):null,ub=ra.isAnnouncement||this.state.hideSpamComment?null:c('React').createElement(c('UFICommentActions.react'),{comment:ra,feedback:ta,parentCanComment:qa.parentCanComment,permalink:sa,viewerCanMarkNotSpam:Boolean(za),showPermalink:qa.showPermalink,showReplyLink:qa.showReplyLink,contextArgs:qa.contextArgs,markedAsSpamHere:this.state.markedAsSpamHere,hideAsSpamForPageAdmin:qa.hideAsSpamForPageAdmin||this.state.hideSpamComment,hideSpamComment:this.state.hideSpamComment,orderingMode:qa.orderingMode});return c('React').createElement('div',null,qb,c('React').createElement(c('UFIImageBlock.react'),{spacing:'medium'},nb,c('React').createElement('div',{className:'UFICommentContentBlock'},c('React').createElement('div',{className:'UFICommentContent'},!this.state.hideSpamComment?db:null,kb,db||kb?' ':null,jb,!this.state.hideSpamComment?mb:null),lb,ub,tb,xa?this.$UFIComment16():null),sb))};oa.propTypes={authorProfiles:m.object.isRequired,comment:m.object.isRequired,contextArgs:m.object.isRequired,feedback:m.object.isRequired,'data-ft':m.string,featuredCommentIDs:m.array,focusOnMount:m.bool,hasPartialBorder:m.bool,hideAsSpamForPageAdmin:m.bool,isFeatured:m.bool,isFirst:m.bool,isFirstCommentComponent:m.bool,isFirstComponent:m.bool,isLast:m.bool,isLastCommentComponent:m.bool,isLastComponent:m.bool,isLivePinnedComment:m.bool,isLocallyComposed:m.bool,parentCanComment:m.bool,permalink:m.string,showPermalink:m.bool,showRemoveReportMenu:m.bool,showReplyLink:m.bool,viewerIsAuthor:m.bool,orderingMode:m.string,markViewerHasInteracted:m.func,showTranslation:m.bool};oa.contextTypes={dispatch:m.func};var pa=function qa(){this.$UFIComment2=function(event){this.context.dispatch(c('UFICommentAction').markAsSpam(this.props.contextArgs,this.props.comment,event.target));this.setState({markedAsSpamHere:true})}.bind(this);this.$UFIComment3=function(event){this.context.dispatch(c('UFICommentAction').markAsNotSpam(this.props.contextArgs,this.props.comment,event));this.setState({markedAsSpamHere:false})}.bind(this);this.$UFIComment4=function(event){this.context.dispatch(c('UFICommentAction').remove(this.props.contextArgs,this.props.comment,event.target,function(){return this.setState({isInlinePageDeleted:true})}.bind(this)))}.bind(this);this.$UFIComment5=function(event){this.context.dispatch(c('UFICommentAction').remove(this.props.contextArgs,this.props.comment,event.target,c('emptyFunction')))}.bind(this);this.$UFIComment6=function(event){this.context.dispatch(c('UFICommentAction').delete_comment_and_remove_commenter(this.props.contextArgs,this.props.comment,event.target,c('emptyFunction')))}.bind(this);this.$UFIComment7=function(event){this.context.dispatch(c('UFICommentAction').mute_member(this.props.contextArgs,this.props.comment,event.target,c('emptyFunction')))}.bind(this);this.$UFIComment9=function(event){this.context.dispatch(c('UFICommentAction').inlineBan(this.props.contextArgs,this.props.comment,event,this.props.feedback.ownerid));this.setState({isInlineBanned:true})}.bind(this);this.$UFIComment10=function(event){this.context.dispatch(c('UFICommentAction').undoInlineBan(this.props.contextArgs,this.props.comment,event,this.props.feedback.ownerid));this.setState({isInlineBanned:false})}.bind(this);this.$UFIComment11=function(event,ra){var sa=ra.item,ta=sa.getValue();setTimeout(function(){var ua=this.props,va=ua.comment,wa=ua.contextArgs,xa=ua.feedback;if(ta===p.remove){this.$UFIComment5(event)}else if(ta===p.delete_comment_and_remove_commenter){this.$UFIComment6(event)}else if(ta===p.edit){this.context.dispatch(c('UFICommentAction').edit(wa,va))}else if(ta===p.hide){this.$UFIComment2(event)}else if(ta===p.mute_member){this.$UFIComment7(event)}else if(ta===p.hide_text_delights){this.$UFIComment8(event)}else if(ta===p.embed){this.context.dispatch(c('UFICommentAction').embed(wa,va))}else if(ta===p.manageConstituentBadge){this.context.dispatch(c('UFICommentAction').manageConstituentBadge(wa,va))}else c('UFICentralUpdates').inform(ta,{comment:va,feedback:xa});}.bind(this),0)}.bind(this)};f.exports=c('FluxContainer').create(oa,{pure:false,withProps:true})}),null);
__d('UFICommentLink.react',['cx','fbt','React','TrackingNodes','emptyFunction'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n=i._("Leave a comment"),o='{ "tn": "'+c('TrackingNodes').encodeTN(c('TrackingNodes').types.COMMENT_LINK)+'", "type": 24 }';return c('React').createElement('a',{className:"comment_link _5yxe",role:'button',href:this.props.href?this.props.href:'#',title:n,ajaxify:this.props.ajaxify,rel:this.props.rel,onClick:this.props.onClick,'data-ft':o},this.props.children)};function m(){j.apply(this,arguments)}m.propTypes={onClick:l.func,href:l.string,ajaxify:l.string,rel:l.string};m.defaultProps={onClick:c('emptyFunction')};f.exports=m}),null);
__d('UFIContainer.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement('div',{className:(!this.props.isReplyList?"UFIList":'')+(this.props.isAcceptedAnswerReply?' '+"UFIAcceptedAnswerReply":'')+(this.props.isReplyList?' '+"UFIReplyList":'')+(this.props.isParentLiveDeleted?' '+"UFITranslucentReplyList":'')+(this.props.isFirstCommentComponent?' '+"_48pi":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"_4204":'')+(this.props.isLastComponent?' '+"_2o9m":'')+(this.props.shouldHide?' '+"hidden_elem":'')},this.props.children)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d('UFIDispatcherContext.react',['React','UFIDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.getChildContext=function(){return {dispatch:this.props.dispatcher.dispatch.bind(this.props.dispatcher),stores:this.props.stores}};k.prototype.render=function(){return this.props.children};function k(){h.apply(this,arguments)}k.childContextTypes={dispatch:j.func,stores:j.object};f.exports=k}),null);
__d('UFILikeLink.react',['cx','fbt','Bootloader','React','ReactDOM','SutroStoryHeaderUFIGatingConfig','TrackingNodes','UFILikeWebDriverIDs'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=null;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$UFILikeLink1=null,this.state={nuxShown:false},this.onClick=function(t){if(this.props.href)return;t.preventDefault();this.props.onClick&&this.props.onClick(t);if(this.props.showLikeNuxForGroupMallAds){var u=!this.props.likeAction;if(!u){c('ReactDOM').findDOMNode(this.$UFILikeLink1).focus();this.setState({nuxShown:true});c('Bootloader').loadModules(["UFIGroupMallAdsLikeNux.react"],function(v){m=v},'UFILikeLink.react')}else this.setState({nuxShown:false});}}.bind(this),p}n.prototype.renderLayers=function(){if(!this.state.nuxShown||!m)return null;return c('React').createElement(m,{nuxShown:this.state.nuxShown,nuxContent:this.props.likeNuxContent,contextRef:this.$UFILikeLink1})};n.prototype.render=function(){var o=!this.props.likeAction,p=o?c('UFILikeWebDriverIDs').UNLIKE_LINK:c('UFILikeWebDriverIDs').LIKE_LINK,q='';if(c('SutroStoryHeaderUFIGatingConfig').is_uppercased){q=!o||!this.props.forcelegacyrendering?i._("LIKE"):i._("UNLIKE")}else q=!o||!this.props.forcelegacyrendering?i._("Like"):i._("Unlike");var r=c('TrackingNodes').getTrackingInfo(o?c('TrackingNodes').types.UNLIKE_LINK:c('TrackingNodes').types.LIKE_LINK),s=o?i._("Unlike this"):i._("Like this"),t=c('SutroStoryHeaderUFIGatingConfig').is_center_aligned;return c('React').createElement('span',{className:t?"_3wv2":''},c('React').createElement('a',{className:"_48-k"+(' '+"UFILikeLink")+(o?' '+"UFILinkBright":''),ref:function(u){return this.$UFILikeLink1=u}.bind(this),'data-testid':p,href:this.props.href||'#',role:'button','aria-label':s,'aria-live':'polite','aria-pressed':o,rel:this.props.rel,ajaxify:this.props.ajaxify,onBlur:this.props.onBlur,onClick:this.onClick,onClickCapture:this.props.onClickCapture,onDragStart:this.props.onDragStart,onFocus:this.props.onFocus,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp,onKeyDown:function(u,v){this.props.onKeyDown&&this.props.onKeyDown(u,v)}.bind(this),'data-ft':r},q),this.renderLayers())};n.propTypes={ajaxify:l.string,forcelegacyrendering:l.bool,href:l.string,likeAction:l.bool,likeNuxContent:l.string,rel:l.string,showLikeNuxForGroupMallAds:l.bool};n.defaultProps={forcelegacyrendering:false,showLikeNuxForGroupMallAds:false};f.exports=n}),null);
__d('UFIShareLink.react',['cx','fbt','CurrentUser','React','SutroStoryHeaderUFIGatingConfig','TrackingNodes','XUISpinner.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$UFIShareLink1=function(event){if(this.props.href&&this.props.href!=='#'&&!this.props.onClick)return;event.preventDefault();this.props.onClick&&this.props.onClick(event)}.bind(this),n}l.prototype.render=function(){var m=i._("Send this to friends or post it on your Timeline.");if(c('CurrentUser').isWorkUser())m=i._("Send this to colleagues or post it on your Timeline.");var n='{ "tn": "'+c('TrackingNodes').encodeTN(c('TrackingNodes').types.SHARE_LINK)+'", "type": 25 }',o=null;if(this.props.rel!=='dialog')o=c('React').createElement(c('XUISpinner.react'),{className:"UFIShareLinkSpinner _1wfk",showOnAsync:true});var p=this.props,q=p.openOnInit,r=babelHelpers.objectWithoutProperties(p,['openOnInit']),s=c('SutroStoryHeaderUFIGatingConfig').is_uppercased?i._("SHARE"):i._("Share"),t=c('SutroStoryHeaderUFIGatingConfig').is_center_aligned;return c('React').createElement('span',{className:"_27de"+(t?' '+"_4noj":'')},c('React').createElement('a',babelHelpers['extends']({},r,{className:c('joinClasses')(this.props.className,"share_action_link _5f9b"),onClick:this.$UFIShareLink1,ref:function u(v){if(v&&q)v.click();},role:'button',tabIndex:0,'data-ft':n,title:m}),s,o))};f.exports=l}),null);
__d('TextDelightEvents',['Bootloader','EventEmitter','EventEmitterWithHolding','EventHolder'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('EventEmitter'))(),i=new (c('EventEmitterWithHolding'))(h,new (c('EventHolder'))());function j(){c('Bootloader').loadModules(["TextDelightController"],function(l){return l.init()},'TextDelightEvents')}var k={emitScrapablePost:function l(m){j();i.emit('potential_delight_in_post',{text:m})},emitScrapableComment:function l(m){j();i.emit('potential_delight_in_comment',{text:m})},addListener:function l(event,m){i.once(event,m)}};f.exports=k}),null);
__d('MultiBootstrapDataSource',['DataSource'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('DataSource'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this._bootstrapEndpoints=k.bootstrapEndpoints}j.prototype.bootstrapWithoutToken=function(){'use strict';for(var k=0;k<this._bootstrapEndpoints.length;k++)this.fetch(this._bootstrapEndpoints[k].endpoint,this._bootstrapEndpoints[k].data||{},{bootstrap:true});};f.exports=j}),null);
__d('ClipboardPhotoUploader',['ArbiterMixin','AsyncRequest','mixin'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this);this.uploadURIString=k;this.data=l}j.prototype.handlePaste=function(event){'use strict';var k=j.getImages(event);for(var l=0;l<k.length;++l){var m=new FormData();m.append('pasted_file',k[l]);var n=new (c('AsyncRequest'))();n.setURI(this.uploadURIString).setData(this.data).setRawData(m).setHandler(function(o){this.inform('upload_success',o)}.bind(this)).setErrorHandler(function(o){this.inform('upload_error',o)}.bind(this)).setAbortHandler(function(o){this.inform('upload_error',o)}.bind(this));this.inform('upload_start');n.send();break}};j.getImages=function(event){'use strict';if(!event.clipboardData)return [];var k=event.clipboardData.items;if(!k)return [];var l,m=[];for(var n=0;n<k.length;++n){l=k[n];if(l.kind==='string')return [];if(l.kind==='file'&&l.type.indexOf('image/')!==-1)m.push(l.getAsFile());if(l.kind==='blob')m.push(l.blob);}return m};f.exports=j}),null);
__d('renderCrosspostedTooltipText',['fbt','React','XUIText.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){var m=this.props,n=m.posts,o=m.postViews,p=m.otherPostsViews,q=Math.max(0,n-1);if(q<=1||p<1)return null;return c('React').createElement('div',null,c('React').createElement(c('XUIText.react'),{weight:'bold'},h._({"*":"Video posted {number} times","_1":"Video posted once"},[h.plural(n,'number')])),c('React').createElement('br',null),h._({"*":"{number} views from this post","_1":"1 view from this post"},[h.plural(o,'number')]),c('React').createElement('br',null),h._({"*":{"*":"{number} views from {posts count} other posts","_1":"{number} views from {posts count} other post"},"_1":{"*":"1 view from {posts count} other posts","_1":"1 view from {posts count} other post"}},[h.plural(p,'number'),h.param('posts count',q),h.plural(q)]))};function k(){i.apply(this,arguments)}function l(m){var n=m.posts,o=m.otherPostsViews,p=Math.max(0,n-1);if(p<=1||o<1)return null;return c('React').createElement(k,m)}f.exports=l}),null);
__d("FBFeedLocations",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NEWSFEED:1,GROUP:2,GROUP_PERMALINK:3,COMMUNITY:4,PERMALINK:5,SHARE_OVERLAY:6,PERMALINK_STREAM:7,GROUP_PINNED:8,FRIEND_LIST:9,TIMELINE:10,HASHTAG_FEED:11,TOPIC_FEED:12,PAGE:13,NOTIFICATION_FEED:14,GROUP_REPORTED:15,GROUP_PENDING:16,PAGES_FEED_IN_PAGES_MANAGER:17,TICKER_CLASSIC:18,PAGES_SUGGESTED_FEED_IN_PAGES_MANAGER:19,SEARCH:20,GROUP_SEARCH:21,NO_ATTACHMENT:22,EMBED:23,EMBED_FEED:24,ATTACHMENT_PREVIEW:25,STORIES_TO_SHARE:26,PROMPT_PERMALINK:27,TREND_HOVERCARD:28,OPEN_GRAPH_PREVIEW:30,HOTPOST_IN_PAGES_FEED:31,SCHEDULED_POSTS:32,TIMELINE_NOTES:33,PAGE_INSIGHTS:34,COMMENT_ATTACHMENT:35,PAGE_TIMELINE:36,GOODWILL_THROWBACK_PERMALINK:37,LIKE_CONFIRM:39,GOODWILL_THROWBACK_PROMOTION:40,BROWSE_CONSOLE:42,GROUP_FOR_SALE_COMPACT:43,ENTITY_FEED:44,GROUP_FOR_SALE_DISCUSSION:45,PAGES_CONTENT_TAB_PREVIEW:46,GOODWILL_THROWBACK_SHARE:47,TIMELINE_VIDEO_SHARES:48,EVENT:49,PAGE_PLUGIN:50,SRT:51,PAGES_CONTENT_TAB_INSIGHTS:52,ADS_PE_CONTENT_TAB_INSIGHTS:53,PAGE_ACTIVITY_FEED:54,VIDEO_CHANNEL:55,POST_TO_PAGE:56,GROUPS_GSYM_HOVERCARD:57,GROUP_POST_TOPIC_FEED:58,FEED_SURVEY:59,PAGES_MODERATION:60,SAVED_DASHBOARD:61,PULSE_SEARCH:62,GROUP_NUX:63,GROUP_NUX_POST_VIEW:64,EVENT_PERMALINK:65,FUNDRAISER_PAGE:66,EXPLORE_FEED:67,CRT:68,REVIEWS_FEED:69,VIDEO_HOME_CHANNEL:70,NEWS:71,TIMELINE_FRIENDSHIP:72,SAVED_REMINDERS:73,PSYM:74,ADMIN_FEED:75,CAMPFIRE_NOTE:76,PAGES_CONTEXT_CARD:77,ACTIVITY_LOG:78,WALL_POST_REPORT:79,TIMELINE_BREAKUP:80,POLITICIANS_FEED:81,PRODUCT_DETAILS:82,SPORTS_PLAY_FEED:83,GROUP_TOP_STORIES:84,PAGE_TIMELINE_PERMALINK:86,OFFERS_WALLET:87,INSTREAM_VIDEO_IN_LIVE:88,SPOTLIGHT:89,SEARCH_DERP:90,SOCIAL_BALLOT:91,GROUP_SUGGESTIONS_WITH_STORY:92,SOCIAL_BALLOT_PERMALINK:93,LOCAL_SERP:94,FUNDRAISER_SELF_DONATION_FEED:95,CONVERSATION_NUB:97,GROUP_TOP_SALE_STORIES:98,GROUP_LEARNING_COURSE_UNIT_FEED:99,SUPPORT_INBOX_READ_TIME_BLOCK:100,PAGE_POSTS_CARD:101,CRISIS_POST:102,SUPPORT_INBOX_GROUP_RESPONSIBLE:103,PAGE_POST_DIALOG:104,CRISIS_DIALOG_POST:105,PAGE_LIVE_VIDEOS_CARD:106,PAGE_POSTS_CARD_COMPACT:107,GROUP_MEMBER_BIO_FEED:108,LIVE_COMMENT_ATTACHMENT:109,GROUP_COMPOSER:110,GROUP_INBOX_GROUP:111,GROUP_INBOX_AGGREGATED:112,ENDORSEMENTS:113,EVENTS_DASHBOARD:114,CURATED_COLLECTIONS_PAGE:115,OYML:116,COLLEGE_HOMEPAGE:117,GROUP_LIVE_VIDEOS_CARD:118,COLLEGE_HIGHLIGHTS:119,VIDEO_PERMALINK:120,JOB_CAROUSEL_NETEGO:121,TOPIC_PAGE:122,USER_SCHEDULED_POSTS:123,GOODWILL_THROWBACK_ATTACHMENT_PREVIEW:124,INSTREAM_VIDEO_IN_WASLIVE:125,INSTREAM_VIDEO_IN_NONLIVE:126,SIGNAL_APP:127,ALBUM_FEED:128,TOP_MARKETPLACE_STORIES:129,CE_PII_STRIPPED_FEED:130,TAHOE:131,SAVE_COUNT_DIALOG:132,GROUP_POST_TAG_FEED:133,GOV_DIGEST:134,GROUP_SCHEDULED:135,GAMEROOM_FEED:136,WORKPLACE_HUB_PREVIEW:137,BRANDED_CONTENT_TRENDING_POSTS:138,GROUP_ANNOUNCEMENTS:139,GROUP_ANNOUNCEMENTS_FEED:140,EXTERN_CE_PII_STRIPPED_FEED:141,CRISIS_HUB_DESKTOP:142,GROUP_DRAFT_POSTS:143,TRENDING_ISSUES:144,GAME_HUB_FEED:145,LUMOS_POST_PREVIEW:146})}),null);
__d('BaseGraphQLSubscription',['Banzai','BanzaiLogger','ChannelClientID','CurrentLocale','CurrentUser','GraphQLSubscriptionsConfig','RTISubscriptionGate','URI'],(function a(b,c,d,e,f,g){var h=10000,i={subscribe:function j(k,l){var m={transformContext:JSON.stringify(this._getTransformContext(k))},n=this._getQueryParameters(k);this._logEvent('client_subscribe',n);return c('RTISubscriptionGate').subscribe(this._getTopic(k),function(o){this._logEvent('receivepayload',n);l(JSON.parse(o.payload))}.bind(this),m,null,function(){this._logEvent('client_unsubscribe',n)}.bind(this))},subscribeWithIcebreaker_EXPERIMENTAL:function j(k,l,m){var n=new (c('URI'))('https://streaming-graph.facebook.com/gqls_bore');n.setQueryData({access_token:m});var o=this._getTopic(k),p={topic:o,locale:c('CurrentLocale').get(),queryID:this._getQueryID(),serializedQueryParameters:JSON.stringify(this._getQueryParameters(k))};n.addQueryData(p);var q=new EventSource(n.toString(),{withCredentials:true});q.addEventListener('message',function(r){l(JSON.parse(JSON.parse(r.data).payload))},false);return {getContext:function r(){return p},unsubscribe:function r(){return q.close()}}},_getTransformContext:function j(k){var l=155160167952447;return {viewerID:c('CurrentUser').getID(),appID:l,locale:c('CurrentLocale').get(),queryID:this._getQueryID(),serializedQueryParameters:JSON.stringify(this._getQueryParameters(k))}},_logEvent:function j(k,l){if(c('Banzai').isEnabled('gqls_web_logging')){var m=c('GraphQLSubscriptionsConfig').shouldAlwaysLog?1:h;if(Math.random()*m<1)c('BanzaiLogger').log('GraphQLSubscriptionsLoggerConfig',{clienttime:Date.now()/1000,client_sample_weight:m,event:k,mechanism:'skywalker',query_id:parseInt(this._getQueryID(),10),query_params:l,session_id:c('ChannelClientID').getID(),subscription_call:this._getSubscriptionCallName()});}}};f.exports=i}),null);
__d('WebGraphQLSubscriptionHelper',[],(function a(b,c,d,e,f,g){'use strict';f.exports={getExports:function h(i){var j=i.docID,k=i.queryID;return {getDocID:function l(){return j},getLegacyQueryID:function l(){return k}}}}}),null);