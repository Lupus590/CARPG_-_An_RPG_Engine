if (self.CavalryLogger) { CavalryLogger.start_js(["+feTQ"]); }

__d("ComposedEntityMutabilityToName",[],(function a(b,c,d,e,f,g){f.exports={"0":"MUTABLE","1":"IMMUTABLE","2":"SEGMENTED"}}),null);
__d("ComposedEntityTypeToName",[],(function a(b,c,d,e,f,g){f.exports={"0":"MENTION","1":"LINK","2":"IMAGE","3":"VIDEO","4":"EMOTICON","5":"TOKEN","6":"HASHTAG","7":"IMPLICIT_LINK","8":"EMBED","9":"EMOJI","10":"MATH"}}),null);
__d("MNCommerceBlockTypeJSInstance",[],(function a(b,c,d,e,f,g){f.exports={ALL:"all",PROMOTION:"promotion",NONE:"none"}}),null);
__d('wrapNullableForReact',[],(function a(b,c,d,e,f,g){'use strict';function h(i){if(i!=null){return i}else return undefined;}f.exports=h}),null);
__d('MercuryAudioPlayer',['Arbiter','DOM','Event','Flash'],(function a(b,c,d,e,f,g){var h=200;function i(){var r=c('DOM').create('audio'),s=false;try{if(!!r.canPlayType)if(r.canPlayType('video/mp4;').replace(/^no$/,''))s=true;}finally{return s}}function j(){return c('Flash').isAvailable()}var k=function r(){this.interval=null;this.arbiterInstance=null;this.audio=c('DOM').create('audio');c('Event').listen(this.audio,'playing',function(){this.informAttachment('playing',this.audio.currentTime);this.interval=setInterval(function(){this.informAttachment('playing',this.audio.currentTime)}.bind(this),h)}.bind(this));c('Event').listen(this.audio,'ended',function(){clearInterval(this.interval);this.informAttachment('finished')}.bind(this))};Object.assign(k.prototype,{setAudio:function r(s,t){this.audio.setAttribute('src',s);this.arbiterInstance=t},informAttachment:function r(s,t){if(this.arbiterInstance)this.arbiterInstance.inform(s,t);},play:function r(){this.audio.play();this.informAttachment('played')},resume:function r(){this.audio.play();this.informAttachment('played')},pause:function r(){this.audio.pause();clearInterval(this.interval);this.informAttachment('paused')},getType:function r(){return 'html5'}});var l=function r(){this.src=null;this.arbiterInstance=null;var s=c('DOM').create('div');document.body.appendChild(s);this.swf=c('Flash').embed('/swf/cigars/SoundStreamPlayer.swf',s,null,{});this.interval=null;c('Arbiter').subscribe('soundstream/finished',function(){clearInterval(this.interval);this.informAttachment('finished')}.bind(this))};Object.assign(l.prototype,{setAudio:function r(s,t){this.src=s;this.arbiterInstance=t},informAttachment:function r(s,t){if(this.arbiterInstance)this.arbiterInstance.inform(s,t);},play:function r(){this.swf.playSound(this.src);this.interval=setInterval(function(){var s=this.swf.getCurrentTime();this.informAttachment('playing',s)}.bind(this),h);this.informAttachment('played')},resume:function r(){this.swf.resume();this.informAttachment('played')},pause:function r(){clearInterval(this.interval);this.swf.pause();this.informAttachment('paused')},getType:function r(){return 'flash'}});function m(){if(i()){return new k()}else if(j())return new l();return false}var n=null,o=null,p=0;function q(r,s){this.src=r;this.arbiterInstance=s;this.audio_id=++p;n!==null||(n=m());if(!n)return false;}Object.assign(q.prototype,{getType:function r(){if(!n){return false}else return n.getType();},play:function r(s){if(s&&o==this.audio_id){n.resume()}else{this.pause();o=this.audio_id;n.setAudio(this.src,this.arbiterInstance);n.play()}},pause:function r(){n.pause()}});f.exports=q}),null);
__d('MercuryAttachmentAudioClip.react',['cssVar','cx','fbt','Arbiter','ArbiterMixin','MercuryAudioPlayer','CurrentUser','JSLogger','LeftRight.react','Link.react','MercuryShareAttachmentRenderLocations','React','SubscriptionsHandler','WorkModeConfig','joinClasses','messengerCustomColorUtils','shield'],(function a(b,c,d,e,f,g,h,i,j){var k=c('React').PropTypes,l='MercuryAttachmentAudioClip/play',m='progress-bar',n=c('JSLogger').create('mercury_audio_clip'),o=c('React').createClass({displayName:'AudioClip',mixins:[c('ArbiterMixin')],propTypes:{customColor:k.string,duration:k.number,isChat:k.bool,isFromViewer:k.bool,location:k.oneOf(c('MercuryShareAttachmentRenderLocations').getValues()),onAttachmentLoad:k.func,rootClassName:k.string,showHelp:k.bool,src:k.string.isRequired,width:k.number},getInitialState:function p(){this.logged=false;return {time:0,playing:false,started:false,duration:this.props.duration,audioPlayer:new (c('MercuryAudioPlayer'))(this.props.src,this)}},componentDidMount:function p(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this._subscriptionsHandler=new (c('SubscriptionsHandler'))();this._subscriptionsHandler.addSubscriptions(this.subscribe('playing',this.updateTime),this.subscribe('played',c('shield')(this.setState,this,{playing:true,started:true})),this.subscribe('paused',c('shield')(this.setState,this,{playing:false})),this.subscribe('finished',c('shield')(this.setState,this,{playing:false,started:false,time:this.props.duration})),c('Arbiter').subscribe(l,function(q,r){if(this.props.src!=r)this.setState({time:0});}.bind(this)))},componentWillUnmount:function p(){this._subscriptionsHandler&&this._subscriptionsHandler.release()},updateTime:function p(q,r){this.setState({time:r})},play:function p(){if(this.state.playing){this.state.audioPlayer.pause()}else{this.state.audioPlayer.play(this.state.started);c('Arbiter').inform(l,this.props.src);if(!this.logged){this.logged=true;n.log('play',{uid:c('CurrentUser').getID(),duration:this.props.duration})}}},_formatSeconds:function p(q){if(q){q=Math.round(q);var r=q%60;if(r<10)r='0'+r;var s=Math.floor(q/60);return s+':'+r}else return null;},_renderPlayer:function p(q,r,s){var t=this.props.isFromViewer,u=this.props.isChat,v=c('WorkModeConfig').is_work_user,w=s===m,x=u&&t&&!w,y=this.props.location===c('MercuryShareAttachmentRenderLocations').MESSENGER,z=v?"#373e4c":"#4080ff",aa=s||z,ba={width:q};if(x)c('messengerCustomColorUtils').customBubbleStyle(aa,ba);var ca=s&&s!==m&&!u?{color:s}:{},da={};if(w)da['aria-disabled']=true;return c('React').createElement(c('Link.react'),babelHelpers['extends']({'aria-label':j._("Voice Message"),className:"_1miz"+(' '+"_2e-1")+(!y?' '+"_3_om":'')+(t&&u?' '+"_3e5f":''),role:'button',style:ba,onClick:this.play},da),c('React').createElement('span',{className:"_1mi- _2e-2"},c('React').createElement('i',{className:"_1mi_ _2e-3"})),c('React').createElement('span',{style:ca,className:"_1mj0 _2e-4 _3oh-"},r),c('React').createElement('div',{className:"_1mj1 _2e-5"}))},render:function p(){var q=this.state.time,r=this.state.playing,s=this._formatSeconds(this.state.duration),t=this.props.location===c('MercuryShareAttachmentRenderLocations').MESSENGER,u=this.props.width||170;if(t){var v=this.props.duration;if(v>10){u=240}else if(v>5){u=200}else if(v>2){u=160}else u=120;}var w=null,x=Math.ceil(q*(u+2)/this.state.duration);if(t)x=Math.ceil(q*(u+24)/this.state.duration);if(this.state.audioPlayer&&this.state.audioPlayer.getType()){var y=this._renderPlayer(u,s,this.props.customColor),z=this._renderPlayer(u,s,m),aa="_1mj2"+(' '+"_2e-6")+(r&&q!==0?' '+"_1mj3":'')+(r&&q===0?' '+"_4g4x":'');w=c('React').createElement('div',{className:aa},y,c('React').createElement('div',{className:"_1mj4 _2e-7",style:{width:x}},z))}else w=c('React').createElement('div',{className:"_1mj2"},c('React').createElement('div',{className:"_1miz"},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('a',{className:"_1mj5",href:this.props.src},c('React').createElement('span',{className:"_3qi6"},c('React').createElement('i',{className:"_1mj6"})),c('React').createElement('span',{className:"_1mj7"},j._("Voice Message")),c('React').createElement('span',{className:"_1mj8"},s)),c('React').createElement('a',{href:this.props.src,className:"_1mj9"},c('React').createElement('i',{className:"_1mja"})))));return c('React').createElement('div',{className:c('joinClasses')("_1mjb"+(t?' '+"_454y":''),this.props.rootClassName)},w)}});f.exports=o}),null);
__d('UFICreatorInfo.react',['cx','fbt','HelpLink.react','Image.react','React','URI'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n=void 0,o=this.getCreatorLink();switch(this.props.labelType){case 'commented':n=i._("Commented on by {creator}",[i.param('creator',o)]);break;case 'edited_comment':n=i._("Edited by {creator}",[i.param('creator',o)]);break;case 'sent_message':n=i._("Sent by {creator}",[i.param('creator',o)]);break;case 'page_admin_note':n=i._("Noted by {creator}",[i.param('creator',o)]);break;default:return c('React').createElement('span',null);}return c('React').createElement('span',null,n,c('React').createElement(c('HelpLink.react'),{tooltip:this.getHelpText()}))};m.prototype.getCreatorLink=function(){switch(this.props.creatorType){case 'application':case 'gray_account':case 'indirect_admin':return c('React').createElement('a',{className:'uiLinkSubtle','data-hover':'tooltip','data-tooltip-content':this.getTooltipText()},this.props.creatorName);case 'business_admin':return c('React').createElement('a',{className:'uiLinkSubtle',href:this.props.profileURI},this.props.creatorName);case 'direct_admin':return this.getProfileLinkWithHovercard();case 'former_admin':return c('React').createElement('span',{className:'uiLinkSubtle'},c('React').createElement(c('Image.react'),{src:'/images/privacy/cant-see.png',width:9,height:9,className:"_3-8_"}),this.getProfileLinkWithHovercard());default:return c('React').createElement('span',{className:'uiLinkSubtle'},this.props.creatorName);}};m.prototype.getTooltipText=function(){switch(this.props.creatorType){case 'application':return this.getApplicationText();case 'gray_account':return this.getGrayAccountText();case 'indirect_admin':return this.getIndirectAdminText();}return null};m.prototype.getProfileLinkWithHovercard=function(){if(!this.props.profileURI)return c('React').createElement('span',null,this.props.creatorName);var n=new (c('URI'))('/ajax/hovercard/user.php').setQueryData({id:this.props.creatorID}).addQueryData({type:'page_admin',extragetparams:JSON.stringify({directed_target_id:this.props.pageID})});return c('React').createElement('a',{className:'uiLinkSubtle','data-hovercard':n,href:this.props.profileURI},this.props.creatorName)};m.prototype.getApplicationText=function(){switch(this.props.labelType){case 'commented':return i._("This was commented on by someone using {application}.",[i.param('application',this.props.creatorName)]);case 'edited_comment':return i._("This was edited by someone using {application}.",[i.param('application',this.props.creatorName)]);case 'sent_message':return i._("This was sent by someone using {application}.",[i.param('application',this.props.creatorName)]);case 'page_admin_note':return i._("This was noted by someone using {application}.",[i.param('application',this.props.creatorName)]);}return null};m.prototype.getIndirectAdminText=function(){switch(this.props.labelType){case 'commented':return i._("This was commented on by someone from {page}.",[i.param('page',this.props.creatorName)]);case 'edited_comment':return i._("This was edited by someone from {page}.",[i.param('page',this.props.creatorName)]);case 'sent_message':return i._("This was sent by someone from {page}.",[i.param('page',this.props.creatorName)]);case 'page_admin_note':return i._("This was noted by someone from {page}.",[i.param('page',this.props.creatorName)]);}return null};m.prototype.getGrayAccountText=function(){switch(this.props.labelType){case 'commented':return i._("This was commented on by someone who doesn't have a personal Facebook account.");case 'edited_comment':return i._("This was edited by someone who doesn't have a personal Facebook account.");case 'sent_message':return i._("This was sent by someone who doesn't have a personal Facebook account.");case 'page_admin_note':return i._("This was noted by someone who doesn't have a personal Facebook account.");}return null};m.prototype.getHelpText=function(){switch(this.props.labelType){case 'commented':return i._("Only people who manage this Page can see who posted a comment");case 'edited_comment':return i._("Only people who manage this Page can see who edited a comment");case 'sent_message':return i._("Only people who manage this Page can see who sent a message");case 'page_admin_note':return i._("Only people who manage this Page can see who created a note");}return null};function m(){j.apply(this,arguments)}m.propTypes={creatorID:l.string.isRequired,creatorType:l.string.isRequired,creatorName:l.string.isRequired,labelType:l.string.isRequired,pageID:l.string.isRequired,profileURI:l.string};f.exports=m}),null);
__d('PagesMessengerCreatorInfo.react',['cx','React','UFICreatorInfo.react','XUIGrayText.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){return c('React').createElement(c('XUIGrayText.react'),{className:"_ajk"+(this.props.isNote?' '+"_45l2":''),display:'inline',shade:'light',size:'small'},c('React').createElement(c('UFICreatorInfo.react'),{creatorID:this.props.creator_info.creatorID,creatorType:this.props.creator_info.creatorType,creatorName:this.props.creator_info.creatorName,labelType:this.props.creator_info.labelType,pageID:this.props.creator_info.pageID,profileURI:this.props.creator_info.profileURI}))};function l(){i.apply(this,arguments)}l.propTypes={creator_info:k.shape({creatorID:k.string.isRequired,creatorName:k.string.isRequired,creatorType:k.string.isRequired,labelType:k.string.isRequired,pageID:k.string.isRequired,profileURI:k.string}).isRequired};f.exports=l}),null);
__d('PhotoResizeMath',[],(function a(b,c,d,e,f,g){var h={getScaledPhotoDimensions:function i(j,k,l,m,n){var o=j/k,p=l/m;if(l&&m&&n==='stretch')return {width:l,height:m};if(!l&&m||n==='contain'!==o>=p)return {width:m*o,height:m};if(l)return {width:l,height:l/o};return {width:j,height:k}}};f.exports=h}),null);
__d('PixelzFocus',[],(function a(b,c,d,e,f,g){'use strict';var h={search:function i(j,k){var l=0,m=j.length-1;while(l<=m){var n=l+Math.floor((m-l)/2),o=j[n];if(o>k){m=n-1}else if(o<k){l=n+1}else return n;}return Math.min(l,m)},forceSpecificPoint:function i(j,k,l){var m=1e-9,n=h.search(j,k-l-m)+1,o=h.search(j,k+l);return j.slice(n,o+1)},findBiggestSets:function i(j,k){var l=[],m=-1;for(var n=0;n<j.length;++n){var o=j[n],p=n,q=h.search(j,o+k),r=q-p;if(r>m)l=[];if(r>=m){m=r;l.push({low:p,high:q})}}return l},getBestSet:function i(j,k,l){var m=-1,n=null;for(var o=0;o<k.length;++o){var p=k[o],q=j[p.low],r=j[p.high],s=q+(r-q)/2,t=Math.min(q-(s-l),s+l-r);if(t>m){m=t;n=p}}return n},getFocusFromSet:function i(j,k){var l=j[k.low],m=j[k.high];return l+(m-l)/2},clampFocus:function i(j,k){var l=k/2,m=1-k/2;if(j<l)return l;if(j>m)return m;return j},convertFromCenterToCSS:function i(j,k){if(Math.abs(1-k)<1e-5)return 0;return (j-k/2)/(1-k)},convertFromCSSToCenter:function i(j,k){return j*(1-k)+k/2},getVisible:function i(j,k){if(j<k)return j/k;return k/j},getHidden:function i(j,k){return 1-h.getVisible(j,k)},focusHorizontally:function i(j,k){return j<k},convertVectorFromCenterToCSS:function i(j,k,l){var m=h.focusHorizontally(k,l),n=void 0;if(m){n=j.x/100}else n=j.x/100;var o=h.convertFromCenterToCSS(n,h.getVisible(k,l));if(m){return {x:o,y:0}}else return {x:0,y:o};},getCropRect:function i(j,k,l){var m=h.focusHorizontally(k,l),n=h.getVisible(k,l);if(m){var o=(1-n)*j.x;return {left:o,top:0,width:n,height:1}}else{var p=(1-n)*j.y;return {left:0,top:p,width:1,height:n}}}};f.exports=h}),null);
__d('loadImage',['Promise'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=new Image();k.onload=function(){j(k.width,k.height,k)};k.src=i}h.loadImagePromise=function(i){return new (c('Promise'))(function(j,k){var l=new Image();l.onerror=k;l.onload=function(){return j(l)};l.src=i})};f.exports=h}),null);
__d('Pixelz.react',['cx','loadImage','joinClasses','React','PhotoResizeMath','PixelzFocus'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'Pixelz',propTypes:{width:i.number,height:i.number,resizeMode:i.oneOf(['contain','cover','stretch']),alt:i.string,letterbox:i.bool,borderRadius:i.number,insetBorderColor:i.string,animated:i.bool,upscale:i.bool,cropRect:function k(l,m,n){var o=l[m],p='Invalid prop `'+m+'` supplied to `'+n+'`, expected a rectangle with values normalized '+'between 0 and 1.';if(o.left<0||o.top<0||o.width<0||o.height<0||o.left+o.width>1||o.top+o.height>1)return new Error(p);},focus:function k(l,m,n){var o=l[m],p='Invalid prop `'+m+'` supplied to `'+n+'`, expected either a {x, y, type} vector where type '+'is `css` or `center` or an array of {x, y} vectors. All the vectors '+'have with values normalized between 0 and 1.';if(Array.isArray(o)){for(var q=0;q<o.length;++q)if(!(o[q].x>=0&&o[q].x<=1)||!(o[q].y>=0&&o[q].y<=1))return new Error(p);}else{if(!o.type)o.type='css';if(!(o.x>=0&&o.x<=1)||!(o.y>=0&&o.y<=1)||!['center','css'].includes(o.type))return new Error(p);}}},getDefaultProps:function k(){return {resizeMode:'cover',alt:'',letterbox:true,upscale:true,cropRect:{width:1,height:1,top:0,left:0},focus:{x:.5,y:.5,type:'css'}}},getInitialState:function k(){return {srcDimensions:{}}},getSrcDimensions:function k(){var l=this.props.src,m=this.state.srcDimensions[l];if(m)return m;c('loadImage')(l,function(n,o){var p={};p[l]={width:n,height:o};this.isMounted()&&this.setState({srcDimensions:p})}.bind(this));return null},getCropSrcDimensions:function k(){var l=this.getSrcDimensions();return {width:l.width*this.props.cropRect.width,height:l.height*this.props.cropRect.height}},getUpscaleCropDimensions:function k(){var l=this.getCropSrcDimensions();return c('PhotoResizeMath').getScaledPhotoDimensions(l.width,l.height,this.props.width,this.props.height,this.props.resizeMode)},getCropDimensions:function k(){var l=this.getUpscaleCropDimensions(),m=this.getCropSrcDimensions();if(!this.props.upscale)return {width:Math.min(l.width,m.width),height:Math.min(l.height,m.height)};return l},getCropAspectRatio:function k(){var l=this.getCropDimensions();return l.width/l.height},getContainerDimensions:function k(){if(this.props.letterbox&&this.props.width&&this.props.height)return {width:this.props.width,height:this.props.height};return this.getCropDimensions()},getContainerAspectRatio:function k(){var l=this.getContainerDimensions();return l.width/l.height},getContainerPosition:function k(){return {left:0,top:0}},getFocus:function k(){var l=this.props.focus;if(!Array.isArray(l)&&l.type==='css')return {x:l.x,y:l.y};var m=this.getContainerAspectRatio(),n=this.getCropAspectRatio(),o=c('PixelzFocus').getVisible(m,n),p=c('PixelzFocus').focusHorizontally(m,n),q=void 0;if(!Array.isArray(l)){q=c('PixelzFocus').convertFromCenterToCSS(p?l.x:l.y,o)}else{var r=l.map(function(u){return p?u.x:u.y});r.sort();var s=c('PixelzFocus').findBiggestSets(r,o),t=c('PixelzFocus').getBestSet(r,s,o);q=c('PixelzFocus').getFocusFromSet(r,t)}return {x:p?q:.5,y:p?.5:q}},getCropPosition:function k(){var l=this.getCropDimensions(),m=this.getContainerDimensions(),n=this.getFocus();return {left:n.x*(m.width-l.width),top:n.y*(m.height-l.height)}},getScaleDimensions:function k(){var l=this.getCropDimensions();return {width:l.width/this.props.cropRect.width,height:l.height/this.props.cropRect.height}},getScalePosition:function k(){var l=this.getScaleDimensions();return {left:-l.width*this.props.cropRect.left,top:-l.height*this.props.cropRect.top}},getClipCropRectangle:function k(){var l=this.getContainerDimensions(),m=this.getCropDimensions(),n=this.getContainerPosition(),o=this.getCropPosition(),p=Math.max(n.left,o.left),q=Math.max(n.top,o.top),r=Math.min(n.top+l.height,o.top+m.height),s=Math.min(n.left+l.width,o.left+m.width);return {left:p,top:q,width:s-p,height:r-q}},getClipCropPosition:function k(){var l=this.getClipCropRectangle();return {left:l.left,top:l.top}},getClipCropDimensions:function k(){var l=this.getClipCropRectangle();return {width:l.width,height:l.height}},getClipScalePosition:function k(){var l=this.getScalePosition(),m=this.getClipCropPosition(),n=this.getCropPosition();return {left:l.left+(n.left-m.left),top:l.top+(n.top-m.top)}},getClipScaleDimensions:function k(){return this.getScaleDimensions()},areDimensionsEqual:function k(l,m){return l.width===m.width&&l.height===m.height},shouldAddAllNodesAndStyles:function k(){return this.props.animated},hasCrop:function k(){if(this.shouldAddAllNodesAndStyles())return true;var l=this.getContainerDimensions(),m=this.getClipCropDimensions(),n=this.getClipScaleDimensions();if(this.areDimensionsEqual(l,m)||this.areDimensionsEqual(m,n))return false;return true},hasContainer:function k(){if(this.shouldAddAllNodesAndStyles()||this.hasInsetBorder())return true;var l=this.getContainerDimensions(),m=this.getClipScaleDimensions();if(this.areDimensionsEqual(l,m))return false;return true},hasInsetBorder:function k(){return this.shouldAddAllNodesAndStyles()||this.props.insetBorderColor},applyPositionStyle:function k(l,m){if(this.shouldAddAllNodesAndStyles()||m.left)l.left=Math.round(m.left);if(this.shouldAddAllNodesAndStyles()||m.top)l.top=Math.round(m.top);},applyDimensionsStyle:function k(l,m){l.width=Math.round(m.width);l.height=Math.round(m.height)},applyBorderRadiusStyle:function k(l){if(this.shouldAddAllNodesAndStyles()||this.props.borderRadius)l.borderRadius=this.props.borderRadius||0;},getScaleStyle:function k(){var l={},m=this.getClipCropDimensions(),n=this.getClipScaleDimensions();if(this.shouldAddAllNodesAndStyles()||!this.areDimensionsEqual(m,n)){this.applyPositionStyle(l,this.getClipScalePosition())}else this.applyPositionStyle(l,this.getClipCropPosition());this.applyDimensionsStyle(l,this.getClipScaleDimensions());this.applyBorderRadiusStyle(l);return l},getCropStyle:function k(){var l={};this.applyPositionStyle(l,this.getClipCropPosition());this.applyDimensionsStyle(l,this.getClipCropDimensions());this.applyBorderRadiusStyle(l);return l},getInsetBorderStyle:function k(){var l={borderColor:this.props.insetBorderColor||'transparent'};this.applyPositionStyle(l,this.getClipCropPosition());this.applyDimensionsStyle(l,this.getClipCropDimensions());this.applyBorderRadiusStyle(l);return l},getContainerStyle:function k(){var l={};this.applyDimensionsStyle(l,this.getContainerDimensions());this.applyBorderRadiusStyle(l);return l},getScale:function k(){var l=this.getScaleStyle(),m=l.width,n=l.height;l=babelHelpers['extends']({},l);delete l.width;delete l.height;return c('React').createElement('img',babelHelpers['extends']({},this.props,{alt:this.props.alt,className:c('joinClasses')(this.props.className,"_56wb"+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":'')),src:this.props.src,style:babelHelpers['extends']({},this.props.style||{},l),width:m,height:n}))},getCrop:function k(){var l=this.getScale();if(!this.hasCrop())return l;return c('React').createElement('div',{className:"_56ma"+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":''),style:this.getCropStyle()},l)},getInsetBorder:function k(){if(!this.hasInsetBorder())return null;return c('React').createElement('div',{className:"_56lv"+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":''),style:this.getInsetBorderStyle()})},getContainer:function k(){var l=this.getCrop();if(!this.hasContainer())return l;var m=this.getInsetBorder();return c('React').createElement('div',{className:"_56jj"+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":''),'data-skipchecker':null,style:this.getContainerStyle()},l,m)},render:function k(){var l=this.getSrcDimensions();if(!l)return c('React').createElement('span',{'data-skipchecker':null});return this.getContainer()}});f.exports=j}),null);
__d("MessengerGraphQLTypeaheadAdapter_game.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MessengerGraphQLTypeaheadAdapter_game",selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"GamesInstantPlayStyleInfo",name:"instant_game_info",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"icon_uri",storageKey:null}],storageKey:null}],type:"Application"};f.exports=h}),null);
__d("MessengerGraphQLTypeaheadAdapter_group.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MessengerGraphQLTypeaheadAdapter_group",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessageThreadKey",name:"thread_key",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"thread_fbid",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"Image",name:"image",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_group_thread",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"first",value:250,type:"Int"}],concreteType:"MessagingParticipantsOfThreadConnection",name:"other_participants",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessagingParticipant",name:"node",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"messaging_actor",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,args:null,name:"is_messenger_user",storageKey:null}]}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"other_participants{\"first\":250}"}],type:"MessageThread"};f.exports=h}),null);
__d("MessengerGraphQLTypeaheadAdapter_page.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MessengerGraphQLTypeaheadAdapter_page",selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",name:"profile_picture",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:"profile_picture{\"height\":32,\"width\":32}"},{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_messenger_user",storageKey:null}],type:"Page"};f.exports=h}),null);
__d("MessengerGraphQLTypeaheadAdapter_user.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MessengerGraphQLTypeaheadAdapter_user",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"Contact",name:"messenger_contact",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"is_on_viewer_contact_list",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_memorialized",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_viewer_friend",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_viewer_coworker",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",name:"profile_picture",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:"profile_picture{\"height\":32,\"width\":32}"},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_messenger_user",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_work_user",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"viewer_affinity",storageKey:null},{kind:"LinkedField",alias:"members",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",name:"aloha_proxy_user_owners",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"node",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:"name",args:null,name:"aloha_user_name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"aloha_proxy_user_owners{\"first\":10}"}],type:"User"};f.exports=h}),null);
__d("MessengerGraphQLTypeaheadViewQuery.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={fragment:{argumentDefinitions:[{kind:"LocalArgument",name:"queryString",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"canViewerSendMoneyFilter",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"localEntryIDs",type:"[ID]!",defaultValue:null},{kind:"LocalArgument",name:"maxThreadResults",type:"Int!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryPages",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryThreadName",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryParticipantIDs",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryParticipantNames",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryVCEndpoint",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryInternalBot",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryRoomsAudience",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"threadFBID",type:"ID!",defaultValue:null}],kind:"Fragment",metadata:null,name:"MessengerGraphQLTypeaheadViewQuery",selections:[{kind:"LinkedField",alias:"profiles",args:[{kind:"Variable",name:"query",variableName:"queryString",type:"String!"}],concreteType:"SearchableEntitiesQuery",name:"entities_named",plural:false,selections:[{kind:"FragmentSpread",name:"MessengerTypeaheadResultView_profiles",args:null}],storageKey:null},{kind:"LinkedField",alias:"groups",args:null,concreteType:"Viewer",name:"__viewer_viewer",plural:false,selections:[{kind:"FragmentSpread",name:"MessengerTypeaheadResultView_groups",args:null}],storageKey:null},{kind:"Condition",passingValue:true,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"roomAudience",args:[{kind:"Variable",name:"id",variableName:"threadFBID",type:"ID!"}],concreteType:"MessageThread",name:"message_thread",plural:false,selections:[{kind:"FragmentSpread",name:"MessengerTypeaheadResultView_roomAudience",args:null}],storageKey:null}]}],type:"Query"},id:"1579694712093779",kind:"Batch",metadata:{},name:"MessengerGraphQLTypeaheadViewQuery",query:{argumentDefinitions:[{kind:"LocalArgument",name:"queryString",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"canViewerSendMoneyFilter",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"localEntryIDs",type:"[ID]!",defaultValue:null},{kind:"LocalArgument",name:"maxThreadResults",type:"Int!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryPages",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryThreadName",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryParticipantIDs",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryParticipantNames",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryVCEndpoint",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryInternalBot",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryRoomsAudience",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"threadFBID",type:"ID!",defaultValue:null}],kind:"Root",name:"MessengerGraphQLTypeaheadViewQuery",operation:"query",selections:[{kind:"LinkedField",alias:"profiles",args:[{kind:"Variable",name:"query",variableName:"queryString",type:"String!"}],concreteType:"SearchableEntitiesQuery",name:"entities_named",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"Condition",passingValue:true,condition:"shouldQueryInternalBot",selections:[{kind:"LinkedField",alias:"internal_bot_results",args:[{kind:"Literal",name:"first",value:20,type:"Int"},{kind:"Literal",name:"internal_bot",value:true,type:"Boolean"}],concreteType:"SearchableResultsConnection",name:"search_results",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"SearchableResultsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"node",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"InlineFragment",type:"Page",selections:[{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",name:"profile_picture",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:"profile_picture{\"height\":32,\"width\":32}"},{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_messenger_user",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"category_type",storageKey:null}]}],storageKey:null}],storageKey:null}],storageKey:"search_results{\"first\":20,\"internal_bot\":true}"}]},{kind:"Condition",passingValue:true,condition:"shouldQueryVCEndpoint",selections:[{kind:"LinkedField",alias:"vc_results",args:[{kind:"Literal",name:"first",value:20,type:"Int"},{kind:"Literal",name:"vc_endpoint",value:true,type:"Boolean"}],concreteType:"SearchableResultsConnection",name:"search_results",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"SearchableResultsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"node",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"InlineFragment",type:"Page",selections:[{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",name:"profile_picture",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:"profile_picture{\"height\":32,\"width\":32}"},{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_messenger_user",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"category_type",storageKey:null}]}],storageKey:null}],storageKey:null}],storageKey:"search_results{\"first\":20,\"vc_endpoint\":true}"}]},{kind:"Condition",passingValue:true,condition:"shouldQueryPages",selections:[{kind:"LinkedField",alias:"page_results",args:[{kind:"Literal",name:"first",value:5,type:"Int"},{kind:"Literal",name:"include_games",value:true,type:"Boolean"},{kind:"Literal",name:"messenger_commerce",value:true,type:"Boolean"}],concreteType:"SearchableResultsConnection",name:"search_results",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"SearchableResultsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"node",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"InlineFragment",type:"Application",selections:[{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"GamesInstantPlayStyleInfo",name:"instant_game_info",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"icon_uri",storageKey:null}],storageKey:null}]},{kind:"InlineFragment",type:"Page",selections:[{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",name:"profile_picture",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:"profile_picture{\"height\":32,\"width\":32}"},{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_messenger_user",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"category_type",storageKey:null}]}],storageKey:null}],storageKey:null}],storageKey:"search_results{\"first\":5,\"include_games\":true,\"messenger_commerce\":true}"}]},{kind:"Condition",passingValue:false,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"user_results",args:[{kind:"Variable",name:"can_viewer_send_money",variableName:"canViewerSendMoneyFilter",type:"Boolean"},{kind:"Literal",name:"first",value:20,type:"Int"},{kind:"Literal",name:"include_messenger_only_results_for_web_messenger",value:true,type:"Boolean"},{kind:"Literal",name:"of_type",value:["user"],type:"[SearchEntityType]"}],concreteType:"SearchableResultsConnection",name:"search_results",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"SearchableResultsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"node",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"Contact",name:"messenger_contact",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"is_on_viewer_contact_list",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_memorialized",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_viewer_friend",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_viewer_coworker",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",name:"profile_picture",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:"profile_picture{\"height\":32,\"width\":32}"},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_messenger_user",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_work_user",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"viewer_affinity",storageKey:null},{kind:"LinkedField",alias:"members",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",name:"aloha_proxy_user_owners",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"node",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:"name",args:null,name:"aloha_user_name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"aloha_proxy_user_owners{\"first\":10}"}]}],storageKey:null}],storageKey:null}],storageKey:null}]}],storageKey:null},{kind:"LinkedField",alias:"groups",args:null,concreteType:"Viewer",name:"viewer",plural:false,selections:[{kind:"Condition",passingValue:true,condition:"shouldQueryParticipantNames",selections:[{kind:"LinkedField",alias:"threads_matching_participant_names",args:[{kind:"Variable",name:"last",variableName:"maxThreadResults",type:"Int"},{kind:"Literal",name:"with_group",value:true,type:"Boolean"},{kind:"Variable",name:"with_participants",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",name:"message_threads",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"ViewerMessageThreadsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessageThread",name:"node",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessageThreadKey",name:"thread_key",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"thread_fbid",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"Image",name:"image",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_group_thread",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"first",value:250,type:"Int"}],concreteType:"MessagingParticipantsOfThreadConnection",name:"other_participants",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessagingParticipant",name:"node",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"messaging_actor",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,args:null,name:"is_messenger_user",storageKey:null}]}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"other_participants{\"first\":250}"},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},{kind:"Condition",passingValue:true,condition:"shouldQueryParticipantIDs",selections:[{kind:"LinkedField",alias:"threads_matching_participant_ids",args:[{kind:"Variable",name:"last",variableName:"maxThreadResults",type:"Int"},{kind:"Variable",name:"with_participant_ids",variableName:"localEntryIDs",type:"[ID]"}],concreteType:"ViewerMessageThreadsConnection",name:"message_threads",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"ViewerMessageThreadsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessageThread",name:"node",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessageThreadKey",name:"thread_key",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"thread_fbid",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"Image",name:"image",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_group_thread",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"first",value:250,type:"Int"}],concreteType:"MessagingParticipantsOfThreadConnection",name:"other_participants",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessagingParticipant",name:"node",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"messaging_actor",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,args:null,name:"is_messenger_user",storageKey:null}]}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"other_participants{\"first\":250}"},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},{kind:"Condition",passingValue:true,condition:"shouldQueryThreadName",selections:[{kind:"LinkedField",alias:"threads_matching_name",args:[{kind:"Variable",name:"last",variableName:"maxThreadResults",type:"Int"},{kind:"Variable",name:"with_thread_name",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",name:"message_threads",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"ViewerMessageThreadsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessageThread",name:"node",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessageThreadKey",name:"thread_key",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"thread_fbid",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"Image",name:"image",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_group_thread",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"first",value:250,type:"Int"}],concreteType:"MessagingParticipantsOfThreadConnection",name:"other_participants",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessagingParticipant",name:"node",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"messaging_actor",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,args:null,name:"is_messenger_user",storageKey:null}]}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"other_participants{\"first\":250}"},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]}],storageKey:null},{kind:"LinkedHandle",alias:"groups",args:null,handle:"viewer",name:"viewer",key:"",filters:null},{kind:"Condition",passingValue:true,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"roomAudience",args:[{kind:"Variable",name:"id",variableName:"threadFBID",type:"ID!"}],concreteType:"MessageThread",name:"message_thread",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"Condition",passingValue:true,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"user_results",args:[{kind:"Literal",name:"first",value:10,type:"Int"},{kind:"Variable",name:"named",variableName:"queryString",type:"String"}],concreteType:"AllAudienceListOfMessageThreadConnection",name:"messaging_audience_list",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AllAudienceListOfMessageThreadEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"node",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"Contact",name:"messenger_contact",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"is_on_viewer_contact_list",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_memorialized",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_viewer_friend",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_viewer_coworker",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",name:"profile_picture",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:"profile_picture{\"height\":32,\"width\":32}"},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_messenger_user",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_work_user",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"viewer_affinity",storageKey:null},{kind:"LinkedField",alias:"members",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",name:"aloha_proxy_user_owners",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"node",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:"name",args:null,name:"aloha_user_name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"aloha_proxy_user_owners{\"first\":10}"}]}],storageKey:null}],storageKey:null}],storageKey:null}]}],storageKey:null}]}]},text:null};f.exports=h}),null);
__d("MessengerTypeaheadResultView_groups.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={argumentDefinitions:[{kind:"RootArgument",name:"queryString",type:"String"},{kind:"RootArgument",name:"maxThreadResults",type:"Int"},{kind:"RootArgument",name:"shouldQueryThreadName",type:"Boolean"},{kind:"RootArgument",name:"localEntryIDs",type:"[ID]"},{kind:"RootArgument",name:"shouldQueryParticipantIDs",type:"Boolean"},{kind:"RootArgument",name:"shouldQueryParticipantNames",type:"Boolean"}],kind:"Fragment",metadata:null,name:"MessengerTypeaheadResultView_groups",selections:[{kind:"Condition",passingValue:true,condition:"shouldQueryParticipantNames",selections:[{kind:"LinkedField",alias:"threads_matching_participant_names",args:[{kind:"Variable",name:"last",variableName:"maxThreadResults",type:"Int"},{kind:"Literal",name:"with_group",value:true,type:"Boolean"},{kind:"Variable",name:"with_participants",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",name:"message_threads",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"ViewerMessageThreadsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessageThread",name:"node",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessageThreadKey",name:"thread_key",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"thread_fbid",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"Image",name:"image",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_group_thread",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"first",value:250,type:"Int"}],concreteType:"MessagingParticipantsOfThreadConnection",name:"other_participants",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessagingParticipant",name:"node",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"messaging_actor",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,args:null,name:"is_messenger_user",storageKey:null}]}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"other_participants{\"first\":250}"}],storageKey:null}],storageKey:null}],storageKey:null}]},{kind:"Condition",passingValue:true,condition:"shouldQueryParticipantIDs",selections:[{kind:"LinkedField",alias:"threads_matching_participant_ids",args:[{kind:"Variable",name:"last",variableName:"maxThreadResults",type:"Int"},{kind:"Variable",name:"with_participant_ids",variableName:"localEntryIDs",type:"[ID]"}],concreteType:"ViewerMessageThreadsConnection",name:"message_threads",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"ViewerMessageThreadsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessageThread",name:"node",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessageThreadKey",name:"thread_key",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"thread_fbid",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"Image",name:"image",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_group_thread",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"first",value:250,type:"Int"}],concreteType:"MessagingParticipantsOfThreadConnection",name:"other_participants",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessagingParticipant",name:"node",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"messaging_actor",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,args:null,name:"is_messenger_user",storageKey:null}]}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"other_participants{\"first\":250}"}],storageKey:null}],storageKey:null}],storageKey:null}]},{kind:"Condition",passingValue:true,condition:"shouldQueryThreadName",selections:[{kind:"LinkedField",alias:"threads_matching_name",args:[{kind:"Variable",name:"last",variableName:"maxThreadResults",type:"Int"},{kind:"Variable",name:"with_thread_name",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",name:"message_threads",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"ViewerMessageThreadsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessageThread",name:"node",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessageThreadKey",name:"thread_key",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"thread_fbid",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"Image",name:"image",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_group_thread",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"first",value:250,type:"Int"}],concreteType:"MessagingParticipantsOfThreadConnection",name:"other_participants",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"MessagingParticipant",name:"node",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"messaging_actor",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,args:null,name:"is_messenger_user",storageKey:null}]}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"other_participants{\"first\":250}"}],storageKey:null}],storageKey:null}],storageKey:null}]}],type:"Viewer"};f.exports=h}),null);
__d("MessengerTypeaheadResultView_profiles.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={argumentDefinitions:[{kind:"RootArgument",name:"canViewerSendMoneyFilter",type:"Boolean"},{kind:"RootArgument",name:"shouldQueryRoomsAudience",type:"Boolean"},{kind:"RootArgument",name:"shouldQueryPages",type:"Boolean"},{kind:"RootArgument",name:"shouldQueryVCEndpoint",type:"Boolean"},{kind:"RootArgument",name:"shouldQueryInternalBot",type:"Boolean"}],kind:"Fragment",metadata:null,name:"MessengerTypeaheadResultView_profiles",selections:[{kind:"Condition",passingValue:true,condition:"shouldQueryInternalBot",selections:[{kind:"LinkedField",alias:"internal_bot_results",args:[{kind:"Literal",name:"first",value:20,type:"Int"},{kind:"Literal",name:"internal_bot",value:true,type:"Boolean"}],concreteType:"SearchableResultsConnection",name:"search_results",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"SearchableResultsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"node",plural:false,selections:[{kind:"InlineFragment",type:"Page",selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",name:"profile_picture",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:"profile_picture{\"height\":32,\"width\":32}"},{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_messenger_user",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"category_type",storageKey:null}]}],storageKey:null}],storageKey:null}],storageKey:"search_results{\"first\":20,\"internal_bot\":true}"}]},{kind:"Condition",passingValue:true,condition:"shouldQueryVCEndpoint",selections:[{kind:"LinkedField",alias:"vc_results",args:[{kind:"Literal",name:"first",value:20,type:"Int"},{kind:"Literal",name:"vc_endpoint",value:true,type:"Boolean"}],concreteType:"SearchableResultsConnection",name:"search_results",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"SearchableResultsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"node",plural:false,selections:[{kind:"InlineFragment",type:"Page",selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",name:"profile_picture",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:"profile_picture{\"height\":32,\"width\":32}"},{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_messenger_user",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"category_type",storageKey:null}]}],storageKey:null}],storageKey:null}],storageKey:"search_results{\"first\":20,\"vc_endpoint\":true}"}]},{kind:"Condition",passingValue:true,condition:"shouldQueryPages",selections:[{kind:"LinkedField",alias:"page_results",args:[{kind:"Literal",name:"first",value:5,type:"Int"},{kind:"Literal",name:"include_games",value:true,type:"Boolean"},{kind:"Literal",name:"messenger_commerce",value:true,type:"Boolean"}],concreteType:"SearchableResultsConnection",name:"search_results",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"SearchableResultsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"node",plural:false,selections:[{kind:"InlineFragment",type:"Application",selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"GamesInstantPlayStyleInfo",name:"instant_game_info",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"icon_uri",storageKey:null}],storageKey:null}]},{kind:"InlineFragment",type:"Page",selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",name:"profile_picture",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:"profile_picture{\"height\":32,\"width\":32}"},{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_messenger_user",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"category_type",storageKey:null}]}],storageKey:null}],storageKey:null}],storageKey:"search_results{\"first\":5,\"include_games\":true,\"messenger_commerce\":true}"}]},{kind:"Condition",passingValue:false,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"user_results",args:[{kind:"Variable",name:"can_viewer_send_money",variableName:"canViewerSendMoneyFilter",type:"Boolean"},{kind:"Literal",name:"first",value:20,type:"Int"},{kind:"Literal",name:"include_messenger_only_results_for_web_messenger",value:true,type:"Boolean"},{kind:"Literal",name:"of_type",value:["user"],type:"[SearchEntityType]"}],concreteType:"SearchableResultsConnection",name:"search_results",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"SearchableResultsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"node",plural:false,selections:[{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"Contact",name:"messenger_contact",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"is_on_viewer_contact_list",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_memorialized",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_viewer_friend",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_viewer_coworker",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",name:"profile_picture",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:"profile_picture{\"height\":32,\"width\":32}"},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_messenger_user",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_work_user",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"viewer_affinity",storageKey:null},{kind:"LinkedField",alias:"members",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",name:"aloha_proxy_user_owners",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"node",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:"name",args:null,name:"aloha_user_name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"aloha_proxy_user_owners{\"first\":10}"}]}],storageKey:null}],storageKey:null}],storageKey:null}]}],type:"SearchableEntitiesQuery"};f.exports=h}),null);
__d("MessengerTypeaheadResultView_roomAudience.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={argumentDefinitions:[{kind:"RootArgument",name:"queryString",type:"String"},{kind:"RootArgument",name:"shouldQueryRoomsAudience",type:"Boolean"}],kind:"Fragment",metadata:null,name:"MessengerTypeaheadResultView_roomAudience",selections:[{kind:"Condition",passingValue:true,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"user_results",args:[{kind:"Literal",name:"first",value:10,type:"Int"},{kind:"Variable",name:"named",variableName:"queryString",type:"String"}],concreteType:"AllAudienceListOfMessageThreadConnection",name:"messaging_audience_list",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AllAudienceListOfMessageThreadEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"node",plural:false,selections:[{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"Contact",name:"messenger_contact",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"is_on_viewer_contact_list",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_memorialized",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_viewer_friend",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_viewer_coworker",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",name:"profile_picture",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:"profile_picture{\"height\":32,\"width\":32}"},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_messenger_user",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"is_work_user",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"viewer_affinity",storageKey:null},{kind:"LinkedField",alias:"members",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",name:"aloha_proxy_user_owners",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"node",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:"name",args:null,name:"aloha_user_name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"aloha_proxy_user_owners{\"first\":10}"}]}],storageKey:null}],storageKey:null}],storageKey:null}]}],type:"MessageThread"};f.exports=h}),null);
__d('MessengerAdsWebTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('messenger_ads_web:MessengerAdsWebLoggerConfig',this.$MessengerAdsWebTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('messenger_ads_web:MessengerAdsWebLoggerConfig',this.$MessengerAdsWebTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$MessengerAdsWebTypedLogger1={};return this};h.prototype.updateData=function(j){this.$MessengerAdsWebTypedLogger1=babelHelpers['extends']({},this.$MessengerAdsWebTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$MessengerAdsWebTypedLogger1.event=j;return this};h.prototype.setIsSponsored=function(j){this.$MessengerAdsWebTypedLogger1.is_sponsored=j;return this};h.prototype.setItemID=function(j){this.$MessengerAdsWebTypedLogger1.item_id=j;return this};h.prototype.setMessageID=function(j){this.$MessengerAdsWebTypedLogger1.message_id=j;return this};h.prototype.setMessageTimestamp=function(j){this.$MessengerAdsWebTypedLogger1.message_timestamp=j;return this};h.prototype.setPageID=function(j){this.$MessengerAdsWebTypedLogger1.page_id=j;return this};h.prototype.setVC=function(j){this.$MessengerAdsWebTypedLogger1.vc=j;return this};var i={event:true,is_sponsored:true,item_id:true,message_id:true,message_timestamp:true,page_id:true,vc:true};f.exports=h}),null);
__d('MessengerSharedPhoto.react',['React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$MessengerSharedPhoto1=function(q){q.preventDefault();this.props.onClick(this.props.fbid)}.bind(this),m}k.prototype.render=function(){return c('React').createElement('a',{className:this.props.className,href:this.props.uri,onClick:this.$MessengerSharedPhoto1,style:{backgroundImage:'url('+this.props.uri+')'}})};k.propTypes={className:j.string.isRequired,fbid:j.string.isRequired,onClick:j.func.isRequired,uri:j.string.isRequired};f.exports=k}),null);
__d('ChatPhotoViewFooterHScroll.react',['cx','Animation','MessengerSharedPhoto.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=200,m=74,n=140,o=30;i=babelHelpers.inherits(p,c('React').Component);j=i&&i.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=j.constructor).call.apply(q,[this].concat(t)),this.$ChatPhotoViewFooterHScroll1=null,this.state={currentPhoto:'',prevScrollLeft:0,scrollLeft:0},this.$ChatPhotoViewFooterHScroll2=function(v){return v?Math.ceil((v-n*2)/m):o},r}p.prototype.componentDidMount=function(){if(this.props.width)this.props.updateNumberInOneBatch(this.$ChatPhotoViewFooterHScroll2(this.props.width));this.$ChatPhotoViewFooterHScroll1=new (c('Animation'))(this.refs.childContainer).to('scrollLeft',0).duration(l).go()};p.prototype.componentWillReceiveProps=function(q){if(q.photoID!=this.state.currentPhoto||this.props.sharedPhotos.length!==q.sharedPhotos.length){var r=q.width?(q.width-m)/2-n:0,s=q.sharedPhotos.findIndex(function(t){return t.node.id===q.photoID});this.setState({currentPhoto:q.photoID,prevScrollLeft:this.state.scrollLeft,scrollLeft:s*m-r})}if(q.width!=this.props.width)this.props.updateNumberInOneBatch(this.$ChatPhotoViewFooterHScroll2(q.width));};p.prototype.componentDidUpdate=function(){if(this.$ChatPhotoViewFooterHScroll1)this.$ChatPhotoViewFooterHScroll1.from('scrollLeft',this.state.prevScrollLeft).to('scrollLeft',this.state.scrollLeft).duration(l).go();};p.prototype.componentWillUnmount=function(){this.$ChatPhotoViewFooterHScroll1&&this.$ChatPhotoViewFooterHScroll1.stop()};p.prototype.shouldComponentUpdate=function(q,r){if(q.photoID!=this.state.currentPhoto||q.sharedPhotos.length!==this.props.sharedPhotos.length)return true;return false};p.prototype.render=function(){var q=this.props.sharedPhotos,r=q.map(function(s){return c('React').createElement('div',{className:"_1oyb",key:s.node.legacy_attachment_id},c('React').createElement(c('MessengerSharedPhoto.react'),{className:"_1oyc"+(this.state.currentPhoto!==s.node.id?' '+"_1oyd":''),fbid:s.node.legacy_attachment_id,onClick:this.props.onScroll,photoID:s.node.id,uri:s.node.image1.uri}))}.bind(this));return c('React').createElement('div',{className:"_1oye"},c('React').createElement('div',{className:"_1oyf",ref:'childContainer'},c('React').createElement('div',{className:"_1oyh",ref:'scrollable'},r)))};p.propTypes={onScroll:k.func,photoID:k.string,sharedPhotos:k.array,updateNumberInOneBatch:k.func,width:k.number};f.exports=p}),null);
__d("XForwardingNUXSeenController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/chat\/forwarding_nux_seen\/",{})}),null);
__d('MessagingForwardingButtonNUX.react',['AsyncRequest','ChatConfig','React','XForwardingNUXSeenController','XUIAmbientNUX.react'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={showNUX:!c('ChatConfig').get('seen_forwarding_nux')},this.$MessagingForwardingButtonNUX1=function(){if(!this.state.showNUX)return;c('ChatConfig').set('seen_forwarding_nux',true);new (c('AsyncRequest'))(c('XForwardingNUXSeenController').getURIBuilder().getURI()).send();this.setState({showNUX:false})}.bind(this),this.close=function(){this.$MessagingForwardingButtonNUX1()}.bind(this),m}k.prototype.render=function(){'use strict';return c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:this.props.contextRef,onCloseButtonClick:this.$MessagingForwardingButtonNUX1,position:'left',width:'auto',shown:this.state.showNUX},this.props.children)};k.propTypes={contextRef:j.func.isRequired};f.exports=k}),null);
__d('MessengerPhotoViewCloseLink.react',['cx','fbt','React','TooltipLink.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=function l(m){var n=m.customTooltip!==undefined?m.customTooltip:c('React').createElement('span',null,i._("Press Esc to close"));return c('React').createElement(c('TooltipLink.react'),{className:"_51ok _50-m _51an",onClick:m.onClick,tooltip:n},c('React').createElement('div',{className:"_387s"}))};k.propTypes={onClick:j.func,customTooltip:j.element};f.exports=k}),null);
__d('SpotlightViewerBottomBarLink',['cx','Link.react','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';var l=this.props.className||"_4_8j _4_8k";return c('React').createElement(c('Link.react'),babelHelpers['extends']({},this.props,{className:l}),this.props.children)};function k(){'use strict';i.apply(this,arguments)}f.exports=k}),null);
__d('ChatPhotoViewHeader.react',['cx','fbt','MessagingForwardingButtonNUX.react','MessengerPhotoViewCloseLink.react','React','SpotlightViewerBottomBarLink','WorkModeConfig'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$ChatPhotoViewHeader3=function(){this.$ChatPhotoViewHeader2();this.props.showForwardDialog&&this.props.showForwardDialog()}.bind(this),this.$ChatPhotoViewHeader4=function(){this.$ChatPhotoViewHeader2();this.props.showShareDialog&&this.props.showShareDialog()}.bind(this),o}m.prototype.render=function(){return c('React').createElement('div',{className:"_51an _50-m _3h_t _5l-3",role:'banner'},this.$ChatPhotoViewHeader1(),c('React').createElement(c('MessengerPhotoViewCloseLink.react'),{onClick:this.props.onClose}))};m.prototype.$ChatPhotoViewHeader2=function(){if(this.refs.forwardNUX)this.refs.forwardNUX.close();};m.prototype.$ChatPhotoViewHeader1=function(){var n=void 0,o=void 0,p=void 0;if(!this.props.disableForward){n=c('React').createElement(c('SpotlightViewerBottomBarLink'),{className:"_3h_u",onClick:this.$ChatPhotoViewHeader3,ref:'forwardButton'},c('React').createElement('div',{className:"_3h_v _3h_w"}),i._("Forward"));o=c('React').createElement(c('MessagingForwardingButtonNUX.react'),{contextRef:function(){return this.refs.forwardButton}.bind(this),ref:'forwardNUX'},i._("Send this image to other people in separate messages."))}if(this.props.enableShareToFB)p=c('React').createElement('div',{className:"_3h_u",onClick:this.$ChatPhotoViewHeader4,ref:'shareButton',role:'button',tabIndex:'0'},c('React').createElement('div',{className:"_3tth _3h_w"}),this.$ChatPhotoViewHeader5());return c('React').createElement('div',{key:'buttonsContainer',ref:'buttons'},c('React').createElement(c('SpotlightViewerBottomBarLink'),{className:"_3h_u",rel:'async',ajaxify:this.props.url,ref:'downloadButton'},c('React').createElement('div',{className:"_3h_x _3h_w"}),i._("Download")),n,o,p,c('React').createElement('div',{className:"_3h_u",onClick:this.props.openInfo,ref:'moreInfo',role:'link',tabIndex:'0'},c('React').createElement('div',{className:"_3h_y _3h_w"}),i._("Info")))};m.prototype.$ChatPhotoViewHeader5=function(){if(c('WorkModeConfig').is_work_user){return i._("Share to Workplace")}else return i._("Share to Facebook");};m.propTypes={disableForward:l.bool,enableShareToFB:l.bool,onClose:l.func,openInfo:l.func,showForwardDialog:l.func,showShareDialog:l.func,url:l.object};f.exports=m}),null);
__d('ChatSpeakingSticker.react',['React','ReactDOM'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$ChatSpeakingSticker1=function(){var q=c('ReactDOM').findDOMNode(this.refs.stickerVideo);q.play()}.bind(this),m}k.prototype.render=function(){return c('React').createElement('div',{onClick:this.$ChatSpeakingSticker1,role:'presentation'},c('React').createElement('video',{height:this.props.videoSize.height,ref:"stickerVideo",width:this.props.videoSize.width},c('React').createElement('source',{src:this.props.videoURI})))};k.propTypes={videoURI:j.string.isRequired,videoSize:j.shape({height:j.number,width:j.number}).isRequired};f.exports=k}),null);
__d('EmojiSticker.react',['cx','Image.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.componentDidMount=function(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad()};l.prototype.render=function(){var m=this.props.emojiImage?this.props.emojiImage:c('React').createElement(c('Image.react'),{src:this.props.sourceURI});return c('React').createElement('div',{'aria-label':this.props.emoji,className:c('joinClasses')(this.props.className,"_383m"),tabIndex:'0'},m)};function l(){i.apply(this,arguments)}l.propTypes={emoji:k.string,emojiImage:k.any,onAttachmentLoad:k.func,sourceURI:k.string.isRequired};f.exports=l}),null);
__d('MercuryShareAttachmentReactShape',['React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=h.shape({share_id:h.string,description:h.string,media:h.shape({image:h.string,image_size:h.shape({height:h.number,width:h.number}),duration:h.number,playable:h.bool,source:h.string}),source:h.string,style_list:h.arrayOf(h.string),subattachments:h.array,target:h.object,title:h.string,properties:h.object,uri:h.string,action_links:h.array,messaging_attribution:h.shape({attribution_type:h.string,attribution_id:h.string,name:h.string,icon_url:h.string}),messenger_ctas:h.arrayOf(h.shape({id:h.string,page_id:h.string,action_title:h.string,action_url:h.string,action_open_type:h.number,is_high_confidence:h.bool,is_mutable_by_server:h.bool,user_confirmation:h.bool,native_url:h.string,is_disabled:h.bool,nested_ctas:h.array,webview_metadata:h.object}))}).isRequired;f.exports=i}),null);
__d('MercuryAnimatedShareSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props.isViewerSender?i._("You sent a GIF."):i._("{sender name} sent a GIF.",[i.param('sender name',this.props.senderName)]);return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("81849")}),o)};function n(){k.apply(this,arguments)}n.propTypes={isViewerSender:m.bool,senderName:m.oneOfType([m.string,m.object])};f.exports=n}),null);
__d('MercuryCrisisListingShareSnippet.react',['fbt','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement('span',null,this.props.isViewerSender?h._("You shared a post."):h._("{sender_name} shared a post.",[h.param('sender_name',this.props.senderName)]))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d('MercuryFallbackShareAttachmentSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=void 0;if(this.props.isViewerSender){o=i._("You sent a link.")}else o=i._("{sender name} sent a link.",[i.param('sender name',this.props.senderName)]);return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("86988")}),o)};function n(){k.apply(this,arguments)}n.propTypes={isViewerSender:m.bool,senderName:m.oneOfType([m.string,m.object])};f.exports=n}),null);
__d('MercuryFundraiserShareSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props.isViewerSender?i._("You shared a fundraiser"):i._("{sender name} shared a fundraiser",[i.param('sender name',this.props.senderName)]);return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("40052")}),o)};function n(){k.apply(this,arguments)}n.propTypes={isViewerSender:m.bool,senderName:m.oneOfType([m.string,m.object])};f.exports=n}),null);
__d('MercuryMessageLiveLocationShareAttachmentSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=void 0;if(this.props.isViewerSender){o=i._("You sent a live location.")}else o=i._("{sender name} sent a live location.",[i.param('sender name',this.props.senderName)]);return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("87068")}),o)};function n(){k.apply(this,arguments)}n.propTypes={isViewerSender:m.bool,senderName:m.oneOfType([m.string,m.object])};f.exports=n}),null);
__d('MercuryMessageLocationShareAttachmentSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=void 0;if(this.props.isViewerSender){o=i._("You sent a location.")}else o=i._("{sender name} sent a location.",[i.param('sender name',this.props.senderName)]);return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("87068")}),o)};function n(){k.apply(this,arguments)}n.propTypes={isViewerSender:m.bool,senderName:m.oneOfType([m.string,m.object])};f.exports=n}),null);
__d('MercuryMessengerInviteShareAttachmentSnippet.react',['cx','React','MercuryShareAttachmentReactShape'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement('span',{className:"_3l6h"},this.props.attachment.title)};function k(){i.apply(this,arguments)}k.propTypes={attachment:c('MercuryShareAttachmentReactShape')};f.exports=k}),null);
__d('MercuryMusicIntegrationAttachmentSnippet.react',['fbt','MercuryFallbackShareAttachmentSnippet.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=void 0,n=this.props.attachment.target;if(!n)return c('React').createElement(c('MercuryFallbackShareAttachmentSnippet.react'),this.props);var o=n.title,p=n.app_name;if(this.props.isViewerSender){m=h._("You shared \"{music title}\" from {music servvice}.",[h.param('music title',o),h.param('music servvice',p)])}else m=h._("{sender name} shared \"{music title}\" from {music servvice}.",[h.param('sender name',this.props.senderName),h.param('music title',o),h.param('music servvice',p)]);return c('React').createElement('span',null,m)};function l(){i.apply(this,arguments)}l.propTypes={attachment:k.object,isViewerSender:k.bool,senderName:k.oneOfType([k.string,k.object])};f.exports=l}),null);
__d('MercuryPaymentPlatformSnippet.react',['cx','ix','Image.react','MercuryShareAttachmentReactShape','React','idx'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n,o=(n=this.props)!=null?(n=n.attachment)!=null?(n=n.target)!=null?(n=n.payment_snippet)!=null?n.text:n:n:n:n;if(!o)return null;return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:i("86988")}),o)};function m(){j.apply(this,arguments)}m.propTypes={attachment:c('MercuryShareAttachmentReactShape'),isSenderViewer:l.bool,senderName:l.oneOfType([l.string,l.object])};f.exports=m}),null);
__d('MercuryPhotoShareSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props.isViewerSender?i._("You sent a photo."):i._("{sender name} sent a photo.",[i.param('sender name',this.props.senderName)]);return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("81849")}),o)};function n(){k.apply(this,arguments)}n.propTypes={isViewerSender:m.bool,senderName:m.oneOfType([m.string,m.object])};f.exports=n}),null);
__d('MercuryPromotionShareAttachmentSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props.attachment,p=o&&o.target,q=null;if(this.props.isViewerSender){q=i._("You sent an attachment.")}else q=i._("{sender name} sent an attachment.",[i.param('sender name',this.props.senderName)]);var r=p&&p.message||q;return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("86988")}),r)};function n(){k.apply(this,arguments)}n.propTypes={senderName:m.oneOfType([m.string,m.object]),attachment:m.object,isViewerSender:m.bool};f.exports=n}),null);
__d('MercurySaleGroupProductItemShareSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props.isViewerSender?i._("You sent a for sale item."):i._("{sender name} sent a for sale item.",[i.param('sender name',this.props.senderName)]);return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("86988")}),o)};function n(){k.apply(this,arguments)}n.propTypes={isViewerSender:m.bool,senderName:m.oneOfType([m.string,m.object])};f.exports=n}),null);
__d('MercuryTransactionInvoiceShareSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props.isViewerSender?i._("You sent an invoice"):i._("Page {sender name} sent you an invoice.",[i.param('sender name',this.props.senderName)]);return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("86988")}),o)};function n(){k.apply(this,arguments)}n.propTypes={isViewerSender:m.bool,senderName:m.oneOfType([m.string,m.object])};f.exports=n}),null);
__d('MercuryVideoShareSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props.isViewerSender?i._("You sent a video."):i._("{sender name} sent a video.",[i.param('sender name',this.props.senderName)]);return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("82423")}),o)};function n(){k.apply(this,arguments)}n.propTypes={isViewerSender:m.bool,senderName:m.oneOfType([m.string,m.object])};f.exports=n}),null);
__d('MessengerLightweightActionSnippet.react',['cx','MercuryShareAttachmentReactShape','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement('span',{className:"_3l6h"},this.props.attachment.title)};function k(){i.apply(this,arguments)}k.propTypes={attachment:c('MercuryShareAttachmentReactShape')};f.exports=k}),null);
__d('MessengerMomentsAppSnippet.react',['cx','fbt','ix','Image.react','MercuryShareAttachmentReactShape','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props.attachment;if(!o||!o.target)return null;return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("86988")}),o.target.snippet)};function n(){k.apply(this,arguments)}n.propTypes={attachment:c('MercuryShareAttachmentReactShape')};f.exports=n}),null);
__d('MercuryAttachmentSnippetType',['keyMirror'],(function a(b,c,d,e,f,g){var h=c('keyMirror')({PHOTO:null,GIF:null,VIDEO:null,AUDIO_CLIP:null,STICKER:null,SHARE:null,ERROR:null,MIXED:null,GIFT:null,THIRDPARTYSTICKER:null,FILE:null,LIKE_STICKER:null});f.exports=h}),null);
__d('P2PSnippetStringUtils',['fbt','P2PPaymentRequestStatus','P2PTransferStatus'],(function a(b,c,d,e,f,g,h){var i={getRequestCanceledSnippet:function j(k,l,m,n,o){if(k){return h._("Your request for {payment request amount} from {receiver's name} was cancelled.",[h.param('payment request amount',o),h.param('receiver\'s name',n)])}else if(l){return h._("{requester's name}'s request for {payment request amount} was cancelled.",[h.param('requester\'s name',m),h.param('payment request amount',o)])}else return h._("{requester's name}'s request for {payment request amount} from {receiver's name} was cancelled.",[h.param('requester\'s name',m),h.param('payment request amount',o),h.param('receiver\'s name',n)]);},getRequestDeclinedSnippet:function j(k,l,m,n,o){if(k){return h._("{receiver's name} declined your request for {payment request amount}.",[h.param('receiver\'s name',n),h.param('payment request amount',o)])}else if(l){return h._("You declined {requester's name}'s request for {payment request amount}.",[h.param('requester\'s name',m),h.param('payment request amount',o)])}else return h._("{receiver's name} declined {sender's name}'s request for {payment request amount}.",[h.param('receiver\'s name',n),h.param('sender\'s name',m),h.param('payment request amount',o)]);},getRequestSentSnippet:function j(k,l,m,n,o){if(k){return h._("You requested {amount} from {requestee name}.",[h.param('amount',o),h.param('requestee name',n)])}else if(l){return h._("{requester name} requested {amount} from you.",[h.param('requester name',m),h.param('amount',o)])}else return h._("{name} requested {amount} from {requestee name}.",[h.param('name',m),h.param('amount',o),h.param('requestee name',n)]);},getRequestSnippetByStatus:function j(k,l,m,n,o,p){var q=k||c('P2PPaymentRequestStatus').INITED,r=[l,m,n,o,p];switch(q){case c('P2PPaymentRequestStatus').DECLINED:return this.getRequestDeclinedSnippet.apply(this,r);case c('P2PPaymentRequestStatus').TRANSFER_FAILED:case c('P2PPaymentRequestStatus').CANCELED:return this.getRequestCanceledSnippet.apply(this,r);}return this.getRequestSentSnippet.apply(this,r)},getTransferCanceledSnippet:function j(k,l,m,n,o){if(k){return h._("Your payment of {amount} to {receiver_name} was cancelled.",[h.param('amount',o),h.param('receiver_name',n)])}else if(l){return h._("{sender name}'s payment of {amount} was cancelled.",[h.param('sender name',m),h.param('amount',o)])}else return h._("{sender_name}'s payment of {amount} to {receiver_name} was cancelled.",[h.param('sender_name',m),h.param('amount',o),h.param('receiver_name',n)]);},getTransferDeclinedSnippet:function j(k,l,m,n,o){if(k){return h._("{receiver_name} didn't accept your payment of {amount}.",[h.param('receiver_name',n),h.param('amount',o)])}else if(l){return h._("You didn't accept {sender name}'s payment of {amount}.",[h.param('sender name',m),h.param('amount',o)])}else return h._("{receiver_name} didn't accept {sender_name}'s payment of {amount}.",[h.param('receiver_name',n),h.param('sender_name',m),h.param('amount',o)]);},getTransferSentSnippet:function j(k,l,m,n,o){if(k){return h._("You sent {amount} to {receiver name}.",[h.param('receiver name',n),h.param('amount',o)])}else if(l){return h._("{name} sent {amount} to you.",[h.param('name',m),h.param('amount',o)])}else return h._("{sender name} sent {amount} to {receiver name}.",[h.param('sender name',m),h.param('receiver name',n),h.param('amount',o)]);},getTransferSnippetByStatus:function j(k,l,m,n,o,p){var q=[l,m,n,o,p],r=k||c('P2PTransferStatus').PENDING_SENDER_INITED;switch(r){case c('P2PTransferStatus').CANCELED_DECLINED:return this.getTransferDeclinedSnippet.apply(this,q);case c('P2PTransferStatus').CANCELED_SENDER_RISK:case c('P2PTransferStatus').CANCELED_RECIPIENT_RISK:case c('P2PTransferStatus').CANCELED_SYSTEM_FAIL:case c('P2PTransferStatus').CANCELED_EXPIRED:case c('P2PTransferStatus').CANCELED_SAME_CARD:return this.getTransferCanceledSnippet.apply(this,q);}return this.getTransferSentSnippet.apply(this,q)}};f.exports=i}),null);
__d('MercuryAttachmentSnippetRenderer',['fbt','CurrentUser','MercuryAttachmentSnippetType','MercuryAttachmentType','MercuryAudioType','MercuryGiftSnippetRenderer','P2PSnippetStringUtils','StickerConstants','StoryAttachmentStyle'],(function a(b,c,d,e,f,g,h){'use strict';var i={getAttachmentSnippetType:function j(k){if(this._hasOnlyPhotos(k))return c('MercuryAttachmentSnippetType').PHOTO;if(this._hasOnlyAnimatedImages(k))return c('MercuryAttachmentSnippetType').GIF;if(this._hasOnlyVideo(k))return c('MercuryAttachmentSnippetType').VIDEO;if(this._hasAudioClip(k))return c('MercuryAttachmentSnippetType').AUDIO_CLIP;if(this._hasLikeSticker(k))return c('MercuryAttachmentSnippetType').LIKE_STICKER;if(this._hasSticker(k))return c('MercuryAttachmentSnippetType').STICKER;if(this._hasThirdPartySticker(k))return c('MercuryAttachmentSnippetType').THIRDPARTYSTICKER;if(this._hasShare(k))return c('MercuryAttachmentSnippetType').SHARE;if(this._hasGift(k))return c('MercuryAttachmentSnippetType').GIFT;if(this._hasError(k))return c('MercuryAttachmentSnippetType').ERROR;if(this._hasFile(k))return c('MercuryAttachmentSnippetType').FILE;return c('MercuryAttachmentSnippetType').MIXED},renderAttachmentSnippetText:function j(k,l,m,n){switch(k){case c('MercuryAttachmentSnippetType').PHOTO:return this._renderPhotoAttachmentSnippetText(l,m,this._getPhotoAttachments(n));case c('MercuryAttachmentSnippetType').GIF:return this._renderAnimatedImagesAttachmentSnippetText(l,m,this._getAnimatedImageAttachments(n));case c('MercuryAttachmentSnippetType').VIDEO:return l?h._("You sent a video."):h._("{sender name} sent a video.",[h.param('sender name',m)]);case c('MercuryAttachmentSnippetType').AUDIO_CLIP:return l?h._("You sent a voice message."):h._("{name} sent a voice message.",[h.param('name',m)]);case c('MercuryAttachmentSnippetType').STICKER:case c('MercuryAttachmentSnippetType').LIKE_STICKER:case c('MercuryAttachmentSnippetType').THIRDPARTYSTICKER:return l?h._("You sent a sticker."):h._("{name} sent a sticker.",[h.param('name',m)]);case c('MercuryAttachmentSnippetType').SHARE:if(n&&this._hasP2PPayment(n))return this._renderP2PPaymentSnippetText(n[0]);if(n&&this._hasP2PPaymentRequest(n))return this._renderP2PPaymentRequestSnippetText(n[0]);if(n&&this._hasBusinessMessage(n))return this._renderBusinessMessageSnippetText(n[0],m);if(n&&this._hasLocation(n))return l?h._("You sent a location."):h._("{sender name} sent a location.",[h.param('sender name',m)]);if(n&&this._hasLiveLocation(n))return l?h._("You sent a live location."):h._("{sender name} sent a live location.",[h.param('sender name',m)]);return l?h._("You sent a link."):h._("{sender name} sent a link.",[h.param('sender name',m)]);case c('MercuryAttachmentSnippetType').GIFT:return c('MercuryGiftSnippetRenderer').renderText(l,m);case c('MercuryAttachmentSnippetType').FILE:return l?h._("You sent an attachment."):h._("{sender name} sent an attachment.",[h.param('sender name',m)]);case c('MercuryAttachmentSnippetType').ERROR:return l?h._("You sent an attachment."):h._("{sender name} sent an attachment.",[h.param('sender name',m)]);default:return '';}},_hasOnlyPhotos:function j(k){return this._getPhotoAttachments(k).length===k.length},_hasThirdPartySticker:function j(k){return k.length===1&&k[0].attach_type===c('MercuryAttachmentType').THIRDPARTYSTICKER},_hasOnlyAnimatedImages:function j(k){return this._getAnimatedImageAttachments(k).length===k.length},_hasOnlyVideo:function j(k){return k.length===1&&k[0].attach_type===c('MercuryAttachmentType').VIDEO},_hasAudioClip:function j(k){var l=k[0].metadata&&k[0].metadata.type;return k.length===1&&(l===c('MercuryAudioType').AudioClip||l===c('MercuryAudioType').VoiceMessageWithTranscript)},_hasBusinessMessage:function j(k){return this._hasSingleShareAttachmentOfStyle(k,c('StoryAttachmentStyle').BUSINESS_MESSAGE_ITEMS)},_hasSticker:function j(k){return k.length===1&&k[0].attach_type===c('MercuryAttachmentType').STICKER},_hasLikeSticker:function j(k){if(k.length<1)return false;var l=k[0].metadata&&k[0].metadata.stickerID;return k.length===1&&(l==c('StickerConstants').LIKE_STICKER_ID||l==c('StickerConstants').HOT_LIKE_SMALL_STICKER_ID||l==c('StickerConstants').HOT_LIKE_MEDIUM_STICKER_ID||l==c('StickerConstants').HOT_LIKE_LARGE_STICKER_ID)},_hasLocation:function j(k){return this._hasSingleShareAttachmentOfStyle(k,c('StoryAttachmentStyle').MESSAGE_LOCATION)},_hasLiveLocation:function j(k){return this._hasSingleShareAttachmentOfStyle(k,c('StoryAttachmentStyle').MESSAGE_LIVE_LOCATION)},_hasP2PPayment:function j(k){return this._hasSingleShareAttachmentOfStyle(k,c('StoryAttachmentStyle').ORION)},_hasP2PPaymentRequest:function j(k){return this._hasSingleShareAttachmentOfStyle(k,c('StoryAttachmentStyle').ORION_REQUEST)},_hasSingleShareAttachmentOfStyle:function j(k,l){return k.length===1&&k[0].attach_type===c('MercuryAttachmentType').SHARE&&k[0].share.style_list.indexOf(l)>=0},_hasShare:function j(k){return k.length===1&&k[0].attach_type===c('MercuryAttachmentType').SHARE},_hasError:function j(k){return k.length===1&&k[0].attach_type===c('MercuryAttachmentType').ERROR},_hasGift:function j(k){return k.length===1&&k[0].attach_type===c('MercuryAttachmentType').GIFT},_hasFile:function j(k){return k.length===1&&k[0].attach_type===c('MercuryAttachmentType').FILE},_getPhotoAttachments:function j(k){if(!k)return [];return k.filter(function(l){return l.attach_type===c('MercuryAttachmentType').PHOTO})},_getAnimatedImageAttachments:function j(k){if(!k)return [];return k.filter(function(l){return l.attach_type===c('MercuryAttachmentType').ANIMATED_IMAGE})},_renderPhotoAttachmentSnippetText:function j(k,l,m){if(m.length===1){if(k){return h._("You sent a photo.")}else return h._("{name} sent a photo.",[h.param('name',l)]);}else if(k){return h._({"*":"You sent {num_photos} photos."},[h.param('num_photos',m.length,[0])])}else return h._({"*":"{name} sent {num_photos} photos."},[h.param('name',l),h.param('num_photos',m.length,[0])]);},_renderAnimatedImagesAttachmentSnippetText:function j(k,l,m){if(m.length===1){if(k){return h._("You sent a GIF.")}else return h._("{name} sent a GIF.",[h.param('name',l)]);}else if(k){return h._("You sent {num_animated_images} GIFs.",[h.param('num_animated_images',m.length)])}else return h._("{name} sent {num_animated_images} GIFs.",[h.param('name',l),h.param('num_animated_images',m.length)]);},_renderBusinessMessageSnippetText:function j(k,l){var m=k.share.target,n=m&&m.message||h._("{sender name} sent an attachment.",[h.param('sender name',l)]);return n},_renderP2PPaymentSnippetText:function j(k){var l=k.share.target;return this.renderP2PPaymentSnippetText(c('CurrentUser').getID()===l.sender.id,l.sender.name,l.amountWithSymbol,l.status,c('CurrentUser').getID()===l.receiver.id,l.receiver.name)},_renderP2PPaymentRequestSnippetText:function j(k){var l=k.share.target;return this.renderP2PPaymentRequestSnippetText(c('CurrentUser').getID()===l.requester.id,l.requester.name,l.amountWithSymbol,l.currentStatus,c('CurrentUser').getID()===l.requestee.id,l.requestee.name)},renderP2PPaymentSnippetText:function j(k,l,m,n,o,p){return c('P2PSnippetStringUtils').getTransferSnippetByStatus(n,k,o||false,l||'',p||'',m)},renderP2PPaymentRequestSnippetText:function j(k,l,m,n,o,p){return c('P2PSnippetStringUtils').getRequestSnippetByStatus(n,k,o||false,l||'',p||'',m)}};f.exports=i}),null);
__d('P2PMercuryAttachmentSnippetRendererBase.react',['cx','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){return c('React').createElement('span',{className:"uiIconText _3l6h _3_io"},c('React').createElement(c('Image.react'),{height:12,src:i("94348"),width:12}),this.props.text)};function m(){j.apply(this,arguments)}m.propTypes={text:l.node};f.exports=m}),null);
__d('P2PMercuryAttachmentSnippet.react',['CurrentUser','MercuryAttachmentSnippetRenderer','P2PMercuryAttachmentSnippetRendererBase.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=c('MercuryAttachmentSnippetRenderer').renderP2PPaymentSnippetText(c('CurrentUser').getID()===this.props.sender.id,this.props.sender.name,this.props.amountWithSymbol,this.props.status,c('CurrentUser').getID()===this.props.receiver.id,this.props.receiver.name);return c('React').createElement(c('P2PMercuryAttachmentSnippetRendererBase.react'),{text:l})};function k(){h.apply(this,arguments)}k.propTypes={amountWithSymbol:j.string,receiver:j.object,sender:j.object,status:j.number};k.defaultProps={sender:{},receiver:{}};f.exports=k}),null);
__d('P2PMercuryShareAttachmentSnippet.react',['MercuryShareAttachmentReactShape','P2PMercuryAttachmentSnippet.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.props.attachment?this.props.attachment.target:{};return c('React').createElement(c('P2PMercuryAttachmentSnippet.react'),k)};function j(){h.apply(this,arguments)}j.propTypes={attachment:c('MercuryShareAttachmentReactShape')};f.exports=j}),null);
__d('P2PPaymentRequestMercuryAttachmentSnippet.react',['CurrentUser','MercuryAttachmentSnippetRenderer','P2PMercuryAttachmentSnippetRendererBase.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=c('MercuryAttachmentSnippetRenderer').renderP2PPaymentRequestSnippetText(c('CurrentUser').getID()===this.props.requester.id,this.props.requester.name,this.props.formattedAmount,this.props.status,c('CurrentUser').getID()===this.props.requestee.id,this.props.requestee.name);return c('React').createElement(c('P2PMercuryAttachmentSnippetRendererBase.react'),{text:l})};function k(){h.apply(this,arguments)}k.propTypes={formattedAmount:j.string.isRequired,requestee:j.object.isRequired,requester:j.object.isRequired,status:j.number.isRequired};f.exports=k}),null);
__d('P2PPaymentRequestMercuryShareAttachmentSnippet.react',['P2PMercuryAttachmentSnippetRendererBase.react','P2PPaymentRequestMercuryAttachmentSnippet.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.props.attachment,l=k.target;if(!l)return c('React').createElement(c('P2PMercuryAttachmentSnippetRendererBase.react'),{text:k.title});return c('React').createElement(c('P2PPaymentRequestMercuryAttachmentSnippet.react'),{formattedAmount:l.amountWithSymbol,requestee:l.requestee,requester:l.requester,status:l.currentStatus})};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('MercuryShareStyleMap',['cx','JSResource','Map','MercuryConfig','MercuryShareAttachmentRenderLocations','StoryAttachmentStyle','emptyFunction','MercuryFallbackShareAttachmentSnippet.react','P2PMercuryShareAttachmentSnippet.react','P2PPaymentRequestMercuryShareAttachmentSnippet.react','MercuryPromotionShareAttachmentSnippet.react','MessengerMomentsAppSnippet.react','MercuryPhotoShareSnippet.react','MercuryVideoShareSnippet.react','MercuryMessageLocationShareAttachmentSnippet.react','MercuryMessageLiveLocationShareAttachmentSnippet.react','MercuryAnimatedShareSnippet.react','MercurySaleGroupProductItemShareSnippet.react','MercuryTransactionInvoiceShareSnippet.react','MercuryPaymentPlatformSnippet.react','MercuryMusicIntegrationAttachmentSnippet.react','MercuryFundraiserShareSnippet.react','MercuryCrisisListingShareSnippet.react','MercuryMessengerInviteShareAttachmentSnippet.react','MessengerLightweightActionSnippet.react'],(function a(b,c,d,e,f,g,h){'use strict';var i=new (c('Map'))();i.set(c('StoryAttachmentStyle').FALLBACK,{componentName:'MercuryFallbackShareAttachment.react',componentLoader:c('JSResource')('MercuryFallbackShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryFallbackShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]])});i.set(c('StoryAttachmentStyle').EVENT,{componentName:'MercuryEventShareAttachment.react',componentLoader:c('JSResource')('MercuryEventShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryFallbackShareAttachmentSnippet.react')}});i.set(c('StoryAttachmentStyle').ORION,{componentName:'P2PMercuryShareAttachmentContainer.react',componentLoader:c('JSResource')('P2PMercuryShareAttachmentContainer.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('P2PMercuryShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _3-50"]])});i.set(c('StoryAttachmentStyle').ORION_REQUEST,{componentName:'P2PPaymentRequestMercuryShareAttachmentContainer.react',componentLoader:c('JSResource')('P2PPaymentRequestMercuryShareAttachmentContainer.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('P2PPaymentRequestMercuryShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _3-50"]])});i.set(c('StoryAttachmentStyle').RETAIL_RECEIPT,{componentName:'MNCommerceReceiptMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommerceReceiptMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d"]])});i.set(c('StoryAttachmentStyle').RETAIL_CANCELLATION,{componentName:'MNCommerceCancelationMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommerceCancelationMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d"]])});i.set(c('StoryAttachmentStyle').RETAIL_SHIPMENT,{componentName:'MNCommerceShippingMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommerceShippingMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d"]])});i.set(c('StoryAttachmentStyle').RETAIL_SHIPMENT_TRACKING_EVENT,{componentName:'MNCommerceShippingMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommerceShippingMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d"]])});i.set(c('StoryAttachmentStyle').RETAIL_NOW_IN_STOCK,{componentName:'MNCommerceProductSubscriptionMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommerceProductSubscriptionMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d"]])});i.set(c('StoryAttachmentStyle').RETAIL_PROMOTION,{componentName:'MNCommercePromotionMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommercePromotionMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d _28rg"]])});if(c('MercuryConfig').MessengerGamesGK){i.set(c('StoryAttachmentStyle').INSTANT_GAMES_SHARE_MESSAGE,{componentName:'MessengerGamesShareAttachment.react',componentLoader:c('JSResource')('MessengerGamesShareContainer.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _4niv _205d _28rg"]])});i.set(c('StoryAttachmentStyle').INSTANT_GAMES_SHARE_SCORE_MESSAGE,{componentName:'MessengerGamesScoreShareContainer.react',componentLoader:c('JSResource')('MessengerGamesScoreShareContainer.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _4niv _205d _28rg"]])})}i.set(c('StoryAttachmentStyle').RETAIL_ITEM,{componentName:'MNCommercePromotionMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommercePromotionMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d _28rg"]])});i.set(c('StoryAttachmentStyle').BUSINESS_MESSAGE_ITEMS,{componentName:'MNCommercePromotionMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommercePromotionMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryPromotionShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d _28rg"]])});i.set(c('StoryAttachmentStyle').MESSENGER_PLATFORM_MEDIA_ATTACHMENT,{componentName:'MNCommercePromotionMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommercePromotionMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryPromotionShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d _28rg"]])});i.set(c('StoryAttachmentStyle').H_SCROLL,{componentName:'MNCommerceHScrollMessageAttachment.react',componentLoader:c('JSResource')('MNCommerceHScrollMessageAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryPromotionShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d _8ka"]])});i.set(c('StoryAttachmentStyle').MESSENGER_PLATFORM_COMPACT_ITEM,{componentName:'MessengerPlatformVerticalListItemAttachment.react',componentLoader:c('JSResource')('MessengerPlatformVerticalListItemAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryPromotionShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_205d _28rg"]])});i.set(c('StoryAttachmentStyle').MESSENGER_PLATFORM_COVER_ITEM,{componentName:'MessengerPlatformVerticalListItemAttachment.react',componentLoader:c('JSResource')('MessengerPlatformVerticalListItemAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryPromotionShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_205d _28rg"]])});i.set(c('StoryAttachmentStyle').MESSENGER_PLATFORM_BUTTON_LIST,{componentName:'MNCommercePromotionMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommercePromotionMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryPromotionShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_205d _28rg"]])});i.set(c('StoryAttachmentStyle').VERTICAL_ATTACHMENT_LIST,{componentName:'MessengerPlatformVerticalListAttachment.react',componentLoader:c('JSResource')('MessengerPlatformVerticalListAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryPromotionShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_205d"]])});if(c('MercuryConfig').WWWMessengerTransportationGK){i.set(c('StoryAttachmentStyle').RIDE_ORDERED,{componentName:'MNTransportationRideConfirmationMercuryAttachment.react',componentLoader:c('JSResource')('MNTransportationRideConfirmationMercuryAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryPromotionShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d"]])});i.set(c('StoryAttachmentStyle').RIDE_RECEIPT,{componentName:'MNTransportationRideReceiptMercuryAttachment.react',componentLoader:c('JSResource')('MNTransportationRideReceiptMercuryAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryPromotionShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d"]])})}i.set(c('StoryAttachmentStyle').AIRLINE_UPDATE,{componentName:'MNAirlineUpdateMercuryAttachment.react',componentLoader:c('JSResource')('MNAirlineUpdateMercuryAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d _8kb"]])});i.set(c('StoryAttachmentStyle').AIRLINE_ITINERARY,{componentName:'MNAirlineItineraryMercuryAttachment.react',componentLoader:c('JSResource')('MNAirlineItineraryMercuryAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d _8kb"]])});i.set(c('StoryAttachmentStyle').AIRLINE_CHECKIN_REMINDER,{componentName:'MNAirlineCheckInMercuryAttachment.react',componentLoader:c('JSResource')('MNAirlineCheckInMercuryAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d _8kb"]])});i.set(c('StoryAttachmentStyle').AIRLINE_BOARDING_PASS,{componentName:'MNAirlineBoardingPassMercuryAttachment.react',componentLoader:c('JSResource')('MNAirlineBoardingPassMercuryAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d _8kb"]])});if(c('MercuryConfig').WWWMessengerMoneyPennyGK)i.set(c('StoryAttachmentStyle').RETAIL_AGENT_ITEM_SUGGESTION,{componentName:'MNCommerceAgentItemSuggestionMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommerceAgentItemSuggestionMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d"]])});var j={componentName:'MessengerMomentsAppShareAttachment.react',componentLoader:c('JSResource')('MessengerMomentsAppShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MessengerMomentsAppSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]])};i.set(c('StoryAttachmentStyle').MOMENTS_APP_INVITATION,j);i.set(c('StoryAttachmentStyle').MOMENTS_APP_PHOTO_REQUEST,j);i.set(c('StoryAttachmentStyle').GENIE_MESSAGE,{componentName:'GenieMessageShareAttachment.react',componentLoader:c('JSResource')('GenieMessageShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_2wrf"]]),getSnippetComponent:function l(){return c('MercuryFallbackShareAttachmentSnippet.react')}});i.set(c('StoryAttachmentStyle').MOVIE_BOT_MOVIE_LIST,{componentName:'MovieBotMovieListShareAttachment.react',componentLoader:c('JSResource')('MovieBotMovieListShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]])});i.set(c('StoryAttachmentStyle').MOVIE_BOT_MOVIE_SHOWTIME_LIST,{componentName:'MovieBotMovieShowtimeListShareAttachment.react',componentLoader:c('JSResource')('MovieBotMovieShowtimeListShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]])});i.set(c('StoryAttachmentStyle').SHARE_LARGE_IMAGE,{componentName:'MercuryShareLargeImageAttachment.react',componentLoader:c('JSResource')('MercuryShareLargeImageAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryPhotoShareSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').IMAGE_SHARE,{componentName:'MercuryImageShareAttachment.react',componentLoader:c('JSResource')('MercuryImageShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryPhotoShareSnippet.react')},unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').VIDEO,{componentName:'MercuryVideoShareAttachment.react',componentLoader:c('JSResource')('MercuryVideoShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryVideoShareSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_3duc"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').MESSAGE_LOCATION,{componentName:'MercuryMessageLocationShareAttachment.react',componentLoader:c('JSResource')('MercuryMessageLocationShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryMessageLocationShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]])});i.set(c('StoryAttachmentStyle').MESSAGE_LIVE_LOCATION,{componentName:'MercuryMessageLiveLocationShareAttachment.react',componentLoader:c('JSResource')('MercuryMessageLiveLocationShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryMessageLiveLocationShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]])});i.set(c('StoryAttachmentStyle').ANIMATED_IMAGE_SHARE,{componentName:'MercuryAnimatedShareAttachment.react',componentLoader:c('JSResource')('MercuryAnimatedShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryAnimatedShareSnippet.react')},unwrapInStory:c('emptyFunction').thatReturnsFalse});i.set(c('StoryAttachmentStyle').GROUP_SELL_PRODUCT_ITEM,{componentName:'MercurySaleGroupProductItemShareAttachment.react',componentLoader:c('JSResource')('MercurySaleGroupProductItemShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercurySaleGroupProductItemShareSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').COMMERCE_PRODUCT_ITEM,{componentName:'MercuryCommerceProductItemShareAttachment.react',componentLoader:c('JSResource')('MercuryCommerceProductItemShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryFallbackShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').TRANSACTION_INVOICE,{componentName:'MercuryTransactionInvoiceShareAttachment.react',componentLoader:c('JSResource')('MercuryTransactionInvoiceShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryTransactionInvoiceShareSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').PAYMENT_PLATFORM,{componentName:'MercuryPaymentPlatformShareAttachment.react',componentLoader:c('JSResource')('MercuryPaymentPlatformShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryPaymentPlatformSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]])});i.set(c('StoryAttachmentStyle').FINANCIAL_BILL_PAYMENT_REQUEST,{componentName:'MNBillPaymentRequestMercuryShareAttachment.react',componentLoader:c('JSResource')('MNBillPaymentRequestMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d"]])});i.set(c('StoryAttachmentStyle').MUSIC_AGGREGATION,{componentName:'MercuryMusicAttachment.react',componentLoader:c('JSResource')('MercuryMusicAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryConfig').MEMI?c('MercuryMusicIntegrationAttachmentSnippet.react'):c('MercuryFallbackShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"+(c('MercuryConfig').MEMI?' '+"_4p_r":'')]])});i.set(c('StoryAttachmentStyle').VIDEO_SHARE_YOUTUBE,{componentName:'MercuryVideoShareYoutubeAttachment.react',componentLoader:c('JSResource')('MercuryVideoShareYoutubeAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]])});i.set(c('StoryAttachmentStyle').RTC_CALL_LOG,{componentName:'MercuryRTCShareAttachment.react',componentLoader:c('JSResource')('MercuryRTCShareAttachment.react').__setRef('MercuryShareStyleMap')});i.set(c('StoryAttachmentStyle').FUNDRAISER_PERSON_FOR_PERSON,{componentName:'MercuryFundraiserAttachment.react',componentLoader:c('JSResource')('MercuryFundraiserAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryFundraiserShareSnippet.react')}});i.set(c('StoryAttachmentStyle').FUNDRAISER_PERSON_TO_CHARITY,{componentName:'MercuryFundraiserAttachment.react',componentLoader:c('JSResource')('MercuryFundraiserAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryFundraiserShareSnippet.react')}});i.set(c('StoryAttachmentStyle').CRISIS_LISTING,{componentName:'MercuryCrisisListingAttachment.react',componentLoader:c('JSResource')('MercuryCrisisListingAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MercuryCrisisListingShareSnippet.react')}});i.set(c('StoryAttachmentStyle').MESSENGER_TEAM_BOT_SHARE,{componentName:'MessengerTeamBotShareAttachment.react',componentLoader:c('JSResource')('MessengerTeamBotShareAttachment.react').__setRef('MercuryShareStyleMap')});i.set(c('StoryAttachmentStyle').MESSENGER_INVITE,{componentName:'MercuryMessengerInviteShareAttachment.react',componentLoader:c('JSResource')('MercuryMessengerInviteShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_3thf"]]),getSnippetComponent:function l(){return c('MercuryMessengerInviteShareAttachmentSnippet.react')},unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').PAGES_PLATFORM_BOOKING_MESSAGE,{componentName:'PagesPlatformBookingMessageAttachment.react',componentLoader:c('JSResource')('PagesPlatformBookingMessageAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _3fk6"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').FRIEND_REQUEST,{componentName:'MercuryMessengerFriendRequestAttachment.react',componentLoader:c('JSResource')('MercuryMessengerFriendRequestAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').CULTURAL_MOMENT_HOLIDAY_CARD,{componentName:'MercuryCulturalMomentHolidayCardAttachment.react',componentLoader:c('JSResource')('MercuryCulturalMomentHolidayCardAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_3duc"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').PAGES_PLATFORM_LEAD_GEN,{componentName:'PagesPlatformLeadGenMercuryShareAttachmentContainer.react',componentLoader:c('JSResource')('PagesPlatformLeadGenMercuryShareAttachmentContainer.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_b4_"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').LIGHTWEIGHT_ACTION,{componentName:'MessengerLightweightActionAttachment.react',componentLoader:c('JSResource')('MessengerLightweightActionAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function l(){return c('MessengerLightweightActionSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]])});i.set(c('StoryAttachmentStyle').JOB_SEARCH_JOB_APPLICATION,{componentName:'JobApplicationAttachmentContainer.react',componentLoader:c('JSResource')('JobApplicationAttachmentContainer.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _1zrz"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').EVENT_REMINDER,{componentName:'MercuryLightweightEventShareAttachment.react',componentLoader:c('JSResource')('MercuryLightweightEventShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _1z7j"]])});i.set(c('StoryAttachmentStyle').PAGE_MESSENGER_ATTACHMENT,{componentName:'PageMessengerShareAttachment.react',componentLoader:c('JSResource')('PageMessengerShareAttachment.react').__setRef('MercuryShareStyleMap')});var k={getStyleFactory:function l(m){if(!m||!m.style_list)return null;if(m.style_list[0]===c('StoryAttachmentStyle').ATTACHED_STORY){var n=m.subattachments,o=n&&n.length?n[0].style_list:[],p=o.length?this._getStyleMapEntry(o):null,q=n[0];if(Array.isArray(o)&&o.find(function(t){return t===c('StoryAttachmentStyle').VIDEO})){var r={video_title:m.title,description:m.description,source:m.source};q=Object.assign({},n[0],r)}if(p&&p.unwrapInStory&&p.unwrapInStory())return {attachment:q,factory:p};}var s=this._getStyleMapEntry(m.style_list);if(!s)return null;return {attachment:m,factory:s}},_getStyleMapEntry:function l(m){for(var n=0;n<m.length;n++){var o=i.get(m[n]);if(o)return o;}return null}};f.exports=k}),null);
__d('MessengerErrorBoundary.react',['cx','fbt','ChatReliabilityInstrumentation','ErrorBoundary.react','LogHistory','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('LogHistory').getInstance('messenger_error_boundary'),m=function p(q){return i._({"conversation list":"Could not display conversation list.","conversation":"Could not display conversation.","composer":"Could not display composer.","conversation information":"Could not display conversation information.","attachment":"Could not display attachment."},[i['enum'](q,{'conversation list':'conversation list',conversation:'conversation',composer:'composer','conversation information':'conversation information',attachment:'attachment'})])},n=function p(q,r){return function(){return c('React').createElement('div',{className:c('joinClasses')("_5jpt",r)},q)}};j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$MessengerErrorBoundary1=function(u,v){var w='React error in '+v+' got '+u.message;l.error(w,JSON.stringify(u));c('ChatReliabilityInstrumentation').logERROR(w);this.props.onHandleError&&this.props.onHandleError(u,v)}.bind(this),q}o.prototype.render=function(){var p=this.props,q=p.className,r=p.component,s=babelHelpers.objectWithoutProperties(p,['className','component']);return c('React').createElement(c('ErrorBoundary.react'),babelHelpers['extends']({},s,{fallbackComponent:n(m(r),q),onHandleError:this.$MessengerErrorBoundary1,bigRedBox:true}))};f.exports=o}),null);
__d('MercuryShareAttachment.react',['cx','BootloadedComponent.react','DOM','Event','MercuryShareAttachmentReactShape','MercuryShareStyleMap','MessengerErrorBoundary.react','React','ReactDOM','MercuryShareAttachmentRenderLocations','emptyFunction','idx','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MercuryShareAttachment3=function(r){this.$MercuryShareAttachment1(r);c('DOM').scry(c('ReactDOM').findDOMNode(this),'img').forEach(function(s){var t=c('Event').listen(s,'load',function(){this.$MercuryShareAttachment1(s.height);t.remove()}.bind(this))}.bind(this))}.bind(this),n}l.prototype.componentDidMount=function(){this.$MercuryShareAttachment1()};l.prototype.$MercuryShareAttachment2=function(m,n){if(this.props.location===c('MercuryShareAttachmentRenderLocations').MESSENGER&&!this.props.isSubattachment)n=c('joinClasses')("_52mr _2poz _ui9","_4skb",n);return c('React').createElement('div',{className:n},m,this.props.afterDecorators)};l.prototype.render=function(){var m,n=c('MercuryShareStyleMap').getStyleFactory(this.props.attachment);if(!n)return null;var o=n.attachment,p=n.factory;return this.$MercuryShareAttachment2(c('React').createElement(c('MessengerErrorBoundary.react'),babelHelpers['extends']({},this.props,{component:'attachment'}),c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({},this.props,{attachment:o,bootloadLoader:p.componentLoader,bootloadPlaceholder:c('React').createElement('div',null),key:(m=this)!=null?(m=m.props)!=null?(m=m.attachment)!=null?m.share_id:m:m:m,module:p.componentName,onComponentLoad:this.$MercuryShareAttachment3}))),p.cx&&p.cx.get(this.props.location))};l.prototype.$MercuryShareAttachment1=function(m){this.props.onComponentLoaded(m)};l.propTypes={attachment:c('MercuryShareAttachmentReactShape'),isSponsored:k.bool,isSubattachment:k.bool,isVisible:k.bool,location:k.oneOf(c('MercuryShareAttachmentRenderLocations').getValues()),messageID:k.string,onComponentLoaded:k.func.isRequired,onSelect:k.func,pageID:k.string,threadID:k.string.isRequired,afterDecorators:k.array};l.defaultProps={onComponentLoaded:c('emptyFunction')};f.exports=l}),null);
__d('MessagingFlowerBorderChecker',['MercuryConfig','MercuryMessageCustomizations','MessageBorderType','MessageCustomizationType'],(function a(b,c,d,e,f,g){'use strict';var h={shouldRenderWithFlowerBorder:function i(j){return c('MercuryConfig').WWWMessengerFlowerBorderViewer&&c('MercuryMessageCustomizations').getCustomizationValue(j,c('MessageCustomizationType').BORDER)===c('MessageBorderType').FLOWERS}};f.exports=h}),null);
__d('MessengerErrorAttachment.react',['cx','fbt','CurrentUser','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;function l(m){k.constructor.call(this,m)}l.prototype.render=function(){var m=this.props.attachment.error_msg||i._("This attachment could not be loaded.");return c('React').createElement('div',{className:"_1o12 _52mr"},c('React').createElement('div',{className:"_1o13"},m,this.$MessengerErrorAttachment1()))};l.prototype.$MessengerErrorAttachment1=function(){if(!this.props.attachment.error_msg&&c('CurrentUser').isEmployee()&&c('CurrentUser').hasWorkUser()&&!c('CurrentUser').isWorkUser())return c('React').createElement('div',null,i._("It was probably meant for your \u0040workplace account."));return null};f.exports=l}),null);
__d('MessengerFileAttachment.react',['cx','Link.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){return c('React').createElement(c('Link.react'),{className:"_4pcn _2uf4",target:'_blank',href:this.props.attachment.url},c('React').createElement('div',{className:"_2uf5"}),this.props.attachment.name)};function l(){i.apply(this,arguments)}l.propTypes={attachment:k.object.isRequired};f.exports=l}),null);
__d('MessengerFromViewerUtils',['CurrentUser','MercuryIDs'],(function a(b,c,d,e,f,g){'use strict';function h(i){return i.author===c('MercuryIDs').getParticipantIDFromUserID(c('CurrentUser').getID())}f.exports={isFromViewer:h}}),null);
__d('MessengerHotLikePreview.react',['cx','Animation','EmojiLikeConstants','HotLikeSound','MessengerHotLikePreviewEvents','MessengerHotLikeSVG.react','MessengerHotLikeUtils','MessengerSupportedEmojiUtils','React','ReactDOM','StickerConstants','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MessengerHotLikePreview5=function(){this.$MessengerHotLikePreview6=new (c('Animation'))(c('ReactDOM').findDOMNode(this));this.$MessengerHotLikePreview7(-2,2,150,1000);this.$MessengerHotLikePreview7(-4,4,100,1000);this.$MessengerHotLikePreview7(-10,10,75,1000);this.$MessengerHotLikePreview6.go()}.bind(this),this.$MessengerHotLikePreview7=function(r,s,t,u){var v=Math.floor(u/t),w=null;for(var x=0;x<v;x++){w=x%2?r:s;this.$MessengerHotLikePreview6.to('rotateZ',w).duration(t).checkpoint()}}.bind(this),this.$MessengerHotLikePreview2=function(r,s){var t=s?c('MessengerHotLikePreviewEvents').FINISH_EMOJI_ANIMATION:c('MessengerHotLikePreviewEvents').FINISH_ANIMATION;if(this.$MessengerHotLikePreview8)return;this.$MessengerHotLikePreview8=true;var u=Date.now()-this.props.since,v=null;if(this.props.customLike)v=c('MessengerHotLikeUtils').getEmojiSizeForTime(u);var w=c('MessengerHotLikeUtils').getStickerIDForTime(u);c('HotLikeSound').snap(w);var x=c('MessengerHotLikeUtils').getMetadataForHotLike(v||w);this.$MessengerHotLikePreview6.stop();var y=30,z=-10;if(w===c('StickerConstants').HOT_LIKE_SMALL_STICKER_ID){y=0;z=0}this.$MessengerHotLikePreview4.stop().to('width',x.width*1.2).to('height',x.height*1.2).to('rotateZ',y).duration(100).checkpoint().to('width',x.width*.9).to('height',x.height*.9).to('rotateZ',z).duration(100).checkpoint().to('width',x.width).to('height',x.height).to('rotateZ',0).duration(100).ondone(function(){c('MessengerHotLikePreviewEvents').emit(t,r,w,v)}).go()}.bind(this),this.$MessengerHotLikePreview3=function(r){c('HotLikeSound').pop();this.$MessengerHotLikePreview4.stop().to('width',0).to('height',0).duration(100).ondone(function(){c('MessengerHotLikePreviewEvents').emit(c('MessengerHotLikePreviewEvents').REMOVE,r)}).go()}.bind(this),n}l.prototype.componentDidMount=function(){this.$MessengerHotLikePreview1=new (c('SubscriptionsHandler'))();this.$MessengerHotLikePreview1.addSubscriptions(c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').STOP,this.$MessengerHotLikePreview2),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').STOP_EMOJI,this.$MessengerHotLikePreview2),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').POP,this.$MessengerHotLikePreview3));c('HotLikeSound').start();this.$MessengerHotLikePreview4=new (c('Animation'))(c('ReactDOM').findDOMNode(this)).to('width',80).to('height',80).duration(3000).go();this.$MessengerHotLikePreview5()};l.prototype.componentWillUnmount=function(){this.$MessengerHotLikePreview1&&this.$MessengerHotLikePreview1.release()};l.prototype.render=function(){if(this.props.customLike){var m=this.props.customLike,n=c('MessengerSupportedEmojiUtils').getNewEmojiData(m.emoji,c('EmojiLikeConstants').size.LARGE),o=n?n.url:this.props.customLike.large;if(m.uri)o=m.uri;return c('React').createElement('div',{className:"_4a9g _383m",style:{backgroundImage:'url('+o+')'}})}return c('React').createElement('div',{className:"_4a9g _576q"},c('React').createElement(c('MessengerHotLikeSVG.react'),{color:this.props.customColor}))};l.propTypes={customLike:k.object,since:k.number};f.exports=l}),null);
__d('MessengerAttachmentViewer',['Bootloader','MessagesViewer','React','Run','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';var h={renderVideo:function i(j){c('Bootloader').loadModules(["MessagingVideoViewer.react","messengerForwardAttachmentDialogReact"],function(k,l){var m=l.jsComponent;c('MessagesViewer').renderVideo(c('React').createElement(k,babelHelpers['extends']({},j,{forwardDialogComponent:m})))},'MessengerAttachmentViewer')},bootstrapWithConfig:function i(j,k){c('Bootloader').loadModules(["SpotlightMessagesViewer","messengerForwardAttachmentDialogReact"],function(l,m){var n=m.jsComponent;c('MessagesViewer').renderSpotlight(j,k,l,n)},'MessengerAttachmentViewer')},preload:function i(){c('Run').onAfterLoad(function(){c('Bootloader').loadModules(["MessagingVideoViewer.react","SpotlightMessagesViewer","messengerForwardAttachmentDialogReact"],c('emptyFunction'),'MessengerAttachmentViewer')})}};f.exports=h}),null);
__d('chatSpeakingStickerReact',['reasonReact','ChatSpeakingSticker.react'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){return c('reasonReact').wrapJsForReason(c('ChatSpeakingSticker.react'),{videoURI:i,videoSize:j},k)}g.make=h}),null);
__d('fBIDRe',['bs_string'],(function a(b,c,d,e,f,g){'use strict';var h=c('bs_string').compare;g.compare=h}),null);
__d('mercuryAttachmentPayloadRe',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){var l=j?j[0]:null;return {app_attribution:null,attach_type:i,deduplication_key:null,description:null,icon_type:null,key:l,large_preview_height:null,large_preview_width:null,large_preview_url:null,media:null,metadata:null,name:null,preview_height:null,preview_uploading:null,preview_url:null,preview_width:null,rel:null,share:null,source:null,target:null,thumbnail_url:null,upload_id:null,uri:null,url:k,video_title:null}}g.create=h}),null);
__d('messagingFlowerBorderReact',['reasonReact','MessagingFlowerBorder.react'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){return c('reasonReact').wrapJsForReason(c('MessagingFlowerBorder.react'),{offset:i},j)}g.make=h}),null);
__d('messagingGiftWrapReact',['utilsRe','reasonReact','bs_js_null_undefined','MessagingGiftWrap.react'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){return c('reasonReact').wrapJsForReason(c('MessagingGiftWrap.react'),{isSticker:c('utilsRe').optionBoolToNullUndefinedBoolean(i),onUnwrap:c('bs_js_null_undefined').from_opt(j)},k)}g.make=h}),null);
__d('messengerPhotoReact',['cx','fbt','bs_curry','React','utilsRe','linkReact','cssURL','imageReact','bs_js_boolean','bs_pervasives','reasonReact','joinClasses','bs_js_primitive','MercuryAttachmentType','messengerSpinnerReact','bs_caml_builtin_exceptions'],(function a(b,c,d,e,f,g,h,i){'use strict';function j(u,v){var w=u.metadata;if(w==null){return null}else if(u.attach_type===c('MercuryAttachmentType').VIDEO){var x=v&&c('utilsRe').isDefined(w.large_preview);if(x!==0){return w.large_preview}else return w.inbox_preview;}else if(v!==0){return u.large_preview_url}else return u.preview_url;}function k(u){if(u==null){return [null,null]}else return [u.width,u.height];}function l(u){var v=+(window.screen.width>1800);if(c('utilsRe').isTruthy(u.preview_uploading)){var w=function ka(la,ma){var na=c('utilsRe').isDefined(la);if(na!==0){return la}else return ma;},x=v&&c('utilsRe').isDefined(u.large_preview_url);if(x!==0){return [[w(u.large_preview_width,480),w(u.large_preview_height,480),u.large_preview_url,v]]}else return [[w(u.preview_width,280),w(u.preview_height,280),u.preview_url,v]];}else{var y=j(u,v),z=c('utilsRe').isDefined(y),aa=u.metadata,ba=0;if(z!==0){if(aa==null){ba=1}else{var ca=v&&c('utilsRe').isDefined(aa.large_size),da=ca!==0?aa.large_size:aa.inbox_size,ea=k(da);return [[ea[0],ea[1],y,v]]}}else ba=1;if(ba===1)if(c('utilsRe').isDefined(u.preview_url)){var fa=v&&c('utilsRe').isDefined(u.large_preview_url);if(fa!==0){return [[u.large_preview_width,u.large_preview_height,u.large_preview_url,v]]}else return [[u.preview_width,u.preview_height,u.preview_url,v]];}else{var ga=u.media;if(ga==null){return 0}else{var ha=c('utilsRe').isDefined(ga.playable)&&c('utilsRe').isDefined(ga.animated_image);if(ha!==0){var ia=k(ga.animated_image_size);return [[ia[0],ia[1],ga.animated_image,v]]}else{var ja=k(ga.image_size);return [[ja[0],ja[1],ga.image,v]]}}}}}function m(u){var v=function ca(da){return [""+(String(da)+"")]};if(c('utilsRe').isTruthy(u.preview_uploading)){var w=c('utilsRe').isDefined(u.preview_url);return v(w!==0?0:280)}else{var x=function ca(da){var ea=da[1],fa=da[0];if(!(fa==null)&&!(ea==null)){return [[fa,ea]]}else return 0;},y=function ca(da){if(da){var ea=da[0];return x([ea[0],ea[1]])}else return 0;},z=c('utilsRe').isDefined(u.media),aa=z!==0?y(l(u)):x([u.preview_width,u.preview_height]);if(aa){var ba=aa[0];return v(c('bs_pervasives').min(ba[1]*c('bs_pervasives').min(1,450/ba[0]),450))}else return 0;}}function n(u,v,w,x,y){c('utilsRe').isTruthy(x.preview_uploading);var z=u[2];if(z==null){return null}else if(y){var aa=u[3],ba=aa!==0?window.screen.height*.7:window.screen.height*.65,ca={maxHeight:""+(String(ba)+""),maxWidth:"100%",width:"100%"};return c('reasonReact').element(0,0,c('imageReact').make([c('joinClasses')(w,c('bs_js_boolean').to_js_boolean(1-v)?"_5pf5":'')],[""],[z],0,0,0,[ca],[]))}else return null;}var o=c('reasonReact').statelessComponent("MessengerPhoto");function p(u,v,w,x,y,z){var aa=u?u[0]:"",ba=o.slice();ba[4]=function(){if(x)c('bs_curry')._1(x[0],0);return 0};ba[9]=function(){var ca=l(v);if(ca){var da=ca[0],ea=+(v.attach_type===c('MercuryAttachmentType').ANIMATED_IMAGE),fa=c('utilsRe').isDefined(v.app_attribution),ga=n(da,w&&ea,c('joinClasses')(c('bs_js_boolean').to_js_boolean(fa)?"_mxz":'',c('bs_js_boolean').to_js_boolean(w&&1-fa)?"_52mr":''),v,w),ha=1-ea||1-w,ia;if(ha!==0){var ja=da[2],ka=ja==null?0:[c('cssURL')(ja)],la=w!==0?m(v):0;ia=[ka,la]}else ia=[0,0];var ma={},na=ia[0];if(na)ma.backgroundImage=na[0];var oa=ia[1];if(oa)ma.minHeight=oa[0];var pa=ma,qa=c('utilsRe').isTruthy(v.preview_uploading),ra=qa!==0?c('reasonReact').element(0,0,c('messengerSpinnerReact').make(0,0,0,[])):null,sa=ea!==0?[c('MercuryAttachmentType').ANIMATED_IMAGE]:0,ta=function ua(va){va.preventDefault();if(y){return c('bs_curry')._1(y[0],v)}else return 0;};return c('React').cloneElement(c('React').createElement("div",{className:c('joinClasses')(aa,"_4tsk",c('bs_js_boolean').to_js_boolean(fa)?"_mxz":'',c('bs_js_boolean').to_js_boolean(w&&1-fa)?"_52mr":'',c('bs_js_boolean').to_js_boolean(c('utilsRe').isTruthy(v.preview_uploading)&&1-c('utilsRe').isDefined(da[2]))?"_3etv":''),role:"presentation",style:pa,onClick:ta}),{"data-testid":sa},ga,ra,c('reasonReact').element(0,0,c('linkReact').make([i._("Open Photo")],["_4tsl"],0,0,0,c('bs_js_primitive').null_undefined_to_opt(da[2]),0,0,0,0,0,0,0,0,[z])))}else return null;};return ba}var q=280,r=480,s=1800,t=450;g.preview_thumbnail_size=q;g.preview_large_size=r;g.large_window_width=s;g.max_photo_width=t;g.getSrcFromAttachment=j;g.sizeToWidthHeight=k;g.extractPreviewMetadata=l;g.getMinHeightForAttachment=m;g.getImageFromMetadata=n;g.component=o;g.make=p}),null);
__d("MessengerThreadSharedMediaAfterWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1611092932240778"};j.getQueryID=function(){"use strict";return "719742774850735"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("MessengerThreadSharedMediaBeforeWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1268180893260151"};j.getQueryID=function(){"use strict";return "393804677650619"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("MessengerThreadSharedMediaFindWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1597236330294464"};j.getQueryID=function(){"use strict";return "728987990612546"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d('MessengerSharedMediaReducer',['MessengerSharedMediaActions','MessengerThreadSharedMediaHelper','Set'],(function a(b,c,d,e,f,g){'use strict';var h=c('MessengerSharedMediaActions').Types;function i(s,t){switch(t.type){case h.LOAD_CURRENT:var u=s.get('sharedMedia').get(t.threadFBID);if(u){var v=u.edges.find(function(y){return y.node.legacy_attachment_id===t.photoID});if(v)return s;}var w=s.get('isLoading').get(t.threadFBID);if(!!w&&w.curr)return s;var x=q(s,t.threadFBID,'curr',true);c('MessengerThreadSharedMediaHelper').search(t.threadFBID,t.photoID,function(y){return c('MessengerSharedMediaActions').currentLoaded(y)});return x;}return s}function j(s,t){switch(t.type){case h.LOAD_MORE_PREVIOUS:var u=s.get('isLoading').get(t.threadFBID);if(!!u&&u.prev)return s;var v=q(s,t.threadFBID,'prev',true);if(v===null)return s;c('MessengerThreadSharedMediaHelper').loadMorePrevious(t.threadFBID,t.afterCursor,t.first,function(w){return c('MessengerSharedMediaActions').previousLoaded(w)});return v;}return s}function k(s,t){switch(t.type){case h.LOAD_MORE_LATEST:var u=s.get('isLoading').get(t.threadFBID);if(!!u&&u.latest)return s;var v=q(s,t.threadFBID,'latest',true);if(v===null)return s;c('MessengerThreadSharedMediaHelper').loadMoreLatest(t.threadFBID,t.beforeCursor,t.last,function(w){return c('MessengerSharedMediaActions').latestLoaded(w)});return v;}return s}function l(s,t){switch(t.type){case h.CURRENT_LOADED:var u=t.data,v=Object.keys(u)[0],w=u[v].message_shared_media,x=w.edges.length,y=q(s,v,'curr',false);if(x!==0){var z=p(s.get('sharedMedia').get(v),w,0),aa=s.get('sharedMedia').set(v,z);y=y.set('sharedMedia',aa);var ba=w.edges[0];c('MessengerThreadSharedMediaHelper').loadMorePrevious(v,ba.cursor,10,function(ca){return c('MessengerSharedMediaActions').previousLoaded(ca)});c('MessengerThreadSharedMediaHelper').loadMoreLatest(v,ba.cursor,10,function(ca){return c('MessengerSharedMediaActions').latestLoaded(ca)})}return y;}return s}function m(s,t){switch(t.type){case h.PREVIOUS_LOADED:var u=t.data,v=Object.keys(u)[0],w=u[v].message_shared_media,x=q(s,v,'prev',false),y=p(s.get('sharedMedia').get(v),w,1),z=s.get('sharedMedia').set(v,y);x=x.set('sharedMedia',z);return x;}return s}function n(s,t){switch(t.type){case h.LATEST_LOADED:var u=t.data,v=Object.keys(u)[0],w=u[v].message_shared_media,x=q(s,v,'latest',false),y=p(s.get('sharedMedia').get(v),w,-1),z=s.get('sharedMedia').set(v,y);x=x.set('sharedMedia',z);return x;}return s}function o(s,t){switch(t.type){case h.DELETE_PHOTOS:var u=t.threadFBID,v=t.photoFBIDs,w=s.get('sharedMedia').get(u),x=new (c('Set'))(v.map(function(aa){return aa.toString()}));w.edges=w.edges.filter(function(aa){return !x.has(aa.node.legacy_attachment_id)});var y=s.get('sharedMedia').set(u,w),z=s.set('sharedMedia',y);return z;}return s}function p(s,t,u){var v={};v.count=t.count;if(u===1&&s){var w=s.edges;v.has_previous_page=s.has_previous_page;v.has_next_page=t.page_info.has_next_page;if(t.edges.length>0){v.edges=w.concat(t.edges)}else v.edges=w;}else if(u===-1&&s){var x=s.edges;v.has_previous_page=t.page_info.has_previous_page;v.has_next_page=s.has_next_page;if(t.edges.length>0){v.edges=t.edges.concat(x)}else v.edges=x;}else{v.has_previous_page=t.page_info.has_previous_page;v.has_next_page=t.page_info.has_next_page;if(t.edges.length>0)v.edges=t.edges;}return v}function q(s,t,u,v){var w=s.get('isLoading').get(t);if(w===undefined){w={};w[u]=v}else w[u]=v;var x=s.set('isLoading',s.get('isLoading').set(t,w));return x}var r={currentLoaded:l,deletePhotos:o,latestLoaded:n,loadCurrent:i,loadMoreLatest:k,loadMorePrevious:j,previousLoaded:m};f.exports=r}),null);
__d('MessengerSharedMediaState',['immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j={sharedMedia:c('immutable').Map({}),isLoading:c('immutable').Map({})};h=babelHelpers.inherits(k,c('immutable').Record(j));i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d('MessengerSharedMediaStore',['MessengerFluxReduceDispatcher','MessengerSharedMediaActions','MessengerSharedMediaReducer','MessengerSharedMediaState','FluxReduceStore'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=Object.keys(c('MessengerSharedMediaReducer'));h=babelHelpers.inherits(k,c('FluxReduceStore'));i=h&&h.prototype;k.prototype.getInitialState=function(){return new (c('MessengerSharedMediaState'))()};k.prototype.reduce=function(l,m){if(m.namespace!==c('MessengerSharedMediaActions').Namespace)return l;j.forEach(function(n){l=c('MessengerSharedMediaReducer')[n](l,m)});return l};function k(){h.apply(this,arguments)}f.exports=new k(c('MessengerFluxReduceDispatcher'))}),null);
__d('messengerSharedPhotosAlbumViewPhotoReact',['bs_curry','React','cssURL','reasonReact'],(function a(b,c,d,e,f,g){'use strict';var h=c('reasonReact').statelessComponent("MessengerSharedPhotosAlbumViewPhotoReact");function i(j,k,l,m,n){var o=h.slice();o[9]=function(){return c('React').createElement("a",{className:j,style:{backgroundImage:c('cssURL')(m)},href:"#",onClick:function p(){return c('bs_curry')._1(l,k)}})};return o}g.component=h;g.make=i}),null);
__d('messengerSharedPhotosAlbumViewVScrollReact',['cx','bs_array','bs_curry','React','ReactDOM','Animation','bs_caml_array','reasonReact','bs_caml_builtin_exceptions','MessengerSharedMediaActions','messengerSharedPhotosAlbumViewPhotoReact'],(function a(b,c,d,e,f,g,h){'use strict';function i(ca){var da=ca[1],ea=da.length;if(ea<48){c('MessengerSharedMediaActions').loadMorePrevious(ca[0],c('bs_caml_array').caml_array_get(da,da.length-1|0).cursor,48);return 0}else return 0;}function j(ca){if(ca){var da=ca[0];return +((da.scrollTop+da.clientHeight|0)>=(da.scrollHeight-20|0))}else throw c('bs_caml_builtin_exceptions').not_found;}function k(ca){if(ca){return +(ca[0].scrollTop<=20)}else throw c('bs_caml_builtin_exceptions').not_found;}function l(ca){if(ca){return ca[0].clientHeight}else throw c('bs_caml_builtin_exceptions').not_found;}function m(ca,da){if(ca){new (c('Animation'))(ca[0]).to("scrollTop",da).duration(200).go();return 0}else return 0;}function n(ca){var da=ca[2][0];if(da){return m(ca[1][0],c('ReactDOM').findDOMNode(da[0]).offsetTop-70|0)}else return 0;}function o(ca,da){var ea=da[5],fa=ea[3],ga=ea[1],ha=ea[0],ia=da[4],ja=ga.length;if(j(ia[1][0])){if(ja<ea[2]&&!fa.prev){c('MessengerSharedMediaActions').loadMorePrevious(ha,c('bs_caml_array').caml_array_get(ga,ga.length-1|0).cursor,48);return 0}else return 0;}else if(k(ia[1][0])&&!fa.latest){c('MessengerSharedMediaActions').loadMoreLatest(ha,c('bs_caml_array').caml_array_get(ga,0).cursor,48);return 0}else return 0;}function p(ca){var da=ca[4],ea=ca[0];i(ca[5]);var fa=da[1][0],ga;if(fa){var ha=c('bs_curry')._1(ea,o);fa[0].addEventListener("scroll",ha);ga=[ha]}else ga=0;var ia=function ja(ka,la){if(l(da[3][0])>0){n(da);var ma=da[0][0];if(ma){clearInterval(ma[0]);da[0][0]=0;return 0}else return 0;}else return 0;};da[0][0]=[setInterval(c('bs_curry')._1(ea,ia),200)];da[4][0]=ga;return 0}function q(ca){var da=ca[4],ea=da[1][0],fa=da[4][0];if(ea)if(fa)ea[0].removeEventListener("scroll",fa[0]);var ga=da[0][0];if(ga){clearInterval(ga[0]);return 0}else return 0;}var r=c('reasonReact').reducerComponentWithRetainedProps("MessengerSharedPhotosAlbumViewVScrollReact");function s(ca,da){da[4][1][0]=ca===null?0:[ca];return 0}function t(ca,da){da[4][3][0]=ca===null?0:[ca];return 0}function u(ca,da){da[4][2][0]=ca===null?0:[ca];return 0}function v(ca,da,ea,fa,ga,ha,ia){var ja=function ka(la){return c('bs_array').map(function(ma){var na=ma.node,oa=+(na.legacy_attachment_id===ha);return c('reasonReact').element([na.legacy_attachment_id],oa!==0?[c('bs_curry')._1(la[0],u)]:0,c('messengerSharedPhotosAlbumViewPhotoReact').make("_3bly",na.legacy_attachment_id,da,na.image1.uri,[]))},ea)};return [r[0],r[1],r[2],r[3],p,r[5],q,r[7],r[8],function(ka){return c('React').createElement("div",{ref:c('bs_curry')._1(ka[0],s),className:"_3xo8",onScroll:c('bs_curry')._1(ka[0],o)},c('React').createElement("div",{ref:c('bs_curry')._1(ka[0],t),className:"_3xoa"},ja(ka)))},function(){return [[0],[0],[0],[0],[0]]},[fa,ea,ga,ca],function(ka,la){return 0},r[13]]}var w=c('reasonReact').wrapReasonForJs(r,function(ca){return v(ca.isLoading,ca.onClick,ca.sharedPhotos,ca.threadID,ca.totalCount,ca.viewedPhoto,[])}),x=200,y=48,z=6,aa=20,ba=70;g.animationDuration=x;g.imagesToLoad=y;g.photosPerRow=z;g.scrollToEdgeTolerance=aa;g.headerHeight=ba;g.graduallyLoadPhotos=i;g.isScrolledToBottom=j;g.isScrolledToTop=k;g.getScrollHeight=l;g.scrollTo=m;g.autoScrollWhenLoaded=n;g.handleScroll=o;g.didMount=p;g.willUnmount=q;g.component=r;g.setRefChildContainer=s;g.setRefScrollable=t;g.setRefChild=u;g.make=v;g.jsComponent=w}),null);
__d('MessengerSharedPhotosAlbumView.react',['cx','fbt','messengerSharedPhotosAlbumViewVScrollReact','MessengerPhotoViewCloseLink.react','React','ShimButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('messengerSharedPhotosAlbumViewVScrollReact').jsComponent,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$MessengerSharedPhotosAlbumView2=function(){this.props.onClick(this.props.viewedPhoto)}.bind(this),this.$MessengerSharedPhotosAlbumView1=function(){return c('React').createElement('div',{className:"_3bm0 _5l-3",ref:'header'},c('React').createElement(c('ShimButton.react'),{className:"_3bm2",onClick:this.$MessengerSharedPhotosAlbumView2},c('React').createElement('div',{className:"_3bm3"}),i._("Back to Photo")),c('React').createElement('div',{className:"_3bm4"},i._("Shared photos")),c('React').createElement(c('MessengerPhotoViewCloseLink.react'),{onClick:this.props.onCloseSharedPhotos}))}.bind(this),p}n.prototype.render=function(){return c('React').createElement('div',{className:"_3bl- _5l-3",ref:'window'},this.$MessengerSharedPhotosAlbumView1(),c('React').createElement(l,{isLoading:this.props.isLoading,onClick:this.props.onClick,sharedPhotos:this.props.sharedPhotos,threadID:this.props.threadID,totalCount:this.props.totalCount,viewedPhoto:this.props.viewedPhoto}))};n.propTypes={onClick:m.func.isRequired,onCloseSharedPhotos:m.func.isRequired,sharedPhotos:m.arrayOf(m.object).isRequired,totalCount:m.number.isRequired,viewedPhoto:m.string.isRequired,threadID:m.string.isRequired,isLoading:m.object.isRequired};f.exports=n}),null);
__d('MessengerSharedPhotosAlbumViewContainer.react',['FluxContainer','MessengerSharedMediaStore','React','MessengerSharedPhotosAlbumView.react'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={edges:[],count:0,isLoading:{}},m}k.getStores=function(){return [c('MessengerSharedMediaStore')]};k.calculateState=function(l,m){var n=c('MessengerSharedMediaStore').getState(),o=n.sharedMedia;return {edges:o.get(m.threadID).edges,count:o.get(m.threadID).count,isLoading:n.isLoading.get(m.threadID)}};k.prototype.render=function(){if(this.state.edges.length===0)return null;return c('React').createElement(c('MessengerSharedPhotosAlbumView.react'),{onClick:this.props.onClick,onCloseSharedPhotos:this.props.onCloseSharedPhotos,sharedPhotos:this.state.edges,totalCount:this.state.count,viewedPhoto:this.props.viewedPhoto,threadID:this.props.threadID,isLoading:this.state.isLoading})};k.propTypes={onClick:j.func.isRequired,onCloseSharedPhotos:j.func.isRequired,viewedPhoto:j.string.isRequired,threadID:j.string};f.exports=c('FluxContainer').create(k,{withProps:true})}),null);
__d('messengerContactImageReact',['React','utilsRe','imageReact','reasonReact','bs_js_primitive','bs_js_null_undefined','MessengerContactImage.react','messengerProfileImageWrapperReact'],(function a(b,c,d,e,f,g){'use strict';var h=c('reasonReact').statelessComponent("MessengerContactImageReact");function i(n,o,p,q,r,s,t){var u=h.slice();u[9]=function(){return c('React').createElement("div",{className:c('utilsRe').$pipe$unknown(n,"")},c('reasonReact').element(0,0,c('messengerProfileImageWrapperReact').make([1],o,p,q,0,0,0,[r],0,0,[c('reasonReact').element(0,0,c('imageReact').make(0,[""],s,[r],0,[r],0,[]))])))};return u}var j=c('reasonReact').wrapReasonForJs(h,function(n){return i(c('bs_js_primitive').null_undefined_to_opt(n.className),c('bs_js_primitive').null_undefined_to_opt(n.customBadge),c('utilsRe').nullUndefinedBooleanToOptionBool(n.isMessengerUser),c('utilsRe').nullUndefinedBooleanToOptionBool(n.isPartiesUser),n.size,c('bs_js_primitive').null_undefined_to_opt(n.src),[])});function k(n,o,p,q,r,s,t){return c('reasonReact').wrapJsForReason(c('MessengerContactImage.react'),{className:c('bs_js_null_undefined').from_opt(n),customBadge:c('bs_js_null_undefined').from_opt(o),isMessengerUser:c('utilsRe').optionBoolToNullUndefinedBoolean(p),isPartiesUser:c('utilsRe').optionBoolToNullUndefinedBoolean(q),size:r,src:c('bs_js_null_undefined').from_opt(s)},t)}var l=[k],m=c('utilsRe').$pipe$unknown;g.$pipe$unknown=m;g.component=h;g.make=i;g.jsComponent=j;g.StraightJSComponent=l}),null);
__d('messengerDialogsRe',['bs_list','bs_curry'],(function a(b,c,d,e,f,g){'use strict';var h=[0],i=[0];function j(){var o=i[0],p=h[0];if(o){var q=o[0];if(c('bs_list').length(p)>0){return c('bs_curry')._1(q,[p])}else return c('bs_curry')._1(q,0);}else return 0;}function k(o){i[0]=[o];return j(0)}function l(o){h[0]=[o,h[0]];return j(0)}function m(){var o=h[0];h[0]=o?o[1]:0;return j(0)}function n(){h[0]=0;return j(0)}g.visibleDialogs=h;g.setDialogComponentState=i;g.updateComponent=j;g.addHandler=k;g.showDialog=l;g.removeDialog=m;g.removeAllDialogs=n}),null);
__d('MessengerPhotoInfoDialog.react',['cx','fbt','MessengerEnvironment','messengerContactImageReact','MessengerDialog.react','MessengerDialogButton.react','MessengerDialogHeader.react','MessengerDialogTitle.react','messengerDialogsRe','MessengerSpinner.react','MercuryIDs','MercuryTimestamp','MercuryParticipants','React','RelayClassic','RelayQL','XUIDialog.react','XUIDialogHeader.react','XUIDialogHeaderTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('messengerContactImageReact').jsComponent,m=c('React').PropTypes,n=54;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$MessengerPhotoInfoDialog6=function(){var u=this.props.fullMedia.exif_data,v='';if(u){if(u.aperture)v=u.aperture+' ';if(u.focal_length){var w=u.focal_length.split('/'),x=parseInt(w[0],10)/(parseInt(w[1],10)||1);v+=x+'mm '}if(u.iso)v+='ISO '+u.iso;}if(!v.length)return null;return c('React').createElement('div',{className:"_2zn1"},c('React').createElement('div',{className:"_2zn2"},i._("Camera")),c('React').createElement('div',{className:"_2zn4"},c('React').createElement('div',{className:"_2zn5"},u.model||'Camera'),c('React').createElement('div',{className:"_2zn6"},v)))}.bind(this),this.$MessengerPhotoInfoDialog5=function(){var u=this.props.fullMedia,v='';if(u.filesize>1e+06){v=(u.filesize/1e+06).toFixed(2)+'MB'}else if(u.filesize>1000){v=(u.filesize/1000).toFixed(2)+'KB'}else if(u.filesize>0)v=u.filesize+'B';var w=u.__typename==='MessageImage'?(u.original_dimensions.x*u.original_dimensions.y/1e+06).toFixed(2)+'MP':'';return c('React').createElement('div',{className:"_2zn1"},c('React').createElement('div',{className:"_2zn2"},i._("Details")),c('React').createElement('div',{className:"_2zn4"},c('React').createElement('div',{className:"_2zn5"},u.filename),c('React').createElement('div',{className:"_2zn6"},w+' '+u.original_dimensions.x+' x '+u.original_dimensions.y+' '+v)))}.bind(this),this.$MessengerPhotoInfoDialog4=function(event){event.preventDefault();this.props.showHeader&&this.props.showHeader();c('messengerDialogsRe').removeDialog()}.bind(this),this.$MessengerPhotoInfoDialog3=function(u){if(!u){this.props.showHeader&&this.props.showHeader();this.props.closeInfo()}}.bind(this),q}o.prototype.render=function(){if(!this.props.fullMedia)return null;return c('MessengerEnvironment').messengerui?this.$MessengerPhotoInfoDialog1():this.$MessengerPhotoInfoDialog2()};o.prototype.$MessengerPhotoInfoDialog1=function(){var p=this.props.fullMedia;return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.$MessengerPhotoInfoDialog3,ref:'dialog',type:'default',width:504},c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement(c('MessengerDialogTitle.react'),null,i._("Info")),c('React').createElement(c('MessengerDialogButton.react'),{action:'cancel',label:i._("Done"),onClick:this.$MessengerPhotoInfoDialog4,type:'primary'})),c('React').createElement('div',{className:"_2zn1"},c('React').createElement('div',{className:"_2zn2"},i._("Uploaded by")),c('React').createElement('div',{className:"_2zn4"},c('React').createElement('div',{className:"_2zn5"},p.creator.name),c('React').createElement('div',{className:"_2zn6"},c('MercuryTimestamp').getPreciseTimestamp(p.creation_time*1000))),c('React').createElement('div',{className:"_2zn7"},this.showProfilePic())),this.$MessengerPhotoInfoDialog5(),this.$MessengerPhotoInfoDialog6())};o.prototype.$MessengerPhotoInfoDialog2=function(){var p=this.props.fullMedia;return c('React').createElement(c('XUIDialog.react'),{onToggle:this.$MessengerPhotoInfoDialog3,shown:this.props.infoOpen,ref:'dialog',type:'serif',width:504},c('React').createElement(c('XUIDialogHeader.react'),null,c('React').createElement(c('XUIDialogHeaderTitle.react'),null,i._("Info"))),c('React').createElement('div',{className:"_2zn1"},c('React').createElement('div',{className:"_2zn2"},i._("Uploaded by")),c('React').createElement('div',{className:"_2zn4"},c('React').createElement('div',{className:"_2zn5"},p.creator.name),c('React').createElement('div',{className:"_2zn6"},c('MercuryTimestamp').getPreciseTimestamp(p.creation_time*1000))),c('React').createElement('div',{className:"_2zn7"},this.showProfilePic())),this.$MessengerPhotoInfoDialog5(),this.$MessengerPhotoInfoDialog6())};o.prototype.showProfilePic=function(){var p=this.props.fullMedia;if(!p){return c('React').createElement(c('MessengerSpinner.react'),null)}else{var q=c('MercuryIDs').getParticipantIDFromUserID(p.creator.id),r=c('MercuryParticipants').getNow(q);if(r)return c('React').createElement(l,{isMessengerUser:r.is_messenger_user,size:n,src:r.big_image_src||r.image_src});return c('React').createElement(c('MessengerSpinner.react'),null)}};o.propTypes={closeInfo:m.func,fullMedia:m.object,infoOpen:m.bool,photoID:m.string,showHeader:m.func};f.exports=c('RelayClassic').createContainer(o,{fragments:{fullMedia:function p(q){return function(){return {children:[{fieldName:'__typename',kind:'Field',metadata:{isRequisite:true},type:'String'},{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{children:[{fieldName:'creation_time',kind:'Field',metadata:{},type:'Time'},{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],fieldName:'creator',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true},type:'Actor'},{fieldName:'filename',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'x',kind:'Field',metadata:{},type:'Float'},{fieldName:'y',kind:'Field',metadata:{},type:'Float'}],fieldName:'original_dimensions',kind:'Field',metadata:{canHaveSubselections:true},type:'Vect2'},{fieldName:'filesize',kind:'Field',metadata:{},type:'Int'},{children:[{fieldName:'iso',kind:'Field',metadata:{},type:'Int'},{fieldName:'aperture',kind:'Field',metadata:{},type:'String'},{fieldName:'focal_length',kind:'Field',metadata:{},type:'String'},{fieldName:'model',kind:'Field',metadata:{},type:'String'}],fieldName:'exif_data',kind:'Field',metadata:{canHaveSubselections:true},type:'MessageImageExifData'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessageImage',type:'MessageImage'},{children:[{fieldName:'creation_time',kind:'Field',metadata:{},type:'Time'},{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],fieldName:'creator',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true},type:'Actor'},{fieldName:'filename',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'x',kind:'Field',metadata:{},type:'Float'},{fieldName:'y',kind:'Field',metadata:{},type:'Float'}],fieldName:'original_dimensions',kind:'Field',metadata:{canHaveSubselections:true},type:'Vect2'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessageVideo',type:'MessageVideo'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'MessengerPhotoInfoDialog_react_FullMediaRelayQL',type:'Node'}}()}}})}),null);
__d('SpotlightMessagesViewerContainerRoute',['RelayRoute','RelayQL'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments)}j.routeName='SpotlightMessagesViewerContainerRoute';j.paramDefinition={photoID:{type:'String',required:true}};j.queries={fullMedia:function k(l){return function(m){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:{kind:'CallVariable',callVariableName:'photoID'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(m)]),fieldName:'node',kind:'Query',metadata:{isAbstract:true,identifyingArgName:'id',identifyingArgType:'ID!'},name:'SpotlightMessagesViewerContainerRoute',type:'Node'}}(l.getFragment('fullMedia'))}};f.exports=j}),null);
__d('MessengerPhotoInfoDialogContainer.react',['MessengerPhotoInfoDialog.react','RelayRootContainer','SpotlightMessagesViewerContainerRoute','React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'MessengerPhotoInfoDialogContainer',proptypes:{photoID:h.string.isRequired,showHeader:h.func},render:function j(){var k=new (c('SpotlightMessagesViewerContainerRoute'))({photoID:this.props.photoID});return c('React').createElement(c('RelayRootContainer'),{Component:c('MessengerPhotoInfoDialog.react'),route:k,renderFetched:function(l){return c('React').createElement(c('MessengerPhotoInfoDialog.react'),babelHelpers['extends']({},l,{closeInfo:this.props.closeInfo,photoID:this.props.photoID,infoOpen:this.props.infoOpen,showHeader:this.props.showHeader}))}.bind(this)})}});f.exports=i}),null);
__d('MessengerPhotoViewBottomBar.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){return c('React').createElement('div',{className:"_51an _50-m _16zz"},k.children)};f.exports=i}),null);
__d('MessengerPhotoViewHScroll.react',['cx','Animation','MessengerSharedPhoto.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=200,m=80;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$MessengerPhotoViewHScroll1=null,p}n.prototype.componentDidMount=function(){this.$MessengerPhotoViewHScroll2()};n.prototype.componentDidUpdate=function(){this.$MessengerPhotoViewHScroll2()};n.prototype.componentWillUnmount=function(){this.$MessengerPhotoViewHScroll1&&this.$MessengerPhotoViewHScroll1.stop();this.$MessengerPhotoViewHScroll1=null};n.prototype.render=function(){var o=this.props.sharedPhotos,p=o.reduce(function(r,s){var t=s.node.image1===null?s.node.image:s.node.image1;if(t)r.push(c('React').createElement('div',{className:"_4dy9",key:s.node.legacy_attachment_id},c('React').createElement(c('MessengerSharedPhoto.react'),{className:"_42rl"+(this.props.photoID!==s.node.legacy_attachment_id?' '+"_q1a":''),fbid:s.node.legacy_attachment_id,onClick:this.props.onScroll,uri:t.uri})));return r}.bind(this),[]),q=(this.props.width-m)/2;return c('React').createElement('div',{className:"_463g"},c('React').createElement('div',{className:"_463h",ref:'childContainer'},c('React').createElement('div',{className:"_463j",style:{paddingLeft:q,paddingRight:q},ref:'scrollable'},p)))};n.prototype.$MessengerPhotoViewHScroll2=function(){var o=this.refs.childContainer?this.refs.childContainer.scrollLeft:0,p=this.props.sharedPhotos.findIndex(function(r){return r.node.legacy_attachment_id===this.props.photoID}.bind(this)),q=p*m;if(!this.$MessengerPhotoViewHScroll1)this.$MessengerPhotoViewHScroll1=new (c('Animation'))(this.refs.childContainer);this.$MessengerPhotoViewHScroll1.from('scrollLeft',o).to('scrollLeft',q).duration(l).go()};f.exports=n}),null);
__d('MessengerPhotoViewHeader.react',['cx','fbt','MessagingForwardingButtonNUX.react','MessengerActions','MessengerPhotoInfoDialogContainer.react','React','SpotlightViewerBottomBarLink','MessengerPhotoViewCloseLink.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$MessengerPhotoViewHeader3=function(){if(this.refs.forwardNUX)this.refs.forwardNUX.close();this.props.showForwardDialog&&this.props.showForwardDialog()}.bind(this),this.$MessengerPhotoViewHeader2=function(){return c('React').createElement(c('MessengerPhotoViewCloseLink.react'),{onClick:this.props.onClose})}.bind(this),o}m.prototype.render=function(){return c('React').createElement('div',{className:"_51an _50-m _3c1i _5l-3",role:'banner'},this.$MessengerPhotoViewHeader1(),this.$MessengerPhotoViewHeader2())};m.prototype.$MessengerPhotoViewHeader1=function(){var n=void 0,o=void 0;if(!this.props.disableForward){n=c('React').createElement(c('SpotlightViewerBottomBarLink'),{className:"_3c1o",onClick:this.$MessengerPhotoViewHeader3,ref:'forwardButton'},c('React').createElement('div',{className:"_2msr _3oo2"}),i._("Forward"));o=c('React').createElement(c('MessagingForwardingButtonNUX.react'),{contextRef:function(){return this.refs.forwardButton}.bind(this),ref:'forwardNUX'},i._("Send this image to other people in separate messages."))}return c('React').createElement('div',{key:'buttonsContainer',ref:'buttons'},c('React').createElement(c('SpotlightViewerBottomBarLink'),{ajaxify:this.props.url,className:"_3c1o",rel:'async'},c('React').createElement('div',{className:"_3ooo _2msr"}),i._("Download")),n,o,c('React').createElement(c('SpotlightViewerBottomBarLink'),{className:"_3c1o",href:'#',onClick:this.props.openInfo,ref:'moreInfo'},c('React').createElement('div',{className:"_3c1k _2msr"}),i._("Info")))};m.propTypes={disableForward:l.bool,onClose:l.func,openInfo:l.func,photoID:l.string,showForwardDialog:l.func,url:l.object};f.exports=m}),null);
__d("XMessagingVideoAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/mercury\/attachments\/video\/",{video_id:{type:"String",required:true},video_container_id:{type:"String",required:true},width:{type:"Int",required:true},height:{type:"Int",required:true},start_muted:{type:"Bool",defaultValue:false},no_fullscreen:{type:"Bool",defaultValue:false},load_player_controller:{type:"Bool",defaultValue:false},hide_controls_on_finish:{type:"Bool",defaultValue:false},hide_url_menu_option:{type:"Bool",defaultValue:false},is_share:{type:"Bool",defaultValue:false},render_play_button:{type:"Bool",defaultValue:false},start_timestamp:{type:"Int",defaultValue:0}})}),null);
__d('MessengerVideoPlayer.react',['cx','ActorURI','AsyncRequest','BackgroundImage.react','Event','FullScreen','MessengerSpinner.react','React','ShimButton.react','VideoPlayerReason','VideoPlayerStates','Vector','XMessagingVideoAttachmentController','SpotlightMercurySharedMediaViewer.react','SubscriptionsHandler','MercuryConfig','cssURL','getFullScreenElement','guid','joinClasses','setImmediate'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l="_ox1";i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(n){j.constructor.call(this,n);this.$MessengerVideoPlayer2=true;this.$MessengerVideoPlayer3=[];this.$MessengerVideoPlayer4=-1;this.$MessengerVideoPlayer5=false;this.$MessengerVideoPlayer6=false;this.$MessengerVideoPlayer10=function(o){if(!c('MercuryConfig').WWWSpotlightViewVideo&&!this.props.onClick||!this.isVideoClicked(o))return;o.preventDefault();if(c('MercuryConfig').WWWSpotlightViewVideo&&this.props.isOnStage){o.stopPropagation();this.isState(c('VideoPlayerStates').PLAYING)?this.pause(c('VideoPlayerReason').USER):this.play(c('VideoPlayerReason').USER)}else{this.pause(c('VideoPlayerReason').USER);this.props.onClick&&this.props.onClick()}}.bind(this);this.$MessengerVideoPlayer11=function(o){if(!this.isRightClick(o))return;o.stopPropagation();o.preventDefault();c('setImmediate')(function(){this.props.onSelect&&this.props.onSelect()}.bind(this))}.bind(this);this.$MessengerVideoPlayer8=function(){if(!this.$MessengerVideoPlayer2||this.state.forcePause)return;if(this.$MessengerVideoPlayer6){this.play();this.$MessengerVideoPlayer6=false}}.bind(this);this.$MessengerVideoPlayer7=function(){if(!this.$MessengerVideoPlayer2||this.state.forcePause||!(this.state.playerAPI&&this.state.playerAPI.isMuted()))return;this.$MessengerVideoPlayer6=!!this.state.playerAPI&&this.state.playerAPI.isState(c('VideoPlayerStates').PLAYING);this.pause()}.bind(this);this.state={playerAPI:null,forcePause:false};this.$MessengerVideoPlayer1=c('guid')();if(this.props.isInThread){this.listeners=new (c('SubscriptionsHandler'))();this.listeners.addSubscriptions(c('Event').listen(window,'blur',this.$MessengerVideoPlayer7),c('Event').listen(window,'focus',this.$MessengerVideoPlayer8))}}m.prototype.shouldComponentUpdate=function(n){var o=document.getElementById(this.$MessengerVideoPlayer1.toString()),p=c('FullScreen').isFullScreen();if(o!=null&&p&&o.children[0].children[0]===c('getFullScreenElement')())return false;var q=!!(n.stageDimensions&&n.stageDimensions!==this.props.stageDimensions);if(q){this.$MessengerVideoPlayer4=this.getCurrentTimePosition();this.$MessengerVideoPlayer5=!this.isState(c('VideoPlayerStates').PLAYING)}return !this.props.videoData||n.videoData.id!==this.props.videoData.id||q};m.prototype.componentWillReceiveProps=function(n){if(!this.$MessengerVideoPlayer2)return;if(this.props.isInThread&&n.isVisible!==this.props.isVisible)n.isVisible&&!this.state.forcePause?this.play():this.pause();};m.prototype.componentDidMount=function(){if(this.props.videoData)this.$MessengerVideoPlayer9();};m.prototype.componentDidUpdate=function(){this.$MessengerVideoPlayer3.forEach(function(n){return n.abandon()});this.$MessengerVideoPlayer3=[];if(this.props.videoData)this.$MessengerVideoPlayer9();};m.prototype.componentWillUnmount=function(){this.pause(c('VideoPlayerReason').UNLOADED);this.seek(0);this.$MessengerVideoPlayer3.forEach(function(n){return n.abandon()});this.listeners&&this.listeners.release();if(this.state.playerAPI)this.state.playerAPI.detachRootNode();};m.prototype.isVideoLoaded=function(){var n=!!this.state.playerAPI;!n;if(this.isState(c('VideoPlayerStates').FALLBACK))return false;return n};m.prototype.isVideoClicked=function(n){if(n.target instanceof HTMLElement)return n.target.classList.contains(l);return false};m.prototype.isRightClick=function(n){n=n||window.event;return n.button===2};m.prototype.play=function(n){if(!this.isVideoLoaded())return;if(this.state.playerAPI)this.state.playerAPI.play(n);};m.prototype.pause=function(n){if(!this.isVideoLoaded())return;if(this.state.playerAPI)this.state.playerAPI.pause(n);};m.prototype.seek=function(n){if(!this.isVideoLoaded())return;if(this.state.playerAPI)this.state.playerAPI.seek(n);};m.prototype.getCurrentTimePosition=function(){return this.isVideoLoaded()&&this.state.playerAPI?this.state.playerAPI.getCurrentTimePosition():-1};m.prototype.render=function(){var n=this.props.videoData,o=c('React').createElement('div',{ref:'placeholder'},c('React').createElement(c('MessengerSpinner.react'),{color:'blue',size:c('MessengerSpinner.react').large_size})),p={};if(n&&n.url){var q=n.original_dimensions;p.backgroundImage=c('cssURL')(n.url);o=c('React').createElement('div',{ref:'placeholder'},c('React').createElement(c('BackgroundImage.react'),{className:this.props.className,width:q.x,height:q.y,loadingIndicatorStyle:'large',backgroundSize:'cover',ref:'placeholder',style:p,src:n.url}))}return c('React').createElement(c('ShimButton.react'),{className:c('joinClasses')(this.props.className,"_4-od"),id:this.$MessengerVideoPlayer1,onClick:this.$MessengerVideoPlayer10,onMouseDown:this.$MessengerVideoPlayer11,style:p},o)};m.prototype.$MessengerVideoPlayer9=function(){var n=this.props.videoData;if(n){var o=n.original_dimensions;if(this.props.stageDimensions)o=c('SpotlightMercurySharedMediaViewer.react').getImageDimensionsForStage(new (c('Vector'))(n.original_dimensions.x,n.original_dimensions.y),this.props.stageDimensions);var p=c('XMessagingVideoAttachmentController').getURIBuilder().setString('video_id',n.legacy_attachment_id).setString('video_container_id',this.$MessengerVideoPlayer1).setInt('width',o.x).setInt('height',o.y).setInt('start_timestamp',this.$MessengerVideoPlayer4>0?Math.round(this.$MessengerVideoPlayer4):0).setBool('start_muted',n.start_muted).setBool('no_fullscreen',n.no_fullscreen).setBool('load_player_controller',true).setBool('hide_controls_on_finish',n.hide_controls_on_finish).setBool('hide_url_menu_option',Boolean(n.hide_url_menu_option)).setBool('is_share',n.is_share).setBool('render_play_button',this.props.isInThread).getURI(),q=this.props.attachment;if(q&&q.metadata&&q.metadata.pageid)p=c('ActorURI').create(p,q.metadata.pageid);var r=new (c('AsyncRequest'))();this.$MessengerVideoPlayer3.push(r);r.setMethod('GET').setStatusElement(this.refs.placeholder).setURI(p).setRelativeTo(this).setReadOnly(true).setHandler(function(s){}).send()}};m.prototype.$MessengerVideoPlayer12=function(){if(this.props.isVisible&&this.isState(c('VideoPlayerStates').FINISHED)){this.seek(0);this.play(c('VideoPlayerReason').LOOP)}else if(this.props.isVisible&&this.isState(c('VideoPlayerStates').PAUSED)&&!this.$MessengerVideoPlayer6){this.setState({forcePause:true})}else if(this.isState(c('VideoPlayerStates').PLAYING))this.setState({forcePause:false});};m.prototype.onVideoLoaded=function(){if(!this.$MessengerVideoPlayer2)return;this.state.playerAPI&&this.state.playerAPI.addListener('stateChange',function(){return this.$MessengerVideoPlayer12()}.bind(this));if(this.props.isVisible&&!this.$MessengerVideoPlayer5&&!this.state.forcePause){this.play(c('VideoPlayerReason').AUTOPLAY)}else this.pause();this.$MessengerVideoPlayer4=-1;this.$MessengerVideoPlayer5=false};m.prototype.isState=function(n){return !!(this.state.playerAPI&&this.state.playerAPI.isState(n))};m.propTypes={attachment:k.object,className:k.string,isInThread:k.bool,isVisible:k.bool,isOnStage:k.bool,stageDimensions:k.instanceOf(c('Vector')),videoData:k.object,onClick:k.func,onSelect:k.func};m.invokeVideoLoaded=function(n,o,p){n.$MessengerVideoPlayer2=p;if(o.isState(c('VideoPlayerStates').LOADING)){n.stateChangeListener=o.addListener('stateChange',function(){if(!o.isState(c('VideoPlayerStates').LOADING)){if(n.state&&n.state.playerAPI)return;n.setState({playerAPI:o},n.onVideoLoaded);if(n.stateChangeListener)n.stateChangeListener.remove();}})}else n.setState({playerAPI:o},n.onVideoLoaded);};f.exports=m}),null);
__d('MessagingForwardAttachmentDialog.react',['BootloadOnRender.react','JSResource','LazyComponent.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').PureComponent);i=h&&h.prototype;j.prototype.render=function(){return c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),this.props),loader:c('JSResource')('MessagingForwardAttachmentDialogImpl.react').__setRef('MessagingForwardAttachmentDialog.react'),placeholder:c('React').createElement('div',null)})};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('SpotlightMessagesViewerPagers.react',['cx','LeftRight.react','Link.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){return c('React').createElement(c('LeftRight.react'),null,c('React').createElement(c('Link.react'),{className:"_322u"+(!k.disablePrevArrow?' '+"_2bbb":'')+(' '+"_50-m")},c('React').createElement('div',{className:(!k.disablePrevArrow?"_4ksl":'')+(!k.disablePrevArrow?' '+"_4ksm":'')})),c('React').createElement(c('Link.react'),{className:"_322u"+(!k.disableNextArrow?' '+"_2bbc":'')+(' '+"_50-m")},c('React').createElement('div',{className:(!k.disableNextArrow?"_4ksl":'')+(!k.disableNextArrow?' '+"_4kso":'')})))};f.exports=i}),null);
__d("XMessagingPhotoDownloadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/mercury\/attachments\/photo\/",{photo_id:{type:"String",required:true}})}),null);
__d("XMessagingShareAttachmentDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/mercury\/attachments\/share\/dialog\/",{__asyncDialog:{type:"Int"}})}),null);
__d('SpotlightMercurySharedMediaViewer.react',['csx','cx','fbt','invariant','ActorURI','AsyncDialog','AsyncRequest','ChatPhotoViewFooterHScroll.react','ChatPhotoViewHeader.react','Event','FunnelLogger','KeyEventController','MessagingForwardAttachmentDialog.react','MessengerPhotoInfoDialogContainer.react','MessengerThreadSharedMediaHelper','MessengerVideoPlayer.react','Parent','PhotoUtils','React','SpotlightViewer','SpotlightViewerImage','SpotlightMessagesViewerPagers.react','SpotlightViewport','SubscriptionsHandler','Vector','XMessagingPhotoDownloadController','XMessagingShareAttachmentDialogController'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m,n=c('React').PropTypes,o=88,p=30,q='WWW_MESSENGER_SHARE_TO_FB_FUNNEL',r="_4-og";l=babelHelpers.inherits(s,c('React').Component);m=l&&l.prototype;function s(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=m.constructor).call.apply(t,[this].concat(w)),this.$SpotlightMercurySharedMediaViewer1=undefined,this.$SpotlightMercurySharedMediaViewer2=[],this.state={hasPrevPage:false,hasNextPage:false,firstPhotoLoaded:false,isLoading:false,mediaData:[],numberInOneBatch:p,photoData:null,showForward:false,showInfo:false,stageDimensions:new (c('Vector'))()},this.$SpotlightMercurySharedMediaViewer11=function(){if(!this.state.photoData)return null;return c('React').createElement(c('ChatPhotoViewFooterHScroll.react'),{onScroll:this.$SpotlightMercurySharedMediaViewer18,photoID:this.state.photoData.node.id,sharedPhotos:this.state.mediaData,updateNumberInOneBatch:this.$SpotlightMercurySharedMediaViewer19,width:this.state.stageDimensions.x})}.bind(this),this.$SpotlightMercurySharedMediaViewer13=function(){return this.state.showInfo?c('React').createElement(c('MessengerPhotoInfoDialogContainer.react'),{closeInfo:this.$SpotlightMercurySharedMediaViewer21,infoOpen:this.state.showInfo,photoID:this.state.photoData.node.id}):c('React').createElement('xhp',null)}.bind(this),this.$SpotlightMercurySharedMediaViewer19=function(y){this.setState({numberInOneBatch:y})}.bind(this),this.$SpotlightMercurySharedMediaViewer18=function(y){if(!this.state.mediaData||this.state.isLoading)return;var z=this.state.mediaData.findIndex(function(ba){return ba.node.legacy_attachment_id===y});if(z<0)return;var aa=this.state.mediaData[z];this.setState({photoData:aa});this.$SpotlightMercurySharedMediaViewer22(z)}.bind(this),this.$SpotlightMercurySharedMediaViewer5=function(y,event){if(this.state.photoData==null||this.state.isLoading)return;if(event&&!!c('Parent').bySelector(event.target,"._3tsq"))return;if(event&&event.target instanceof HTMLElement&&event.target.className===r)this.$SpotlightMercurySharedMediaViewer10();var z=this.state.mediaData.findIndex(function(ba){this.state.photoData!=null||k(0);return ba.node.legacy_attachment_id===this.state.photoData.node.legacy_attachment_id}.bind(this));if(z<0||z===this.state.mediaData.length-1&&!this.state.hasNextPage&&y)return;if(z===0&&!y){this.setState({isLoading:true},function(){return this.$SpotlightMercurySharedMediaViewer7(this.state.photoData,1,function(ba){if(ba===0)return;this.$SpotlightMercurySharedMediaViewer5(y)}.bind(this))}.bind(this));return}var aa=y?this.state.mediaData[z+1]:this.state.mediaData[z-1];this.setState({photoData:aa});this.$SpotlightMercurySharedMediaViewer22(z)}.bind(this),this.$SpotlightMercurySharedMediaViewer22=function(y){var z=this.state.numberInOneBatch,aa=this.state.mediaData;if(y<=z/2){this.setState({isLoading:true},function(){return this.$SpotlightMercurySharedMediaViewer7(aa[0],z,function(){})}.bind(this))}else if(y>=aa.length-z/2&&this.state.hasNextPage)this.setState({isLoading:true},function(){return this.$SpotlightMercurySharedMediaViewer6(aa[aa.length-1],z,function(){})}.bind(this));}.bind(this),this.$SpotlightMercurySharedMediaViewer10=function(){if(this.props.photoID===null)return;this.setState({photoData:null});this.props.onClosePhotoView()}.bind(this),this.$SpotlightMercurySharedMediaViewer16=function(){this.setState({showForward:true})}.bind(this),this.$SpotlightMercurySharedMediaViewer20=function(){this.setState({showForward:false})}.bind(this),this.$SpotlightMercurySharedMediaViewer15=function(){this.setState({showInfo:true})}.bind(this),this.$SpotlightMercurySharedMediaViewer21=function(){this.setState({showInfo:false})}.bind(this),this.$SpotlightMercurySharedMediaViewer17=function(){this.setState({showForward:false,showInfo:false});c('FunnelLogger').appendAction(q,'click');var y=this.state.photoData;if(!this.$SpotlightMercurySharedMediaViewer14()||!(y&&y.node))return;var z=y.node.legacy_attachment_id,aa=c('XMessagingShareAttachmentDialogController').getURIBuilder().getURI(),ba=new (c('AsyncRequest'))(aa).setData({attachment_id:z}).setMethod('POST');c('AsyncDialog').send(ba)}.bind(this),this.$SpotlightMercurySharedMediaViewer4=function(y){var z=c('MessengerThreadSharedMediaHelper').search(this.props.threadID,String(y),function(aa){return this.$SpotlightMercurySharedMediaViewer23(aa,0,function(){})}.bind(this));this.$SpotlightMercurySharedMediaViewer2.push(z)}.bind(this),this.$SpotlightMercurySharedMediaViewer6=function(y,z,aa){var ba=c('MessengerThreadSharedMediaHelper').loadMorePrevious(this.props.threadID,y.cursor,z||1,function(ca){return this.$SpotlightMercurySharedMediaViewer23(ca,1,aa)}.bind(this));this.$SpotlightMercurySharedMediaViewer2.push(ba)}.bind(this),this.$SpotlightMercurySharedMediaViewer7=function(y,z,aa){var ba=y?y.cursor:null,ca=c('MessengerThreadSharedMediaHelper').loadMoreLatest(this.props.threadID,ba,z||1,function(da){return this.$SpotlightMercurySharedMediaViewer23(da,-1,aa)}.bind(this));this.$SpotlightMercurySharedMediaViewer2.push(ca)}.bind(this),this.$SpotlightMercurySharedMediaViewer23=function(y,z,aa){var ba=Object.keys(y)[0],ca=y[ba].message_shared_media,da=ca.page_info,ea=ca.edges.length;if(ea!==0){var fa=this.state.mediaData;switch(z){case 0:this.setState({photoData:ca.edges[0],mediaData:[ca.edges[0]],firstPhotoLoaded:true});break;case 1:fa=fa.concat(ca.edges);this.setState({hasNextPage:da.has_next_page,mediaData:fa});break;case -1:fa=ca.edges;fa=fa.concat(this.state.mediaData);this.setState({mediaData:fa,hasPrevPage:da.has_previous_page});break;}}this.setState({isLoading:false});aa(ea)}.bind(this),this.$SpotlightMercurySharedMediaViewer3=function(){var y=new (c('Vector'))(c('Vector').getViewportDimensions().x,c('Vector').getViewportDimensions().y-o);return y},this.$SpotlightMercurySharedMediaViewer8=function(){if(this.state.photoData&&this.state.photoData.node){var y=this.state.photoData.node;if(y.__typename&&y.__typename==='MessageVideo')return this.$SpotlightMercurySharedMediaViewer24();var z=this.state.stageDimensions,aa=this.$SpotlightMercurySharedMediaViewer25(y,z);if(!aa)return null;var ba=s.getImageDimensionsForStage(new (c('Vector'))(aa.width,aa.height),z);return this.$SpotlightMercurySharedMediaViewer26(aa,ba)}else return null;}.bind(this),this.$SpotlightMercurySharedMediaViewer26=function(y,z){return c('React').createElement(c('SpotlightViewerImage'),{dimensions:z,ref:'image',src:y.uri})},this.$SpotlightMercurySharedMediaViewer25=function(y,z){var aa=null,ba=c('PhotoUtils').getImagesFromData(y);ba=ba.sort(function(da,ea){return ea.width-da.width});if(window.devicePixelRatio&&window.devicePixelRatio>1)z=new (c('Vector'))(z.x*window.devicePixelRatio,z.y*window.devicePixelRatio);for(var ca=0;ca<ba.length;ca++)if(!aa||ba[ca].width>=z.x||ba[ca].height>=z.y)aa=ba[ca];return aa},u}s.prototype.getDefaultProps=function(){return {enableShareToFB:false}};s.prototype.componentDidMount=function(){this.setState({isLoading:true,stageDimensions:this.$SpotlightMercurySharedMediaViewer3()},function(){return this.$SpotlightMercurySharedMediaViewer4(this.props.photoID)}.bind(this));this.$SpotlightMercurySharedMediaViewer1=new (c('SubscriptionsHandler'))();this.$SpotlightMercurySharedMediaViewer1.addSubscriptions(c('Event').listen(window,'resize',function(){this.setState({stageDimensions:this.$SpotlightMercurySharedMediaViewer3()})}.bind(this)),c('KeyEventController').registerKey('LEFT',function(){this.$SpotlightMercurySharedMediaViewer5(false);return false}.bind(this)),c('KeyEventController').registerKey('RIGHT',function(){this.$SpotlightMercurySharedMediaViewer5(true);return false}.bind(this)));if(this.props.enableShareToFB)c('FunnelLogger').startFunnel(q);};s.prototype.componentWillUpdate=function(t,u){if(u.firstPhotoLoaded!==this.state.firstPhotoLoaded)this.setState({isLoading:true},function(){this.$SpotlightMercurySharedMediaViewer6(u.photoData,u.numberInOneBatch,function(){});this.$SpotlightMercurySharedMediaViewer7(u.photoData,u.numberInOneBatch,function(){})}.bind(this));if(u.numberInOneBatch!=this.state.numberInOneBatch&&!u.isLoading)this.setState({isLoading:true},function(){return this.$SpotlightMercurySharedMediaViewer6(u.mediaData[u.mediaData.length-1],u.numberInOneBatch,function(){})}.bind(this));};s.prototype.componentWillUnmount=function(){this.$SpotlightMercurySharedMediaViewer1&&this.$SpotlightMercurySharedMediaViewer1.release();this.$SpotlightMercurySharedMediaViewer1=null;this.$SpotlightMercurySharedMediaViewer2.forEach(function(t){return t.abandon()})};s.prototype.render=function(){var t=this.$SpotlightMercurySharedMediaViewer8(),u=this.state.stageDimensions,v=this.state.isLoading||this.props.useloadingindicator&&!this.state.photoData;if(this.state.photoData==null)return null;var w=this.state.mediaData.findIndex(function(y){this.state.photoData!=null||k(0);return y.node.id===this.state.photoData.node.id}.bind(this)),x=c('React').createElement('div',null,this.$SpotlightMercurySharedMediaViewer9(),this.props.disablepaging?null:c('React').createElement(c('SpotlightMessagesViewerPagers.react'),{disablePrevArrow:w<=0&&!this.state.hasPrevPage,disableNextArrow:!this.state.hasNextPage&&w>=this.state.mediaData.length-1}));return c('React').createElement('span',null,c('React').createElement(c('SpotlightViewer'),{className:"_53vs",onHide:this.$SpotlightMercurySharedMediaViewer10,open:this.props.photoID!==null,ref:'spotlightViewer',rootClassName:this.props.rootClassName},c('React').createElement(c('SpotlightViewport'),{active:false,fadeInNOut:true,media:t,onClick:this.$SpotlightMercurySharedMediaViewer5,ref:'viewport',showLoadingIndicator:v,stageDimensions:u,useWidth:true},x),this.$SpotlightMercurySharedMediaViewer11()),this.$SpotlightMercurySharedMediaViewer12(),this.$SpotlightMercurySharedMediaViewer13())};s.prototype.$SpotlightMercurySharedMediaViewer9=function(){if(!this.state.photoData)return null;var t=this.state.photoData,u=t.node.legacy_attachment_id,v=c('XMessagingPhotoDownloadController').getURIBuilder().setString('photo_id',u).getURI();if(this.props.actorid)v=c('ActorURI').create(v,this.props.actorid);return c('React').createElement(c('ChatPhotoViewHeader.react'),{disableForward:this.props.disableForward,enableShareToFB:this.$SpotlightMercurySharedMediaViewer14(),onClose:this.$SpotlightMercurySharedMediaViewer10,openInfo:this.$SpotlightMercurySharedMediaViewer15,ref:'photoviewheader',showForwardDialog:this.$SpotlightMercurySharedMediaViewer16,showShareDialog:this.$SpotlightMercurySharedMediaViewer17,url:v})};s.prototype.$SpotlightMercurySharedMediaViewer12=function(){if(!this.state.photoData)return null;var t=j._("Forward in separate messages");return c('React').createElement(c('MessagingForwardAttachmentDialog.react'),{attachmentID:this.state.photoData.node.legacy_attachment_id,onClose:this.$SpotlightMercurySharedMediaViewer20,shown:this.state.showForward,title:t})};s.prototype.$SpotlightMercurySharedMediaViewer14=function(){var t=this.state.photoData;if(!t)return false;return !!this.props.enableShareToFB&&t.node.__typename==='MessageImage'&&t.node.image1.uri.indexOf('.gif')<0};s.prototype.$SpotlightMercurySharedMediaViewer24=function(){if(this.state.photoData)return c('React').createElement(c('MessengerVideoPlayer.react'),{isOnStage:true,isVisible:true,videoData:this.state.photoData.node,stageDimensions:this.state.stageDimensions});return null};s.propTypes={disableForward:n.bool,enableShareToFB:n.bool,onClosePhotoView:n.func,photoID:n.string,rootClassName:n.string,threadID:n.string};s.getImageDimensionsForStage=function(t,u){var v=t.x,w=t.y,x=u.x,y=u.y,z=v/w,aa=x/y;if(v>=x||w>=y){if(aa<z){v=x;w=Math.round(x/z)}else if(aa>z){v=Math.round(y*z);w=y}else{v=x;w=y}}else if(z<aa){v=Math.round(w*z)}else w=Math.round(v/z);return new (c('Vector'))(v,w)};f.exports=s}),null);
__d("MessageShareType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({IMAGE:"image",PLATFORM_SHARE_CTA:"platform_share_CTA"})}),null);
__d("XMessagingForwardAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/mercury\/attachments\/forward\/",{})}),null);
__d("XMessengerPlatformShareCTAController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messages\/platform\/share\/",{})}),null);
__d("InstantGameContextType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({THREAD:"THREAD",GROUP:"GROUP",STORY:"STORY",SOLO:"SOLO"})}),null);
__d('MessengerGraphQLTypeaheadAdapter',['MercuryIDs','MercuryParticipantTypes','MercuryTypeaheadConstants','RelayModern','SearchableEntry','MessengerGraphQLTypeaheadAdapter_user.graphql','MessengerGraphQLTypeaheadAdapter_page.graphql','MessengerGraphQLTypeaheadAdapter_group.graphql','MessengerGraphQLTypeaheadAdapter_game.graphql'],(function a(b,c,d,e,f,g){'use strict';var h=c('RelayModern').graphql;function i(k){return c('MercuryIDs').isValid(k)?k:c('MercuryIDs').getParticipantIDFromUserID(k)}var j={convertProfileToEntry:function k(l){if(!l||!l.id||!l.name||l.is_memorialized)return null;var m=c('MercuryParticipantTypes').NON_FRIEND;if(l.is_viewer_friend||l.messenger_contact.is_on_viewer_contact_list||l.is_viewer_coworker&&l.viewer_affinity>0){m=c('MercuryParticipantTypes').FRIEND}else if(l.is_viewer_coworker)m=c('MercuryParticipantTypes').FB4C;var n=null;if(l.members)n=l.members.edges.map(function(o){return o.node.name}).join(', ');return new (c('SearchableEntry'))({uniqueID:l.id,title:l.name,type:m,subtitle:n,photo:l.profile_picture&&l.profile_picture.uri,uri:l.url,auxiliaryData:{isMessengerUser:l.is_messenger_user,isWorkUser:l.is_work_user},order:-l.viewer_affinity})},convertPageToEntry:function k(l,m){if(!l||!l.id||!l.name)return null;if(l.instant_game_info)return this.convertGameToEntry(l);return new (c('SearchableEntry'))({uniqueID:l.id,title:l.name,type:m,photo:l.profile_picture&&l.profile_picture.uri,uri:l.url,auxiliaryData:{isMessengerUser:l.is_messenger_user,isWorkUser:l.is_work_user},order:0})},convertGameToEntry:function k(l,m){if(!l||!l.id||!l.name||!l.instant_game_info)return null;return new (c('SearchableEntry'))({uniqueID:l.id,title:l.name,type:c('MercuryTypeaheadConstants').GAME_TYPE,photo:l.instant_game_info&&l.instant_game_info.icon_uri,uri:l.instant_game_info&&l.instant_game_info.game_uri,order:0})},convertGroupToEntry:function k(l,m){if(!l||!l.thread_key||!l.is_group_thread)return null;var n=l.thread_key.thread_fbid;if(!n)return null;var o=l.image&&l.image.uri,p=l.other_participants.edges.map(function(t){return t.node.messaging_actor.name}).join(', '),q=l.name,r=null;if(!q){q=p}else r=p;if(!q)return null;var s={};s.thread={thread_id:n,other_user_fbid:null,image_src:o,participants:l.other_participants.edges.map(function(t){return i(t.node.messaging_actor.id)})};s.participantsToRender=l.other_participants.edges.map(function(t){return {id:i(t.node.messaging_actor.id),is_messenger_user:t.node.messaging_actor.is_messenger_user}});return new (c('SearchableEntry'))({uniqueID:n,order:m,photo:o,title:q,subtitle:r,type:c('MercuryParticipantTypes').THREAD,auxiliaryData:s})},userFragment:function k(){return c('MessengerGraphQLTypeaheadAdapter_user.graphql')},pageFragment:function k(){return c('MessengerGraphQLTypeaheadAdapter_page.graphql')},groupFragment:function k(){return c('MessengerGraphQLTypeaheadAdapter_group.graphql')},gameFragment:function k(){return c('MessengerGraphQLTypeaheadAdapter_game.graphql')}};f.exports=j}),null);
__d("MessengerPaymentFriendsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1309627089135674"};j.getQueryID=function(){"use strict";return "1005776556192539"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d('MessengerPaymentFriendsLocalCache',['AsyncRequest','MessengerGraphQLTypeaheadAdapter','MessengerPaymentFriendsQueryWebGraphQLQuery','SearchSourceCallbackManager','TokenizeUtil','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('SearchSourceCallbackManager'))({parseFn:c('TokenizeUtil').parse,matchFn:c('TokenizeUtil').isQueryMatch,indexFn:null}),i=null,j=null,k=null;function l(){if(!k)return;var n=k;k=null;new (c('AsyncRequest'))(c('MessengerPaymentFriendsQueryWebGraphQLQuery').getLegacyURI({cursor:n})).setAllowCrossPageTransition(true).exec().then(function(o){return o.getPayload()}).done(function(o){h.addLocalEntries(o.viewer.all_friends.edges.map(function(p){return c('MessengerGraphQLTypeaheadAdapter').convertProfileToEntry(p.node)}).filter(function(p){return p!==null}))})}var m={onEntriesLoaded:function n(o){if(j){o(j);return}if(!i){var p=c('MessengerPaymentFriendsQueryWebGraphQLQuery').getURI({first:50});i=new (c('AsyncRequest'))(p).setAllowCrossPageTransition(true).exec().then(function(q){return q.getPayload()}).then(function(q){var r=q.data.viewer.all_friends.edges.map(function(s){return c('MessengerGraphQLTypeaheadAdapter').convertProfileToEntry(s.node)}).filter(function(s){return s!==null});h.addLocalEntries(r);j=r;k=q.data.viewer.all_friends.page_info.end_cursor})}i.done(function(){o(j)},c('emptyFunction'))},search:function n(o,p){m.onEntriesLoaded(function(){h.search(o,function(q){p(q,o)})})},isBootstrapped:function n(){return j!==null}};f.exports=m}),null);
__d("MessengerRoomWithAssocObjectAudienceWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1310278199019267"};j.getQueryID=function(){"use strict";return "404717586571843"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d('MessengerRoomWithAssocObjectAudienceLocalCacheManager',['AsyncRequest','Map','MercurySingletonProvider','MessengerGraphQLTypeaheadAdapter','SearchSourceCallbackManager','TokenizeUtil','MessengerRoomWithAssocObjectAudienceWebGraphQLQuery','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';function h(k){this.entriesPromise=null;this.audienceEntries=null;this.threadFBID=k;this.callbackManager=new (c('SearchSourceCallbackManager'))({parseFn:c('TokenizeUtil').parse,matchFn:c('TokenizeUtil').isQueryMatch,indexFn:null})}h.prototype.onEntriesLoaded=function(k){if(this.audienceEntries!==null){k(this.audienceEntries,true);return}if(this.entriesPromise===null){var l=c('MessengerRoomWithAssocObjectAudienceWebGraphQLQuery').getURI({thread_fbid:this.threadFBID,first:30});this.entriesPromise=new (c('AsyncRequest'))(l).setAllowCrossPageTransition(true).exec().then(function(m){return m.getPayload()}).then(function(m){var n=m.data.message_thread.messaging_audience_list.edges.map(function(o){return c('MessengerGraphQLTypeaheadAdapter').convertProfileToEntry(o.node)}).filter(function(o){return o!==null});this.callbackManager.addLocalEntries(n);this.audienceEntries=n}.bind(this))}if(this.entriesPromise)this.entriesPromise.done(function(){k(this.audienceEntries,true)}.bind(this),c('emptyFunction'));};h.prototype.search=function(k,l){this.onEntriesLoaded(function(){this.callbackManager.search(k,function(m){l(m,k)})}.bind(this))};h.prototype.isBootstrapped=function(){return this.audienceEntries!==null};i.get=function(){return j.get()};function i(){this.threadFBIDToCacheMap=new (c('Map'))()}i.prototype.onEntriesLoaded=function(k,l){var m=this.threadFBIDToCacheMap.get(k);if(!m){m=new h(k);this.threadFBIDToCacheMap.set(k,m)}m.onEntriesLoaded(l)};i.prototype.search=function(k,l,m){var n=this.threadFBIDToCacheMap.get(k);if(!n){n=new h(k);this.threadFBIDToCacheMap.set(k,n)}n.search(l,m)};i.prototype.isBootstrapped=function(k){if(!k)return false;var l=this.threadFBIDToCacheMap.get(k);if(l)return l.isBootstrapped();return false};var j=new (c('MercurySingletonProvider'))(i);f.exports=i}),null);
__d('MessengerSearchFunnelLogger',['FunnelLogger','MercuryIDs'],(function a(b,c,d,e,f,g){'use strict';var h;function i(p){c('FunnelLogger').startFunnel(p);c('FunnelLogger').appendActionIfNew(p,'search_start');h=[]}function j(p){c('FunnelLogger').appendActionIfNew(p,'search_end');c('FunnelLogger').endFunnel(p)}function k(p,q){c('FunnelLogger').appendActionWithPayload(p,'initiate_content_search',{query_string:q,impression_list:h});c('FunnelLogger').endFunnel(p)}function l(p,q,r,s){if(r==null||h==null||h.length===0){c('FunnelLogger').appendActionWithPayload(p,'search_result_error',{error:'threadID or latest impression list are null',thread_id:r,impression_list:h});c('FunnelLogger').endFunnel(p);return}r=c('MercuryIDs').getThreadFBIDFromThreadID(r);c('FunnelLogger').appendActionWithPayload(p,'log_result_selection',{thread_id:r,type:s,rank:h.indexOf(r),search_query:q?q:''})}function m(p,q,r){c('FunnelLogger').appendActionWithPayloadIfNew(p,'loading_state_impression_list',{search_query:q,impression_list:r});h=r}function n(p,q,r,s){c('FunnelLogger').appendActionWithPayload(p,q,{search_query:r,impression_list:s});h=s}function o(p){c('FunnelLogger').appendAction(p,'clear_search_query');this.endFunnel(p)}f.exports={startFunnel:i,logResultSelection:l,endFunnel:j,logContentSearchInitiation:k,logLoadingStateQuery:m,logUpdateQuery:n,logClearQuery:o}}),null);
__d("MessengerFriendsWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1138546562910012"};j.getQueryID=function(){"use strict";return "340140939718890"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("TopMessengerFriendsAndGroupsWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1573443639352292"};j.getQueryID=function(){"use strict";return "170460960113470"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d('MessengerTypeaheadLocalCache',['AsyncRequest','MessengerConfig','MessengerFriendsWebGraphQLQuery','MessengerGraphQLTypeaheadAdapter','SearchSourceCallbackManager','TokenizeUtil','TopMessengerFriendsAndGroupsWebGraphQLQuery','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('SearchSourceCallbackManager'))({parseFn:c('TokenizeUtil').parse,matchFn:c('TokenizeUtil').isQueryMatch,indexFn:null}),i=null,j=null,k=null,l=null;function m(){if(c('MessengerConfig').BootstrapTypeaheadFromBuddylist||!k)return;var o=k;k=null;new (c('AsyncRequest'))(c('MessengerFriendsWebGraphQLQuery').getLegacyURI({cursor:o})).setAllowCrossPageTransition(true).exec().then(function(p){return p.getPayload()}).done(function(p){h.addLocalEntries(p.viewer.all_friends.edges.map(function(q){return c('MessengerGraphQLTypeaheadAdapter').convertProfileToEntry(q.node)}).filter(function(q){return q!==null}))})}var n={onEntriesLoaded:function o(p){var q;if(i!==null&&j!==null){p(i,j,false);return}if(l===null)(function(){var r=c('MessengerConfig').BootstrapTypeaheadFromBuddylist,s=c('TopMessengerFriendsAndGroupsWebGraphQLQuery').getLegacyURI({use_buddylist:r,first:100});l=new (c('AsyncRequest'))(s).setAllowCrossPageTransition(true).exec().then(function(t){return t.getPayload()}).then(function(t){var u=(r?t.viewer.chat_buddylist:t.viewer.all_friends.edges).map(function(w){return c('MessengerGraphQLTypeaheadAdapter').convertProfileToEntry(r?w.represented_profile:w.node)}).filter(function(w){return w!==null}),v=t.viewer.message_threads.edges.map(function(w,x){return c('MessengerGraphQLTypeaheadAdapter').convertGroupToEntry(w.node,x)}).filter(function(w){return w!==null});h.addLocalEntries(u);h.addLocalEntries(v);i=u;j=v;if(t.viewer.all_friends&&t.viewer.all_friends.page_info&&t.viewer.all_friends.page_info.has_next_page)k=t.viewer.all_friends.page_info.end_cursor;})})();l.done(function(){p(i,j,true);m()},c('emptyFunction'))},search:function o(p,q){n.onEntriesLoaded(function(){h.search(p,function(r){q(r,p)})})},isBootstrapped:function o(){return i!==null&&j!==null}};f.exports=n}),null);
__d('MessengerTypeaheadResultRoute',['RelayQL','RelayRoute'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments)}j.routeName='MessengerTypeaheadResultRoute';j.paramDefinition={queryString:{required:true,type:'String'},canViewerSendMoneyFilter:{required:false,type:'Boolean'},localEntryIDs:{required:true,type:'Array'},shouldQueryPages:{required:true,type:'Boolean'},shouldQueryThreadName:{required:true,type:'Boolean'},shouldQueryParticipantIDs:{required:true,type:'Boolean'},shouldQueryParticipantNames:{required:true,type:'Boolean'},shouldQueryVCEndpoint:{required:true,type:'Boolean'},shouldQueryInternalBot:{required:true,type:'Boolean'},shouldQueryRoomsAudience:{required:true,type:'Boolean'},threadFBID:{required:false,type:'String'}};j.queries={profiles:function k(l,m){var n=m.canViewerSendMoneyFilter,o=m.shouldQueryPages,p=m.shouldQueryVCEndpoint,q=m.shouldQueryInternalBot,r=m.shouldQueryRoomsAudience;return function(s){return {calls:[{kind:'Call',metadata:{type:'String!'},name:'query',value:{kind:'CallVariable',callVariableName:'queryString'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(s)]),fieldName:'entities_named',kind:'Query',metadata:{identifyingArgName:'query',identifyingArgType:'String!'},name:'MessengerTypeaheadResultRoute',type:'SearchableEntitiesQuery'}}(l.getFragment('profiles',{canViewerSendMoneyFilter:n,shouldQueryPages:o,shouldQueryVCEndpoint:p,shouldQueryInternalBot:q,shouldQueryRoomsAudience:r}))},groups:function k(l,m){var n=m.queryString,o=m.localEntryIDs,p=m.shouldQueryThreadName,q=m.shouldQueryParticipantIDs,r=m.shouldQueryParticipantNames;return function(s){return {children:[].concat.apply([],[c('RelayQL').__frag(s)]),fieldName:'viewer',kind:'Query',metadata:{},name:'MessengerTypeaheadResultRoute',type:'Viewer'}}(l.getFragment('groups',{queryString:n,localEntryIDs:o,shouldQueryThreadName:p,shouldQueryParticipantIDs:q,shouldQueryParticipantNames:r}))},roomAudience:function k(l,m){var n=m.queryString,o=m.shouldQueryRoomsAudience;return function(p){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:{kind:'CallVariable',callVariableName:'threadFBID'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(p)]),fieldName:'message_thread',kind:'Query',metadata:{identifyingArgName:'id',identifyingArgType:'ID!'},name:'MessengerTypeaheadResultRoute',type:'MessageThread'}}(l.getFragment('roomAudience',{queryString:n,shouldQueryRoomsAudience:o}))}};f.exports=j}),null);
__d('MessengerContactAdapters',['immutable','ImmutableObject','MercuryTypeaheadConstants'],(function a(b,c,d,e,f,g){var h={fromSearchableEntry:function i(j){var k=j.getType(),l={alias:null,isMessengerUser:null,isWorkUser:null,participants:null,photo:j.getPhoto(),subtitle:j.getSubtitle(),thread:null,title:j.getTitle(),type:k,uid:j.getUniqueID()},m=j.getAuxiliaryData();if(m)if(k===c('MercuryTypeaheadConstants').THREAD_TYPE){l.thread=new (c('ImmutableObject'))(m.thread);l.participants=c('immutable').Map().withMutations(function(n){m.participantsToRender.forEach(function(o){n.set(o.id,o)})})}else{l.isMessengerUser=m.isMessengerUser;l.isWorkUser=m.isWorkUser;l.alias=m.alias}return new (c('ImmutableObject'))(l)},fromMercuryParticipant:function i(j){return new (c('ImmutableObject'))({alias:j.alias,uid:j.id,photo:j.image_src,title:j.name,subtitle:'',type:j.type,isMessengerUser:j.is_messenger_user,isWorkUser:j.is_work_user,href:j.href,timezone:j.timezone})}};f.exports=h}),null);
__d('imageBlockReact',['reasonReact','ImageBlock.react','bs_js_null_undefined'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l,m){return c('reasonReact').wrapJsForReason(c('ImageBlock.react'),{className:c('bs_js_null_undefined').from_opt(i),contentClassName:c('bs_js_null_undefined').from_opt(j),imageClassName:c('bs_js_null_undefined').from_opt(k),spacing:c('bs_js_null_undefined').from_opt(l)},m)}g.make=h}),null);
__d("mercuryThreadTimestampReact",["React","formatDate","reasonReact","joinClasses","bs_js_primitive"],(function a(b,c,d,e,f,g){'use strict';var h=c("reasonReact").statelessComponent("MercuryThreadTimestampReact");function i(k,l,m,n,o){var p=n?n[0]:"",q=h.slice();q[9]=function(){if(k){var r=k[0],s=new Date(r),t=l?l[0]:s.toLocaleDateString(),u=m?m[0]:c("formatDate")(s,"g:ia");return c("React").cloneElement(c("React").createElement("abbr",{className:c("joinClasses")(p,"timestamp"),title:t},u),{"data-utime":r/1000})}else return c("React").createElement("abbr",undefined);};return q}var j=c("reasonReact").wrapReasonForJs(h,function(k){return i(c("bs_js_primitive").null_undefined_to_opt(k.time),c("bs_js_primitive").null_undefined_to_opt(k.title),c("bs_js_primitive").null_undefined_to_opt(k.text),[k.className],[])});g.component=h;g.make=i;g.jsComponent=j}),null);
__d("messengerLocalTimeReact",["cx","fbt","React","bs_js_boolean","reasonReact","joinClasses","mercuryThreadTimestampReact"],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c("reasonReact").statelessComponent("RMessengerLocalTimeReact");function k(n,o,p){var q=j.slice();q[9]=function(){if(o){var r=o[0]-new Date().getTimezoneOffset()*-60;if(r===0){return null}else{var s=new Date(Date.now()+r*1000),t=s.getHours(),u=+(t<6||t>22),v=c("joinClasses")("_10rk",n);return c("React").createElement("span",{className:v},c("React").createElement("span",{className:c("bs_js_boolean").to_js_boolean(u)?"_2f3x":""},"(",c("reasonReact").element(0,0,c("mercuryThreadTimestampReact").make([s.getTime()],0,0,0,[]))," ",i._("local time"),")"))}}else return null;};return q}var l=22,m=6;g.component=j;g.nightStartHour=l;g.nightEndHour=m;g.make=k}),null);
__d('messengerTextWithEntitiesReact',['utilsRe','reasonReact','bs_js_null_undefined','MessengerTextWithEntities.react'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l){return c('reasonReact').wrapJsForReason(c('MessengerTextWithEntities.react'),{renderEmoji:c('utilsRe').optionBoolToNullUndefinedBoolean(i),renderEmoticons:c('utilsRe').optionBoolToNullUndefinedBoolean(j),text:c('bs_js_null_undefined').from_opt(k)},l)}g.make=h}),null);
__d('MercuryParticipantsImage.react',['MercuryParticipants','React','SplitImage.react','areEqual'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'MercuryParticipantsImage',_bigImageToken:null,propTypes:{className:h.string,participants:h.array.isRequired,partiesProfileImages:h.arrayOf(h.string),size:h.number},getInitialState:function j(){return {participantImages:[]}},componentDidMount:function j(){this._getParticipantImages(this.props)},componentWillReceiveProps:function j(k){this._getParticipantImages(k)},componentWillUnmount:function j(){this._bigImageToken&&this._bigImageToken.remove()},shouldComponentUpdate:function j(k,l){return k.size!==this.props.size||!c('areEqual')(l.participantImages,this.state.participantImages)},render:function j(){if(this.state.participantImages.length>0)return c('React').createElement(c('SplitImage.react'),{border:true,className:this.props.className,srcs:this.state.participantImages,size:this.props.size});return null},_getParticipantImages:function j(k){this._bigImageToken&&this._bigImageToken.remove();if(!k.participants||!k.participants.length){this.setState({participantImages:[]})}else this._bigImageToken=c('MercuryParticipants').getOrderedBigImageMulti(k.participants,function(l){if(k.partiesProfileImages)l=l.concat(k.partiesProfileImages);this.isMounted()&&this.setState({participantImages:l})}.bind(this));}});f.exports=i}),null);
__d('MercuryThreadImage.react',['cx','ImmutableObject','MercuryIDs','MercuryParticipantsImage.react','MessagingThreadType','MercuryParticipantsConstants','Pixelz.react','React','areEqual'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.shouldComponentUpdate=function(m,n){return m.thread.image_src!==this.props.thread.image_src||!c('areEqual')(m.thread.participants,this.props.thread.participants)||m.size!==this.props.size||m.viewer!==this.props.viewer||m.useBackground!==this.props.useBackground};l.prototype.render=function(){var m=this.props.thread,n=this.props.size||c('MercuryParticipantsConstants').BIG_IMAGE_SIZE,o=m.image_src;if(o){if(this.props.useBackground)return c('React').createElement('div',{style:{height:n,backgroundImage:'url('+o+')',backgroundPosition:'50% 50%',backgroundRepeat:'no-repeat',backgroundSize:'cover',width:n}});return c('React').createElement(c('Pixelz.react'),{alt:'',height:n,resizeMode:'cover',src:o,width:n})}if(m.thread_type===c('MessagingThreadType').ROOM){var p={height:n+'px',width:n+'px'};if(m.custom_color)p.background=m.custom_color;return c('React').createElement('span',{className:"_asv _asw",style:p},m.name[0])}var q=c('MercuryIDs').isCanonical(m.thread_id),r=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer),s=[];if(m.participants)s=q?m.participants.filter(function(t){return t!==r}):m.participants.slice(0,3);if(s.length===0&&q)s.push(r);return c('React').createElement(c('MercuryParticipantsImage.react'),{className:this.props.className,participants:s,size:n})};function l(){i.apply(this,arguments)}l.propTypes={thread:k.instanceOf(c('ImmutableObject')).isRequired,viewer:k.string.isRequired,size:k.number,useBackground:k.bool};f.exports=l}),null);
__d('mercuryThreadImageReact',['reasonReact','bs_js_null_undefined','MercuryThreadImage.react'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l,m){return c('reasonReact').wrapJsForReason(c('MercuryThreadImage.react'),{size:c('bs_js_null_undefined').from_opt(i),thread:j,useBackground:c('bs_js_null_undefined').from_opt(k),viewer:l},m)}g.make=h}),null);
__d('optionType',['bs_curry'],(function a(b,c,d,e,f,g){'use strict';function h(j,k,l){if(j){if(k){return c('bs_curry')._2(l,j[0],k[0])}else return 0;}else if(k){return 0}else return 1;}function i(j,k){if(j){if(k){return +(j[0]===k[0])}else return 0;}else if(k){return 0}else return 1;}g.equals=h;g.equalsReference=i}),null);
__d('messengerThreadImageReact',['utilsRe','MercuryIDs','optionType','reasonReact','bs_js_primitive','mercuryThreadImageReact','messengerProfileImageWrapperReact'],(function a(b,c,d,e,f,g){'use strict';function h(l,m){var n=l.other_user_fbid,o=m.size,p=+c('MercuryIDs').isCanonical(l.thread_id);if(n==null){return 0}else if(p!==0){if(o!==0){var q=c('MercuryIDs').getParticipantIDFromUserID(n),r=m.get(q);if(r!==undefined&&!(r==null)){return c('utilsRe').isTruthy(r.is_messenger_user)}else return 0;}else return 0;}else return 0;}var i=c('reasonReact').statelessComponentWithRetainedProps("MessengerThreadImageReact");function j(l,m,n,o,p,q,r){var s=m?m[0]:0,t=i.slice();t[8]=function(u){var v=u[1][5],w=u[0][5];if(w[0]!==v[0]||w[1]!==v[1]||!c('optionType').equalsReference(w[2],v[2])||w[3]!==v[3]||w[4]!==v[4]){return 1}else return +(w[5]!==v[5]);};t[9]=function(){return c('reasonReact').element(0,0,c('messengerProfileImageWrapperReact').make(0,0,[h(p,o)],0,c('bs_js_primitive').null_undefined_to_opt(p.custom_color),c('bs_js_primitive').null_undefined_to_opt(p.thread_type),0,n,l,s&&+c('MercuryIDs').isCanonical(p.thread_id),[c('reasonReact').element(0,0,c('mercuryThreadImageReact').make(n,p,[true],q,[]))]))};t[11]=[l,s,n,h(p,o),p,q];return t}var k=c('reasonReact').wrapReasonForJs(i,function(l){return j(c('bs_js_primitive').null_undefined_to_opt(l.className),[c('utilsRe').isTruthy(l.showBadge)],c('bs_js_primitive').null_undefined_to_opt(l.size),l.participants,l.thread,l.viewer,[])});g.getIsMessengerUser=h;g.component=i;g.make=j;g.jsComponent=k}),null);
__d('messengerContactListRowReact',['cx','ix','fbt','bs_array','bs_block','bs_curry','React','utilsRe','linkReact','imageReact','bs_js_boolean','MercuryIDs','Badge.react','reasonReact','joinClasses','bs_js_primitive','PresenceStatus','imageBlockReact','AvailableListConstants','MercuryParticipantTypes','messengerLocalTimeReact','MessengerAdminGroupUtils','messengerContactActionsRe','messengerThreadImageReact','messengerContactImageReact','messengerTextWithEntitiesReact'],(function a(b,c,d,e,f,g,h,i,j){'use strict';function k(x,y){if(x){return +x[0].contains(y)}else return 0;}function l(x,y,z){var aa=z.photo,ba=0;if(aa==null){ba=1}else if(aa===""){ba=1}else return c('reasonReact').element(0,0,c('messengerContactImageReact').make(["_5l39 _5rmm"],0,c('utilsRe').nullUndefinedBooleanToOptionBool(z.isMessengerUser),0,32,[aa],[]));if(ba===1){var ca=z.thread,da=z.participants,ea=+(z.type===c('MercuryParticipantTypes').THREAD),fa=0,ga,ha;if(y){if(da==null){fa=2}else if(ea!==0){ga=y[0];ha=da;fa=3}else fa=2;}else if(ca==null){fa=2}else if(da==null){fa=2}else if(ea!==0){ga=ca;ha=da;fa=3}else fa=2;switch(fa){case 2:return c('React').createElement("div",{className:"_5l39"});case 3:return c('reasonReact').element(0,0,c('messengerThreadImageReact').make(["_5l39"],0,[32],ha,ga,x,[]));}}}function m(x){var y=x.subtitle,z=0;if(y==null){z=1}else if(y===""){z=1}else return c('React').createElement("div",undefined,c('React').createElement("div",{className:"_3q34"},c('reasonReact').element(0,0,c('messengerTextWithEntitiesReact').make([1],[1],[x.title],[]))),c('React').createElement("div",{className:"_3q35"},y));if(z===1){var aa=c('utilsRe').isTruthy(x.isWorkUser);return c('React').createElement("div",{className:"_364g"},x.title,c('reasonReact').element(0,0,c('messengerLocalTimeReact').make("_5ywd",c('bs_js_primitive').null_undefined_to_opt(x.timezone),[])),aa!==0?c('React').createElement(c('Badge.react'),{size:"small",type:"work"}):null)}}function n(x,y){var z=y.type;if(x){if(x[0]!==0){if(z==null){return 0}else if(z===c('MercuryParticipantTypes').FRIEND||z===c('MercuryParticipantTypes').USER){var aa=c('MercuryIDs').getUserIDFromParticipantID(y.uid);if(aa==null){return 0}else return +(c('PresenceStatus').get(aa)===c('AvailableListConstants').ACTIVE);}else return 0;}else return 0;}else return 0;}var o=c('React').createElement("span",{className:"_5rh4"},j._("Added")),p=c('React').createElement("span",{className:"_5rh4"},j._("Invited")),q=c('reasonReact').element(0,0,c('imageReact').make(["_1kqm"],0,[i("86852")],0,0,0,0,[]));function r(x,y){y[4][2]=x===null?0:[x];return 0}function s(x){var y=x[5],z=y[1],aa=y[2],ba=x[4][2];if(z){if(z[0]!==0){if(aa){if(ba){var ca=ba[0];c('bs_curry')._1(aa[0],ca);var da=y[3];if(da){c('bs_curry')._1(da[0],ca);return 0}else return 0;}else return 0;}else return 0;}else return 0;}else return 0;}function t(x){var y=x[1],z=y[5][1],aa=x[0][5][2],ba=y[4][2];if(z){if(z[0]!==0){if(aa){if(ba){var ca=ba[0];c('bs_curry')._1(aa[0],ca);var da=y[5][3];if(da){return c('bs_curry')._1(da[0],ca)}else return 0;}else return 0;}else return 0;}else return 0;}else return 0;}function u(x){return [x]}function v(){var x=c('reasonReact').reducerComponentWithRetainedProps("MessengerContactListRowReact"),y=function aa(ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa){var xa=qa?qa[0]:"",ya=function db(eb,fb){if(ga){return 0}else{eb.stopPropagation();eb.preventDefault();return 0}},za=function db(eb,fb){var gb=eb[0];if(gb===c('messengerContactActionsRe').actions.SELECT){return c('bs_curry')._2(ea,ca,eb[1])}else if(fa){return c('bs_curry')._2(fa[0],gb,ca)}else return 0;},ab=function db(eb,fb){var gb=c('utilsRe').isSomeTrue(ka);if(gb!==0&&da){return c('bs_curry')._1(da[0],ca)}else return 0;},bb=function db(eb,fb){eb.stopPropagation();return za([c('messengerContactActionsRe').actions.SELECT,eb],fb)},cb=function db(eb){var fb=eb[4],gb=eb[0],hb;if(ra){var ib=ra[0].get(fb[0].uid);hb=ib!==undefined?[ib,1]:[null,1]}else hb=[null,0];if(k(pa,fb[0].uid)){return o}else if(k(la,fb[0].uid)){return p}else if(k(sa,fb[0].uid)){return q}else if(hb[1]){return hb[0]}else if(n(ta,fb[0])){return c('React').createElement("div",{className:"_jg2"})}else{var jb=ha?c('utilsRe').arrayCompact(ha[0]):undefined,kb=fb[0].thread,lb,mb=0,nb;if(ua){nb=ua[0];mb=1}else if(kb==null){lb=0}else{nb=kb;mb=1}if(mb===1){var ob=+c('MessengerAdminGroupUtils').isAdmin(jb,fb[0].uid);lb=+c('MessengerAdminGroupUtils').isOwner(c('bs_js_boolean').to_js_boolean(ob),nb)}var pb=lb!==0?c('React').createElement("span",{className:"_5qsj"},j._("Admin")):null,qb=function rb(sb,tb){return c('bs_curry')._2(gb,za,[sb,tb])};if(ga){return c('React').createElement("div",undefined,pb,c('React').createElement(ga[0],{className:"_rwo",adminIds:jb,contact:fb[0],extrasEnabled:c('bs_js_boolean').to_js_boolean(ja),isOpen:c('bs_js_boolean').to_js_boolean(fb[1]),onAction:qb,onToggle:c('bs_curry')._1(eb[3],u),viewer:va}))}else return pb;}};return [x[0],x[1],x[2],function(db){var eb=db[4],fb=+(ca===db[5][0]);return [fb!==0?eb[0]:c('bs_curry')._1(ba,ca),eb[1],eb[2]]},s,t,x[6],x[7],x[8],function(db){var eb=db[4],fb=c('joinClasses')(xa,"_5l37"+(c('utilsRe').optionBoolToBoolean(ma)?' '+"_1k1p":'')+(c('bs_js_boolean').to_js_boolean(eb[1])?' '+"_rwn":'')),gb=ga?-1:0,hb=c('reasonReact').element(0,0,c('linkReact').make(0,["_5f0v"],0,0,0,0,[c('bs_curry')._1(db[0],bb)],[c('bs_curry')._1(db[0],ya)],[c('bs_curry')._1(db[0],ab)],0,0,[gb],0,0,[c('reasonReact').element(0,0,c('imageBlockReact').make(0,["_5l38"],0,["medium"],[l(va,ua,eb[0]),m(eb[0]),cb(db)]))])),ib=c('utilsRe').isSomeTrue(ia);if(ib!==0){return c('React').createElement("li",{ref:c('bs_curry')._1(db[0],r),className:fb},hb)}else return c('React').cloneElement(c('React').createElement("li",{ref:c('bs_curry')._1(db[0],r),className:fb,role:"option"}),{"aria-selected":c('utilsRe').optionBoolToNullUndefinedBoolean(ma)},hb);},function(){return [c('bs_curry')._1(ba,ca),0,0]},[ca,ma,oa,na],function(db,eb){return c('bs_block').__(0,[[eb[0],db[0],eb[2]]])},x[13]]},z=c('reasonReact').wrapReasonForJs(x,function(aa){var ba=aa.adminIds;return y(aa.contactAdapter,aa.rawContact,c('bs_js_primitive').null_undefined_to_opt(aa.onHighlight),aa.onSelect,c('bs_js_primitive').null_undefined_to_opt(aa.onAction),c('bs_js_primitive').null_undefined_to_opt(aa.actionsClass),ba==null?0:[c('bs_array').map(function(ca){if(ca==null){return 0}else return [ca];},ba)],c('utilsRe').nullUndefinedBooleanToOptionBool(aa.disableRole),+aa.extraActionsEnabled,c('utilsRe').nullUndefinedBooleanToOptionBool(aa.hasHoverState),c('bs_js_primitive').null_undefined_to_opt(aa.invitedEntryIDs),c('utilsRe').nullUndefinedBooleanToOptionBool(aa.isHighlighted),c('bs_js_primitive').null_undefined_to_opt(aa.onRenderHighlight),c('bs_js_primitive').null_undefined_to_opt(aa.onScrollIntoView),c('bs_js_primitive').null_undefined_to_opt(aa.originalEntryIDs),c('bs_js_primitive').null_undefined_to_opt(aa.rowClassName),c('bs_js_primitive').null_undefined_to_opt(aa.rowElements),c('bs_js_primitive').null_undefined_to_opt(aa.selectedEntryIDs),c('utilsRe').nullUndefinedBooleanToOptionBool(aa.showPresence),c('bs_js_primitive').null_undefined_to_opt(aa.thread),aa.viewer,[])});return [z,y]}var w=32;g.imageSize=w;g.idsContain=k;g.renderContactImage=l;g.renderContactText=m;g.getPresenceStatus=n;g.isOriginal=o;g.isInvited=p;g.isSelected=q;g.setThisRef=r;g.didMount=s;g.didUpdate=t;g.actionsToggle=u;g.createMake=v}),null);
__d('MessengerContactList.react',['cx','fbt','messengerContactListRowReact','ImageBlock.react','immutable','ImmutableObject','MessengerSpinner.react','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('messengerContactListRowReact').createMake(),m=l[0],n=l[1],o=c('React').PropTypes;j=babelHelpers.inherits(p,c('React').PureComponent);k=j&&j.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.$MessengerContactList1=function(v,w){return c('React').createElement('div',{key:w,className:"_29hk"},this.$MessengerContactList4(w),c('React').createElement('ul',{id:this.props.ariaOwneeID,role:this.props.disableRole?undefined:'listbox',className:"_29hl"},v.map(function(x,y){var z=y===0?c('joinClasses')(this.props.rowClassName,"_3h3c"):this.props.rowClassName;return c('React').createElement(m,{actionsClass:this.props.actionsClass,adminIds:this.props.adminIds,contactAdapter:this.props.contactAdapter,disableRole:this.props.disableRole,extraActionsEnabled:!!this.props.extraActionsEnabled,hasHoverState:this.props.hasHoverState,invitedEntryIDs:this.props.invitedEntryIDs,isHighlighted:this.props.highlightedEntry&&this.props.highlightedEntry.getUniqueID()===x.getUniqueID(),key:x.id||x.getUniqueID(),onAction:this.props.onAction,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,rawContact:x,rowClassName:z,rowElements:this.props.rowElements,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:this.props.showPresence,thread:this.props.thread,viewer:this.props.viewer})}.bind(this))))}.bind(this),r}p.prototype.render=function(){return c('React').createElement('div',{className:this.props.className},this.props.listSections.map(this.$MessengerContactList1).toArray(),this.$MessengerContactList2(),this.$MessengerContactList3())};p.prototype.$MessengerContactList4=function(q){if(!q)return null;return c('React').createElement('div',{className:"_225b"},q)};p.prototype.$MessengerContactList2=function(){if(!this.props.isLoading)return null;return c('React').createElement(c('ImageBlock.react'),{className:"_225c",spacing:'medium'},c('React').createElement(c('MessengerSpinner.react'),{className:"_2i59",color:'grey'}),c('React').createElement('div',{className:"_4g0h"},i._("Searching...")))};p.prototype.$MessengerContactList3=function(){if(this.props.isLoading||this.props.listSections.size>0||!this.props.queryString||this.props.queryString.length===0)return null;return c('React').createElement('div',{className:"_3xcx"},i._("No results found"))};p.propTypes={actionsClass:o.func,adminIds:o.arrayOf(o.string),ariaOwneeID:o.string,contactAdapter:o.func.isRequired,disableRole:o.bool,extraActionsEnabled:o.bool,hasHoverState:o.bool,highlightedEntry:o.object,invitedEntryIDs:o.instanceOf(c('immutable').Set),isLoading:o.bool,listSections:o.instanceOf(c('immutable').OrderedMap).isRequired,onAction:o.func,onHighlight:o.func,onRenderHighlight:o.func,onScrollIntoView:o.func,onSelect:o.func.isRequired,originalEntryIDs:o.instanceOf(c('immutable').Set),queryString:o.string,rowClassName:o.string,rowElements:o.instanceOf(c('immutable').Map),selectedEntryIDs:o.instanceOf(c('immutable').Set),showPresence:o.bool,thread:o.instanceOf(c('ImmutableObject')),viewer:o.string.isRequired};f.exports=p}),null);
__d('MessengerGraphQLTypeaheadHighlighter',['Keys','MercuryTypeaheadConstants','MessengerTypeaheadUtils'],(function a(b,c,d,e,f,g){'use strict';var h={getNextHighlightedEntry:function i(j,k,l,m){var n=[];c('MessengerTypeaheadUtils').getEntryOrder(l).forEach(function(r){return n.push.apply(n,k.filter(function(s){return c('MessengerTypeaheadUtils').areSectionsEqual(s.getType(),r)}))});if(!m){if(n.length===0)return null;if(j===c('Keys').DOWN){var o=n[0];if(o.getType()===c('MercuryTypeaheadConstants').SEARCH_TYPE&&n.length>1)return n[1];return o}if(j===c('Keys').UP)return n[n.length-1];return null}var p=m.getUniqueID(),q=n.findIndex(function(r){return r.getUniqueID()===p});if(q===-1)return null;if(j===c('Keys').DOWN){q+=1;if(q>=n.length)q=0;}else if(j===c('Keys').UP){q-=1;if(q<0)q=n.length-1;}return n[q]}};f.exports=h}),null);
__d('MessengerTypeaheadResultView.react',['cx','immutable','Keys','MessengerContactAdapters','MessengerContactList.react','MessengerGraphQLTypeaheadHighlighter','MessengerSearchFunnelLogger','MessengerTypeaheadUtils','MessengerGraphQLTypeaheadAdapter','MercuryConfig','MercuryParticipantTypes','MercuryTypeaheadConstants','React','RelayModern','SearchableEntry','idx','joinClasses','wrapNullableForReact','MessengerTypeaheadResultView_profiles.graphql','MessengerTypeaheadResultView_groups.graphql','MessengerTypeaheadResultView_roomAudience.graphql'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('RelayModern').createFragmentContainer,l=c('RelayModern').graphql,m=50,n=c('MercuryConfig').SearchMorePeople?c('MercuryConfig').SearchMorePeople:c('MercuryTypeaheadConstants').COMPOSER_NON_FRIENDS_MAX,o=c('React').PropTypes;i=babelHelpers.inherits(p,c('React').Component);j=i&&i.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=j.constructor).call.apply(q,[this].concat(t)),this.$MessengerTypeaheadResultView1=null,this.onKeyDown=function(v){if(v===c('Keys').RETURN){this.props.onSelectHighlighted();return}if(!this.$MessengerTypeaheadResultView1)return;var w=c('MessengerGraphQLTypeaheadHighlighter').getNextHighlightedEntry(v,this.$MessengerTypeaheadResultView1,this.props.queryString,this.props.highlightedEntry);this.props.onNextHighlighted(w)}.bind(this),this.$MessengerTypeaheadResultView3=function(v){this.props.onNextHighlighted(v)}.bind(this),r}p.prototype.componentWillMount=function(){this.$MessengerTypeaheadResultView1=this.$MessengerTypeaheadResultView2(this.props)};p.prototype.componentDidMount=function(){this.props.onMount(this.onKeyDown)};p.prototype.componentWillUpdate=function(q){this.$MessengerTypeaheadResultView1=this.$MessengerTypeaheadResultView2(q)};p.prototype.componentWillUnmount=function(){this.props.onUnmount()};p.prototype.render=function(){var q=this.$MessengerTypeaheadResultView1;if(!q)return null;return c('React').createElement(c('MessengerContactList.react'),{ariaOwneeID:this.props.ariaOwneeID,className:c('joinClasses')(this.props.className,"_4p-s"),contactAdapter:c('MessengerContactAdapters').fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:c('wrapNullableForReact')(this.props.highlightedEntry),isLoading:false,listSections:c('MessengerTypeaheadUtils').buildListSections(q,this.props.queryString),onHighlight:this.$MessengerTypeaheadResultView3,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:false,viewer:this.props.viewer})};p.prototype.$MessengerTypeaheadResultView2=function(q){var r=q.localEntries,s={};r.forEach(function(v){s[v.getUniqueID()]=true});var t=c('MessengerTypeaheadUtils').sortEntries(this.$MessengerTypeaheadResultView4(q,s),q.queryString),u=r.concat(t).filter(function(v){return !q.selectedEntryIDs.contains(v.getUniqueID())}).slice(0,m);c('MessengerSearchFunnelLogger').logUpdateQuery('WWW_MESSENGER_SEARCH_SESSION_FUNNEL','fetched_state_impression_list',this.props.queryString,u.map(function(v){return v.getUniqueID()}));return u};p.prototype.$MessengerTypeaheadResultView4=function(q,r){var s=[];if(q.profiles){var t,u=(t=q)!=null?(t=t.profiles)!=null?(t=t.user_results)!=null?t.edges:t:t:t;if(u)s=u.map(function(ka){return c('MessengerGraphQLTypeaheadAdapter').convertProfileToEntry(ka.node)});}else if(q.roomAudience){var v,w=(v=q)!=null?(v=v.roomAudience)!=null?(v=v.user_results)!=null?v.edges:v:v:v;if(w)s=w.map(function(ka){return c('MessengerGraphQLTypeaheadAdapter').convertProfileToEntry(ka.node)});}var x=[],y=[],z=[];for(var aa=s,ba=Array.isArray(aa),ca=0,aa=ba?aa:aa[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var da;if(ba){if(ca>=aa.length)break;da=aa[ca++]}else{ca=aa.next();if(ca.done)break;da=ca.value}var ea=da;if(!ea||r[ea.getUniqueID()])continue;if(ea.getType()===c('MercuryParticipantTypes').FRIEND&&x.length<c('MercuryTypeaheadConstants').COMPOSER_FRIENDS_MAX){x.push(ea)}else if(ea.getType()===c('MercuryParticipantTypes').FB4C&&y.length<c('MercuryTypeaheadConstants').COMPOSER_FB4C_MAX){y.push(ea)}else if(ea.getType()===c('MercuryParticipantTypes').NON_FRIEND&&z.length<n)z.push(ea);}s=x.concat(y).concat(z);if(q.profiles&&q.profiles.page_results)s=s.concat(q.profiles.page_results.edges.map(function(ka){return c('MessengerGraphQLTypeaheadAdapter').convertPageToEntry(ka.node,this.$MessengerTypeaheadResultView5(ka.node))}.bind(this)).filter(function(ka){return ka&&!r[ka.getUniqueID()]}).slice(0,c('MercuryTypeaheadConstants').COMPOSER_PAGES_MAX));if(q.profiles&&q.profiles.vc_results)s=s.concat(q.profiles.vc_results.edges.map(function(ka){return c('MessengerGraphQLTypeaheadAdapter').convertPageToEntry(ka.node,c('MercuryTypeaheadConstants').MEETING_ROOM_PAGE_TYPE)}));if(q.profiles&&q.profiles.internal_bot_results)s=s.concat(q.profiles.internal_bot_results.edges.map(function(ka){return c('MessengerGraphQLTypeaheadAdapter').convertPageToEntry(ka.node,c('MercuryTypeaheadConstants').INTERNAL_BOT_PAGE_TYPE)}));var fa=[],ga=[];if(q.groups&&q.groups.threads_matching_name)ga=ga.concat(q.groups.threads_matching_name.edges);if(q.groups&&q.groups.threads_matching_participant_ids)ga=ga.concat(q.groups.threads_matching_participant_ids.edges);if(q.groups&&q.groups.threads_matching_participant_names)ga=ga.concat(q.groups.threads_matching_participant_names.edges);for(var ha=0;ha<ga.length;ha++){var ia=ga[ha],ja=c('MessengerGraphQLTypeaheadAdapter').convertGroupToEntry(ia.node,ha);if(!ja||r[ja.getUniqueID()])continue;fa.push(ja);r[ja.getUniqueID()]=true}return s.concat(fa)};p.prototype.$MessengerTypeaheadResultView5=function(q){if(!q||!q.category_type)return c('MercuryParticipantTypes').PAGE;if(q.category_type===c('MercuryTypeaheadConstants').WORKPLACE_BOT_CATEGORY_TYPE)return c('MercuryTypeaheadConstants').INTERNAL_BOT_PAGE_TYPE;return c('MercuryTypeaheadConstants').PAGE_TYPE};p.propTypes={ariaOwneeID:o.string.isRequired,canViewerSendMoneyFilter:o.bool,className:o.string.isRequired,localEntries:o.arrayOf(o.instanceOf(c('SearchableEntry'))).isRequired,localEntryIDs:o.arrayOf(o.string.isRequired).isRequired,hasHoverState:o.bool.isRequired,highlightedEntry:o.object,onMount:o.func.isRequired,onNextHighlighted:o.func.isRequired,onScrollIntoView:o.func.isRequired,onSelect:o.func.isRequired,onSelectHighlighted:o.func.isRequired,onUnmount:o.func.isRequired,originalEntryIDs:o.instanceOf(c('immutable').Set).isRequired,queryString:o.string.isRequired,selectedEntryIDs:o.instanceOf(c('immutable').Set).isRequired,shouldQueryInternalBot:o.bool.isRequired,shouldQueryPages:o.bool.isRequired,shouldQueryParticipantIDs:o.bool.isRequired,shouldQueryParticipantNames:o.bool.isRequired,shouldQueryThreadName:o.bool.isRequired,shouldQueryVCEndpoint:o.bool.isRequired,viewer:o.string.isRequired};p.defaultProps={ariaOwneeID:'',className:''};f.exports=k(p,{profiles:function q(){return c('MessengerTypeaheadResultView_profiles.graphql')},groups:function q(){return c('MessengerTypeaheadResultView_groups.graphql')},roomAudience:function q(){return c('MessengerTypeaheadResultView_roomAudience.graphql')}})}),null);
__d('MessengerTypeaheadTopFriendsView.react',['cx','immutable','Keys','MessengerContactAdapters','MessengerContactList.react','MessengerGraphQLTypeaheadHighlighter','MessengerTypeaheadUtils','React','joinClasses','wrapNullableForReact'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.onKeyDown=function(r){if(r===c('Keys').RETURN){this.props.onSelectHighlighted();return}var s=c('MessengerGraphQLTypeaheadHighlighter').getNextHighlightedEntry(r,this.props.entries.toArray(),this.props.queryString,this.props.highlightedEntry);this.props.onNextHighlighted(s)}.bind(this),this.$MessengerTypeaheadTopFriendsView1=function(r){this.props.onNextHighlighted(r)}.bind(this),n}l.prototype.componentWillMount=function(){if(this.props.hasHoverState)if(this.props.entries.size>0)this.props.onNextHighlighted(this.props.entries.first());};l.prototype.componentDidMount=function(){this.props.onMount(this.onKeyDown)};l.prototype.componentWillUnmount=function(){this.props.onUnmount()};l.prototype.render=function(){return c('React').createElement(c('MessengerContactList.react'),{ariaOwneeID:this.props.ariaOwneeID,className:c('joinClasses')(this.props.className,"_4p-s"),contactAdapter:c('MessengerContactAdapters').fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:c('wrapNullableForReact')(this.props.highlightedEntry),isLoading:!!this.props.queryString,listSections:c('MessengerTypeaheadUtils').buildListSections(this.props.entries.toArray(),this.props.queryString),onHighlight:this.$MessengerTypeaheadTopFriendsView1,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:false,viewer:this.props.viewer})};l.propTypes={ariaOwneeID:k.string.isRequired,className:k.string.isRequired,entries:k.instanceOf(c('immutable').List).isRequired,hasHoverState:k.bool.isRequired,highlightedEntry:k.object,onNextHighlighted:k.func.isRequired,onMount:k.func.isRequired,onScrollIntoView:k.func.isRequired,onSelect:k.func.isRequired,onSelectHighlighted:k.func.isRequired,onUnmount:k.func.isRequired,originalEntryIDs:k.instanceOf(c('immutable').Set).isRequired,queryString:k.string.isRequired,selectedEntryIDs:k.instanceOf(c('immutable').Set).isRequired,viewer:k.string.isRequired};l.defaultProps={ariaOwneeID:'',className:''};f.exports=l}),null);
__d('MessengerGraphQLTypeaheadView.react',['CurrentUser','immutable','MercuryConfig','MercuryParticipantTypes','MercuryTypeaheadConstants','MessengerPaymentFriendsLocalCache','MessengerRoomPrivacyMode','MessengerRoomWithAssocObjectAudienceLocalCacheManager','MessengerSearchFunnelLogger','MessengerTypeaheadLocalCache','MessengerTypeaheadResultRoute','MessengerTypeaheadResultView.react','MessengerTypeaheadTopFriendsView.react','MessengerTypeaheadUtils','React','RelayFBEnvironment','RelayModern','createCancelableFunction','debounce','MessengerGraphQLTypeaheadViewQuery.graphql'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k=c('RelayModern').graphql,l=c('RelayModern').QueryRenderer,m=c('React').PropTypes,n='WWW_MESSENGER_SEARCH_SESSION_FUNNEL',o=5,p=100;i=babelHelpers.inherits(q,c('React').Component);j=i&&i.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=j.constructor).call.apply(r,[this].concat(u)),this.state={route:null,localEntries:c('immutable').List(),highlightedEntry:null},this.$MessengerGraphQLTypeaheadView1=null,this.$MessengerGraphQLTypeaheadView2=null,this.$MessengerGraphQLTypeaheadView3=null,this.$MessengerGraphQLTypeaheadView4=true,this.$MessengerGraphQLTypeaheadView5=c('MessengerRoomWithAssocObjectAudienceLocalCacheManager').get(),this.$MessengerGraphQLTypeaheadView10=function(w){this.$MessengerGraphQLTypeaheadView3=w}.bind(this),this.$MessengerGraphQLTypeaheadView13=function(){this.$MessengerGraphQLTypeaheadView3=null}.bind(this),this.$MessengerGraphQLTypeaheadView11=function(w){this.setState({highlightedEntry:w})}.bind(this),this.$MessengerGraphQLTypeaheadView12=function(){if(this.state.highlightedEntry)this.props.onSelect(this.state.highlightedEntry);}.bind(this),s}q.prototype.componentDidMount=function(){this.$MessengerGraphQLTypeaheadView6();this.$MessengerGraphQLTypeaheadView2=c('debounce')(function(){if(this.$MessengerGraphQLTypeaheadView4){var r=new (c('MessengerTypeaheadResultRoute'))(this.$MessengerGraphQLTypeaheadView7());this.setState({route:r})}}.bind(this),150,this,true)};q.prototype.componentWillReceiveProps=function(r){this.setState({highlightedEntry:null});if(!r.queryString){this.$MessengerGraphQLTypeaheadView6()}else if(r.queryString!==this.props.queryString){this.$MessengerGraphQLTypeaheadView2&&this.$MessengerGraphQLTypeaheadView2();var s=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;if(s===c('MessengerRoomPrivacyMode').WHITELISTED_MODE){this.$MessengerGraphQLTypeaheadView8(r);return}if(this.props.canViewerSendMoneyFilter){this.$MessengerGraphQLTypeaheadView9(r);return}c('MessengerTypeaheadLocalCache').search(r.queryString,function(t,u){if(this.$MessengerGraphQLTypeaheadView4)if(u===r.queryString){var v=c('MessengerTypeaheadUtils').sortEntries(t,u).slice(0,this.props.maxEntries),w=this.props.enableMessageSearch?c('MessengerTypeaheadUtils').getMessageSearchEntry(u):null;if(w)v.unshift(w);var x=c('immutable').List(v).filter(function(y){if(this.props.excludeGroups&&y.getType()===c('MercuryParticipantTypes').THREAD)return false;if(this.props.excludePages&&y.getType()===c('MercuryParticipantTypes').PAGE)return false;return true}.bind(this));this.setState({localEntries:x})}}.bind(this))}};q.prototype.shouldComponentUpdate=function(r,s){return r.queryString!==this.props.queryString||r.isFocused!==this.props.isFocused||s.localEntries!==this.state.localEntries||s.route!==this.state.route||s.highlightedEntry!==this.state.highlightedEntry};q.prototype.componentWillUnmount=function(){if(this.$MessengerGraphQLTypeaheadView1)this.$MessengerGraphQLTypeaheadView1.cancel();this.$MessengerGraphQLTypeaheadView4=false};q.prototype.render=function(){if(!this.props.isFocused&&!this.props.queryString||!c('MessengerTypeaheadLocalCache').isBootstrapped()&&!this.$MessengerGraphQLTypeaheadView5.isBootstrapped(this.props.threadFBID)&&!c('MessengerPaymentFriendsLocalCache').isBootstrapped())return null;if(!this.props.queryString||!this.state.route){c('MessengerSearchFunnelLogger').logUpdateQuery(n,'null_state_impression','',this.state.localEntries.toArray().map(function(r){return r.getUniqueID()}));return c('React').createElement(c('MessengerTypeaheadTopFriendsView.react'),{className:this.props.typeaheadViewClassName,entries:this.state.localEntries,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onMount:this.$MessengerGraphQLTypeaheadView10,onNextHighlighted:this.$MessengerGraphQLTypeaheadView11,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$MessengerGraphQLTypeaheadView12,onUnmount:this.$MessengerGraphQLTypeaheadView13,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer})}return c('React').createElement(l,{environment:c('RelayFBEnvironment'),query:h||(h=function r(){return c('MessengerGraphQLTypeaheadViewQuery.graphql')}),render:function(r){var s=r.error,t=r.props;if(s){throw s}else if(t)return this.$MessengerGraphQLTypeaheadView14(t);return this.$MessengerGraphQLTypeaheadView15()}.bind(this),variables:this.$MessengerGraphQLTypeaheadView7()})};q.prototype.$MessengerGraphQLTypeaheadView15=function(){var r=this.state.localEntries.slice(0,o);return c('React').createElement(c('MessengerTypeaheadTopFriendsView.react'),{className:this.props.typeaheadViewClassName,entries:this.$MessengerGraphQLTypeaheadView16(r),hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onNextHighlighted:this.$MessengerGraphQLTypeaheadView11,onMount:this.$MessengerGraphQLTypeaheadView10,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$MessengerGraphQLTypeaheadView12,onUnmount:this.$MessengerGraphQLTypeaheadView13,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer})};q.prototype.$MessengerGraphQLTypeaheadView14=function(r){var s=this.$MessengerGraphQLTypeaheadView7(),t=this.state.localEntries.slice(0,o);return c('React').createElement(c('MessengerTypeaheadResultView.react'),babelHelpers['extends']({},r,{className:this.props.typeaheadViewClassName,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,localEntries:t.toArray(),onMount:this.$MessengerGraphQLTypeaheadView10,onNextHighlighted:this.$MessengerGraphQLTypeaheadView11,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$MessengerGraphQLTypeaheadView12,onUnmount:this.$MessengerGraphQLTypeaheadView13,originalEntryIDs:this.props.originalEntryIDs,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer},s))};q.prototype.$MessengerGraphQLTypeaheadView16=function(r){var s=r.filter(function(t){return !this.props.selectedEntryIDs.contains(t.getUniqueID())}.bind(this));c('MessengerSearchFunnelLogger').logLoadingStateQuery(n,this.props.queryString,s.toArray().map(function(t){return t.getUniqueID()}));return s};q.prototype.onKeyDown=function(r){this.$MessengerGraphQLTypeaheadView3&&this.$MessengerGraphQLTypeaheadView3(r)};q.prototype.$MessengerGraphQLTypeaheadView8=function(r){this.$MessengerGraphQLTypeaheadView5.search(r.threadFBID,r.queryString,function(s,t){if(this.$MessengerGraphQLTypeaheadView4)if(t===r.queryString){var u=c('MessengerTypeaheadUtils').sortEntries(s,t).slice(0,this.props.maxEntries);this.setState({localEntries:c('immutable').List(u)})}}.bind(this))};q.prototype.$MessengerGraphQLTypeaheadView17=function(){this.setState({localEntries:c('immutable').List()});this.$MessengerGraphQLTypeaheadView1=c('createCancelableFunction')(function(r){var s=r.slice(0,30);this.setState({localEntries:c('immutable').List(s)})}.bind(this));this.$MessengerGraphQLTypeaheadView5.onEntriesLoaded(this.props.threadFBID,function(r){if(this.$MessengerGraphQLTypeaheadView1)this.$MessengerGraphQLTypeaheadView1(r);this.$MessengerGraphQLTypeaheadView1=null}.bind(this))};q.prototype.$MessengerGraphQLTypeaheadView9=function(r){c('MessengerPaymentFriendsLocalCache').search(r.queryString,function(s,t){if(this.$MessengerGraphQLTypeaheadView4)if(t===r.queryString){var u=c('MessengerTypeaheadUtils').sortEntries(s,t).slice(0,this.props.maxEntries);this.setState({localEntries:c('immutable').List(u)})}}.bind(this))};q.prototype.$MessengerGraphQLTypeaheadView18=function(){this.setState({localEntries:c('immutable').List()});this.$MessengerGraphQLTypeaheadView1=c('createCancelableFunction')(function(r){this.setState({localEntries:c('immutable').List(r)})}.bind(this));c('MessengerPaymentFriendsLocalCache').onEntriesLoaded(function(r){if(this.$MessengerGraphQLTypeaheadView1)this.$MessengerGraphQLTypeaheadView1(r);this.$MessengerGraphQLTypeaheadView1=null}.bind(this))};q.prototype.$MessengerGraphQLTypeaheadView6=function(){var r=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;if(r===c('MessengerRoomPrivacyMode').WHITELISTED_MODE){this.$MessengerGraphQLTypeaheadView17();return}if(this.props.canViewerSendMoneyFilter){this.$MessengerGraphQLTypeaheadView18();return}this.setState({localEntries:c('immutable').List()});this.$MessengerGraphQLTypeaheadView1=c('createCancelableFunction')(function(s,t,u){var v=s.slice(0,50);if(!this.props.excludeGroups)v=v.concat(t);if(!u||!this.props.queryString){var w=this.props.enableMessageSearch?c('MessengerTypeaheadUtils').getMessageSearchEntry(this.props.queryString):null;if(w)v.unshift(w);this.setState({localEntries:c('immutable').List(v)})}}.bind(this));c('MessengerTypeaheadLocalCache').onEntriesLoaded(function(s,t,u){if(this.$MessengerGraphQLTypeaheadView1)this.$MessengerGraphQLTypeaheadView1(s,t,u);this.$MessengerGraphQLTypeaheadView1=null}.bind(this))};q.prototype.$MessengerGraphQLTypeaheadView7=function(){var r=this.props.canViewerSendMoneyFilter,s=this.state.localEntries.toArray(),t=s.filter(function(ea){return ea.getType()!==c('MercuryTypeaheadConstants').SEARCH_TYPE}).map(function(ea){return ea.getUniqueID()}),u=c('MercuryConfig').MaxThreadResults,v=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode,w=v===c('MessengerRoomPrivacyMode').WHITELISTED_MODE,x=!this.props.excludeGroups&&this.props.queryString&&this.props.queryString.length>1&&!w,y=!this.props.excludeGroups&&t.length>0&&!w,z=!this.props.excludeGroups&&(!y||c('CurrentUser').isEmployee())&&!w,aa=!this.props.excludePages&&!w,ba=this.props.shouldQueryVCEndpoint&&(c('CurrentUser').isEmployee()||c('CurrentUser').isWorkUser())&&!w,ca=this.props.shouldQueryInternalBot&&c('CurrentUser').isEmployee()&&c('CurrentUser').isWorkUser()&&!w,da=this.props.threadFBID;return {queryString:this.props.queryString,canViewerSendMoneyFilter:r,localEntryIDs:t,maxThreadResults:u,shouldQueryPages:aa,shouldQueryThreadName:x,shouldQueryParticipantIDs:y,shouldQueryParticipantNames:z,shouldQueryVCEndpoint:ba,shouldQueryInternalBot:ca,shouldQueryRoomsAudience:w,threadFBID:da}};q.propTypes={canViewerSendMoneyFilter:m.bool,enableMessageSearch:m.bool.isRequired,excludeGroups:m.bool.isRequired,excludePages:m.bool.isRequired,isFocused:m.bool.isRequired,hasHoverState:m.bool.isRequired,maxEntries:m.number.isRequired,onScrollIntoView:m.func.isRequired,onSelect:m.func.isRequired,originalEntryIDs:m.instanceOf(c('immutable').Set).isRequired,queryString:m.string.isRequired,roomAssociatedObject:m.object,selectedEntryIDs:m.instanceOf(c('immutable').Set).isRequired,shouldQueryInternalBot:m.bool.isRequired,shouldQueryVCEndpoint:m.bool.isRequired,threadFBID:m.string,typeaheadViewClassName:m.string.isRequired,viewer:m.string.isRequired};q.defaultProps={maxEntries:p,typeaheadViewClassName:''};f.exports=q}),null);
__d('MessengerScrollableArea.react',['cx','React','ReactDOM','ScrollableArea.react','Style','UserAgent','clearImmediate','joinClasses','setImmediate','throttle'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=20;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),n.call(this),p}m.prototype.componentDidMount=function(){this.$MessengerScrollableArea2=c('setImmediate')(this.$MessengerScrollableArea4);this.$MessengerScrollableArea1=true;this.$MessengerScrollableArea3=c('throttle')(this.$MessengerScrollableArea5,50)};m.prototype.componentWillUnmount=function(){c('clearImmediate')(this.$MessengerScrollableArea2);this.$MessengerScrollableArea1=false};m.prototype.render=function(){return c('React').createElement(c('ScrollableArea.react'),{className:c('joinClasses')("_5f0v",this.props.className),height:this.props.height,onScroll:this.props.needsFastScrollHandler?this.$MessengerScrollableArea5:this.$MessengerScrollableArea3,ref:'scrollable',shadow:false,tabIndex:this.props.tabIndex,width:this.props.width},this.props.children)};m.prototype.scrollToPosition=function(o){var p=arguments.length<=1||arguments[1]===undefined?false:arguments[1],q=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],r=this.getArea();if(!r)return;r.setScrollTop(o,p,q)};m.propTypes={needsFastScrollHandler:k.bool,onScroll:k.func,width:k.number};var n=function o(){this.$MessengerScrollableArea1=false;this.$MessengerScrollableArea2=null;this.$MessengerScrollableArea5=function(){if(this.$MessengerScrollableArea1){var p;this.props.onScroll&&(p=this.props).onScroll.apply(p,arguments)}}.bind(this);this.$MessengerScrollableArea4=function(){if(!c('UserAgent').isBrowser('IE'))return;var p=this.refs.scrollable.refs.wrap,q=this.refs.scrollable.refs.body;if(!q||!p)return;q=c('ReactDOM').findDOMNode(q);p=c('ReactDOM').findDOMNode(p);var r=p.offsetWidth-p.clientWidth;if(r>0)c('Style').set(q,'margin-right',-r+'px');}.bind(this);this.getArea=function(){return this.refs.scrollable.getArea()}.bind(this);this.scrollToBottom=function(){var p=this.getArea();if(p)this.scrollToPosition(p.getScrollHeight());}.bind(this);this.scrollToTop=function(p){var q=this.getArea();if(q)q.scrollToTop(!!p);}.bind(this);this.isScrolledToBottom=function(){return this.isScrolledToBottomWithHeight(0)}.bind(this);this.isScrolledToBottomWithHeight=function(p){var q=this.getArea();if(!q)return false;return q.getScrollTop()+q.getClientHeight()+p>=q.getScrollHeight()-l}.bind(this);this.isScrolledToTop=function(){var p=this.getArea();if(!p)return true;return p.getScrollTop()<=l}.bind(this);this.getScrollTop=function(){var p=this.getArea();if(!p)return 0;return p.getScrollTop()}.bind(this)};f.exports=m}),null);
__d('MessengerGraphQLSearchTypeahead.react',['cx','ix','BootloadOnRender.react','ContextualLayer.react','Event','Image.react','immutable','InstantGameContextType','JSResource','Keys','LazyComponent.react','MercuryIDs','MercuryThreadIDMap','MercuryThreads','MercuryTypeaheadConstants','MercuryVanityIDMap','MessagingSourceEnum','MessengerActions','MessengerGraphQLTypeaheadView.react','MessengerScrollableArea.react','MessengerSearchFunnelLogger','MessengerSpinner.react','MessengerTypeaheadUtils','MNPlatformTagsDataManager','QuicksilverSources','React','ReactDOM','ReactLayeredComponentMixin_DEPRECATED','clearImmediate','emptyFunction','joinClasses','setImmediate'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('MercuryThreadIDMap').get(),k=c('MercuryThreads').get(),l=c('React').PropTypes,m=i("86933"),n=30,o=100,p=c('React').createClass({displayName:'MessengerGraphQLSearchTypeahead',mixins:[c('ReactLayeredComponentMixin_DEPRECATED')],_input:null,_timer:null,_view:null,propTypes:{canViewerSendMoneyFilter:l.bool,className:l.string.isRequired,context:l.object,enableMessageSearch:l.bool.isRequired,excludeGroups:l.bool.isRequired,excludePages:l.bool.isRequired,hasHoverState:l.bool.isRequired,hideClearButton:l.bool.isRequired,hideResults:l.bool,isFacebookChat:l.bool.isRequired,isFocused:l.bool.isRequired,isTokenizer:l.bool.isRequired,onBackspace:l.func.isRequired,onBlur:l.func.isRequired,onChange:l.func.isRequired,onClear:l.func.isRequired,onClick:l.func.isRequired,onFocus:l.func.isRequired,onScrollIntoView:l.func.isRequired,onSelect:l.func.isRequired,originalEntryIDs:l.instanceOf(c('immutable').Set).isRequired,placeholder:l.string.isRequired,queryString:l.string.isRequired,roomAssociatedObject:l.object,scrollableViewClassName:l.string.isRequired,selectedEntryIDs:l.instanceOf(c('immutable').Set).isRequired,shouldQueryInternalBot:l.bool.isRequired,shouldQueryVCEndpoint:l.bool.isRequired,tabIndex:l.number,threadFBID:l.string,typeaheadViewClassName:l.string.isRequired,useLayer:l.bool.isRequired,viewer:l.string.isRequired,width:l.number},getInitialState:function q(){return {gameID:null}},getDefaultProps:function q(){return {canViewerSendMoneyFilter:false,isFacebookChat:false,isTokenizer:false,onBackspace:c('emptyFunction'),onChange:c('emptyFunction'),onClear:c('emptyFunction'),onClick:c('emptyFunction'),onScrollIntoView:c('emptyFunction'),originalEntryIDs:c('immutable').Set(),placeholder:'',scrollableViewClassName:'',selectedEntryIDs:c('immutable').Set(),typeaheadViewClassName:'',useLayer:false}},componentDidMount:function q(){this._timer=c('setImmediate')(this._syncInputWidth)},componentDidUpdate:function q(){clearTimeout(this._timer);this._timer=c('setImmediate')(this._syncInputWidth)},componentWillUnmount:function q(){clearTimeout(this._timer)},renderLayers:function q(){if(!this.props.useLayer)return {};var r=null,s=null;if(this.props.context){r=this.props.context}else s=function(){return this._input}.bind(this);return {typeaheadView:c('React').createElement(c('ContextualLayer.react'),{context:r,contextRef:s,position:"below",shown:this.props.queryString&&this.props.isFocused,shouldSetARIAProperties:false},this._renderView())}},render:function q(){var r=this.props.useLayer?null:this._renderView();return c('React').createElement('div',{className:(!this.props.isTokenizer?"_3rh8":'')+(this.props.isTokenizer?' '+"_3mkz":'')},c('React').createElement('span',{className:c('joinClasses')(this.props.className,"_58ah"+(this.props.hideResults?' '+"_1a03":'')),onChange:this.props.onChange,onSelect:c('emptyFunction'),tabIndex:null},c('React').createElement('label',{className:"_58ak"},c('React').createElement('input',{autoComplete:'off',className:"_58al",disabled:this.props.hideResults,onBlur:this._handleBlur,onClick:this.props.onClick,onFocus:this.props.onFocus,onKeyDown:function(s){return this._handleKeyDown(s)}.bind(this),placeholder:this.props.placeholder,ref:function(s){return this._input=s}.bind(this),spellCheck:false,tabIndex:this.props.tabIndex,type:'text',value:this.props.queryString})),r),c('React').createElement(c('Image.react'),{onMouseDown:this.props.onClear,className:(this.props.hideClearButton?"hidden_elem":'')+(' '+"_2xme"),src:m}),c('React').createElement('span',{ref:'textSizeProxy',className:"_58-3",'aria-hidden':'true'},this.props.queryString||this.props.placeholder),this._renderGame())},focusInput:function q(){this._input&&this._input.focus()},_syncInputWidth:function q(){if(!this.props.isTokenizer)return;var r=c('ReactDOM').findDOMNode(this.refs.textSizeProxy),s=r?r.offsetWidth:0;if(s===0)return;if(this._input)this._input.style.width=s+'px';},_renderGame:function q(){if(!this.state.gameID)return null;return c('React').createElement(c('BootloadOnRender.react'),{loader:c('JSResource')('MessengerGamesQuicksilverPlayerContainer.react').__setRef('MessengerGraphQLSearchTypeahead.react'),placeholder:c('React').createElement(c('MessengerSpinner.react'),null),component:c('React').createElement(c('LazyComponent.react'),{contextType:c('InstantGameContextType').SOLO,contextSourceID:null,gameID:this.state.gameID,onHide:this._handleHideGame,source:c('QuicksilverSources').MESSENGER_GAME_SEARCH,sourceID:null})})},_renderView:function q(){if(!this.props.queryString&&!this.props.isFocused)return null;var r=this.props.isTokenizer?n:o,s=c('React').createElement(c('MessengerGraphQLTypeaheadView.react'),{canViewerSendMoneyFilter:this.props.canViewerSendMoneyFilter,enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,isFocused:this.props.isFocused,hasHoverState:this.props.hasHoverState,maxEntries:r,onScrollIntoView:this._handleScrollIntoView,onSelect:this._handleSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,ref:function(t){return this._view=t}.bind(this),roomAssociatedObject:this.props.roomAssociatedObject,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,selectedEntryIDs:this.props.selectedEntryIDs,threadFBID:this.props.threadFBID,typeaheadViewClassName:this.props.typeaheadViewClassName,viewer:this.props.viewer});if(this.props.isTokenizer){return c('React').createElement(c('MessengerScrollableArea.react'),{className:this.props.scrollableViewClassName,ref:'scrollable',width:this.props.width},s)}else return s;},_handleScrollIntoView:function q(r){if(!r)return;if(!this.props.isTokenizer){this.props.onScrollIntoView(r);return}if(this.refs.scrollable)c('MessengerTypeaheadUtils').scrollEntryIntoView(r,this.refs.scrollable);},_handleSelect:function q(r,event){var s=r.getUniqueID(),t=r.getType(),u=r.getAuxiliaryData().alias;if(u)c('MercuryVanityIDMap').set(u,c('MercuryIDs').getParticipantIDFromUserID(s));if(t===c('MercuryTypeaheadConstants').SEARCH_TYPE){c('MessengerSearchFunnelLogger').logContentSearchInitiation('WWW_MESSENGER_SEARCH_SESSION_FUNNEL',this.props.queryString);c('MessengerActions').changeQueryAll(this.props.queryString)}else if(t===c('MercuryTypeaheadConstants').GAME_TYPE){this.setState({gameID:s})}else if(t===c('MercuryTypeaheadConstants').THREAD_TYPE){j.getClientIDFromServerID(s,function(v){return this.props.onSelect(v,t,r)}.bind(this))}else{k.getThreadMeta(c('MercuryIDs').getThreadIDFromUserID(s),function(v){return this.props.onSelect(v.thread_id,t,r)}.bind(this));c('MNPlatformTagsDataManager').updateThreadTabAfterSelectThread(c('MessagingSourceEnum').MESSENGER_WEB_SEARCH,s)}},_handleHideGame:function q(){this.setState({gameID:null})},_handleKeyDown:function q(r){var s=r.keyCode;if(s===c('Keys').DOWN||s===c('Keys').UP||s===c('Keys').RETURN){this._view&&this._view.onKeyDown&&this._view.onKeyDown(s)}else if(s===c('Keys').BACKSPACE){this.props.onBackspace(r)}else if(s===c('Keys').ESC)this._input&&this._input.blur();},_handleBlur:function q(){var r=null,s=c('Event').listen(window,'blur',function(){s.remove();c('clearImmediate')(r)});r=c('setImmediate')(function(){s.remove();this.props.onBlur()}.bind(this))}});f.exports=p}),null);
__d('MessengerTokenizerToken.react',['cx','Keys','React','SearchableEntry','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=100;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerTokenizerToken2=function(event){if(event.keyCode===c('Keys').BACKSPACE){event.preventDefault();this.props.onRemove&&this.props.onRemove(this.props.entry)}}.bind(this),o}m.prototype.render=function(){return c('React').createElement('span',{className:c('joinClasses')(this.props.className,"_14-8"),label:null,onClick:this.$MessengerTokenizerToken1,onKeyDown:this.$MessengerTokenizerToken2,role:'option',tabIndex:this.props.index+l},c('React').createElement('span',{'aria-label':this.props.label,title:this.props.label,className:"_14-9"},this.props.label))};m.prototype.$MessengerTokenizerToken1=function(event){event.stopPropagation()};m.propTypes={className:k.string,entry:k.instanceOf(c('SearchableEntry')),index:k.number,label:k.string.isRequired,onRemove:k.func};f.exports=m}),null);
__d('MessengerGraphQLTokenizer.react',['cx','invariant','immutable','MessengerGraphQLSearchTypeahead.react','MessengerTokenizerToken.react','React','joinClasses','setImmediate'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={focused:this.props.autoFocus,queryString:''},this.focusInput=function(){this.refs.typeahead&&this.refs.typeahead.focusInput()}.bind(this),this.$MessengerGraphQLTokenizer3=function(event){if(this.state.queryString||this.props.entries.size===0)return;this.$MessengerGraphQLTokenizer7(this.props.entries.last());event.preventDefault();c('setImmediate')(this.focusInput)}.bind(this),this.$MessengerGraphQLTokenizer4=function(event){event.target instanceof HTMLInputElement||i(0);this.setState({queryString:event.target.value})}.bind(this),this.$MessengerGraphQLTokenizer5=function(){this.setState({queryString:''});this.props.onClear&&this.props.onClear()}.bind(this),this.$MessengerGraphQLTokenizer6=function(s,t,u){var v=this.props.entries,w=u.getUniqueID();if(this.props.originalEntryIDs.contains(w)){return}else if(v.some(function(x){return x.getUniqueID()===w})){this.$MessengerGraphQLTokenizer7(u);return}this.props.onAddEntryAttempt(u);this.setState({queryString:''})}.bind(this),this.$MessengerGraphQLTokenizer7=function(s){this.props.onRemoveEntryAttempt(s)}.bind(this),this.$MessengerGraphQLTokenizer2=function(s){this.focusInput()}.bind(this),o}m.prototype.componentDidMount=function(){if(this.props.autoFocus)c('setImmediate')(this.focusInput);};m.prototype.render=function(){var n=this.props.entries.map(function(q,r){return this.$MessengerGraphQLTokenizer1(q,r)}.bind(this)),o=n.size>0?'':this.props.placeholder,p=this.props.forceHideClearButton||this.state.queryString===''&&this.props.entries.isEmpty();return c('React').createElement('div',null,c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_14-7")},c('React').createElement('div',{className:c('joinClasses')("_58-2",'clearfix'),onClick:this.$MessengerGraphQLTokenizer2},n,c('React').createElement(c('MessengerGraphQLSearchTypeahead.react'),{canViewerSendMoneyFilter:this.props.canViewerSendMoneyFilter,className:"_58-0",context:this.props.context,enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,hasHoverState:this.props.hasHoverState,hideClearButton:p,isFacebookChat:false,isFocused:this.state.focused,isTokenizer:true,onBlur:function(){return this.setState({focused:false})}.bind(this),onBackspace:this.$MessengerGraphQLTokenizer3,onChange:this.$MessengerGraphQLTokenizer4,onClear:this.$MessengerGraphQLTokenizer5,onFocus:function(){return this.setState({focused:true})}.bind(this),onSelect:this.$MessengerGraphQLTokenizer6,originalEntryIDs:this.props.originalEntryIDs,placeholder:o,queryString:this.state.queryString,ref:'typeahead',roomAssociatedObject:this.props.roomAssociatedObject,selectedEntryIDs:c('immutable').Seq(this.props.entries).map(function(q){return q.getUniqueID()}).toSet(),scrollableViewClassName:this.props.scrollableViewClassName,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,tabIndex:this.props.tabIndex,threadFBID:this.props.threadFBID,useLayer:this.props.useLayer,viewer:this.props.viewer,width:this.props.width}))),this.state.queryString===''&&!this.state.focused?this.props.defaultEntries:null)};m.prototype.$MessengerGraphQLTokenizer1=function(n,o){return c('React').createElement(c('MessengerTokenizerToken.react'),{className:"_2ei6",key:n.getUniqueID(),label:n.getTitle(),entry:n,index:o,onRemove:this.$MessengerGraphQLTokenizer7})};m.propTypes={autoFocus:l.bool.isRequired,canViewerSendMoneyFilter:l.bool,className:l.string.isRequired,context:l.object,defaultEntries:l.element,enableMessageSearch:l.bool.isRequired,entries:l.instanceOf(c('immutable').List).isRequired,excludeGroups:l.bool.isRequired,excludePages:l.bool.isRequired,forceHideClearButton:l.bool,hasHoverState:l.bool.isRequired,onAddEntryAttempt:l.func.isRequired,onClear:l.func,onRemoveEntryAttempt:l.func.isRequired,originalEntryIDs:l.instanceOf(c('immutable').Set).isRequired,placeholder:l.node.isRequired,roomAssociatedObject:l.object,scrollableViewClassName:l.string.isRequired,shouldQueryInternalBot:l.bool.isRequired,shouldQueryVCEndpoint:l.bool.isRequired,tabIndex:l.number,threadFBID:l.string,useLayer:l.bool.isRequired,viewer:l.string.isRequired,width:l.number.isRequired};f.exports=m}),null);
__d('MessengerTabIndices',[],(function a(b,c,d,e,f,g){'use strict';var h={NEW_MESSAGE_TOKENIZER:9998,COMPOSER_INPUT:9999};f.exports=h}),null);
__d('MessengerComposeViewHeader.react',['cx','fbt','immutable','MessengerGraphQLTokenizer.react','MessengerTabIndices','React','clearImmediate','joinClasses','setImmediate'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=320;j=babelHelpers.inherits(n,c('React').PureComponent);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={tokenizerContext:null},this.$MessengerComposeViewHeader1=null,this.$MessengerComposeViewHeader2=function(){this.$MessengerComposeViewHeader1=c('setImmediate')(function(){this.refs.tokenizer&&this.refs.tokenizer.focusInput()}.bind(this))}.bind(this),p}n.prototype.componentDidMount=function(){this.$MessengerComposeViewHeader2();this.setState({tokenizerContext:this.refs.tokenizerContext})};n.prototype.componentDidUpdate=function(o){if(this.props.recipients!==o.recipients)this.props.onResize();};n.prototype.componentWillUnmount=function(){this.$MessengerComposeViewHeader1&&c('clearImmediate')(this.$MessengerComposeViewHeader1)};n.prototype.render=function(){var o={enableMessageSearch:false,excludeGroups:false,excludePages:false,hasHoverState:true,originalEntryIDs:c('immutable').Set(),scrollableViewClassName:"_2y8_",shouldQueryInternalBot:true,shouldQueryVCEndpoint:false,width:m};return c('React').createElement('div',{className:c('joinClasses')("_2y8y _5l-3",this.props.className),onClick:this.$MessengerComposeViewHeader2,role:'presentation'},c('React').createElement('div',{className:"_2y8z"},i._("To:")),c('React').createElement('div',null,c('React').createElement(c('MessengerGraphQLTokenizer.react'),babelHelpers['extends']({autoFocus:true,className:"_2y8-",context:this.state.tokenizerContext,entries:this.props.recipients,forceHideClearButton:this.props.forceHideClearButton,onAddEntryAttempt:this.props.onAddRecipient,onClear:this.props.onClear,onRemoveEntryAttempt:this.props.onRemoveRecipient,placeholder:i._("Type the name of a person or group"),ref:'tokenizer',tabIndex:c('MessengerTabIndices').NEW_MESSAGE_TOKENIZER,useLayer:true,viewer:this.props.viewer},o)),c('React').createElement('div',{ref:'tokenizerContext'})))};n.propTypes={forceHideClearButton:l.bool.isRequired,onAddRecipient:l.func.isRequired,onClear:l.func,onRemoveRecipient:l.func.isRequired,onResize:l.func.isRequired,recipients:l.instanceOf(c('immutable').List).isRequired,viewer:l.string.isRequired};f.exports=n}),null);
__d('messengerComposeViewHeaderReact',['bs_js_boolean','reasonReact','bs_js_null_undefined','MessengerComposeViewHeader.react'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l,m,n,o,p,q){return c('reasonReact').wrapJsForReason(c('MessengerComposeViewHeader.react'),{className:c('bs_js_null_undefined').from_opt(i),forceHideClearButton:c('bs_js_boolean').to_js_boolean(j),onClear:c('bs_js_null_undefined').from_opt(k),onAddRecipient:l,onRemoveRecipient:m,onResize:n,recipients:o,viewer:p},q)}g.make=h}),null);
__d('messengerDialogBodyReact',['cx','reasonReact','joinClasses','bs_js_primitive'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('reasonReact').statelessComponent("MessengerDialogBodyReact");function j(l,m){var n=l?l[0]:"",o=i.slice();o[9]=function(){return c('reasonReact').createDomElement("div",{className:c('joinClasses')("_4eb-",n)},m)};return o}var k=c('reasonReact').wrapReasonForJs(i,function(l){return j(c('bs_js_primitive').null_undefined_to_opt(l.className),l.children)});g.component=i;g.make=j;g.jsComponent=k}),null);
__d('MessengerDialogCancelButton.react',['fbt','MessengerDialogButton.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement(c('MessengerDialogButton.react'),babelHelpers['extends']({action:'cancel',label:h._("Cancel"),type:'secondary'},this.props))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d('messengerDialogReact',['utilsRe','reasonReact','bs_js_null_undefined','MessengerDialog.react','MessengerDialogTitle.react','MessengerDialogButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','MessengerDialogCancelButton.react'],(function a(b,c,d,e,f,g){'use strict';function h(w){if(w){switch(w[0]){case 0:return ["cancel"];case 1:return ["button"];case 2:return ["confirm"];}}else return 0;}function i(w){if(w){if(w[0]!==0){return ["secondary"]}else return ["primary"];}else return 0;}function j(w,x,y,z,aa,ba,ca,da){return c('reasonReact').wrapJsForReason(c('MessengerDialog.react'),{className:c('bs_js_null_undefined').from_opt(w),onToggle:x,repositionOnUpdate:c('utilsRe').optionBoolToNullUndefinedBoolean(y),shown:c('utilsRe').optionBoolToNullUndefinedBoolean(z),titleID:c('bs_js_null_undefined').from_opt(aa),type:c('bs_js_null_undefined').from_opt(ba),width:c('bs_js_null_undefined').from_opt(ca)},da)}var k=[j];function l(w,x,y){return c('reasonReact').wrapJsForReason(c('MessengerDialogHeader.react'),{className:c('bs_js_null_undefined').from_opt(w),id:c('bs_js_null_undefined').from_opt(x)},y)}var m=[l];function n(w,x){return c('reasonReact').wrapJsForReason(c('MessengerDialogTitle.react'),{className:c('bs_js_null_undefined').from_opt(w)},x)}var o=[n];function p(w,x,y){return c('reasonReact').wrapJsForReason(c('MessengerDialogFooter.react'),{className:c('bs_js_null_undefined').from_opt(w),leftContent:c('bs_js_null_undefined').from_opt(x)},y)}var q=[p];function r(w,x){return c('reasonReact').wrapJsForReason(c('MessengerDialogCancelButton.react'),{onClick:c('bs_js_null_undefined').from_opt(w)},x)}var s=[r];function t(w,x,y,z,aa,ba,ca,da,ea){return c('reasonReact').wrapJsForReason(c('MessengerDialogButton.react'),{action:c('bs_js_null_undefined').from_opt(h(w)),label:c('bs_js_null_undefined').from_opt(x),disabled:c('utilsRe').optionBoolToNullUndefinedBoolean(y),use:c('bs_js_null_undefined').from_opt(z),onClick:c('bs_js_null_undefined').from_opt(aa),type:c('bs_js_null_undefined').from_opt(i(ba)),className:c('bs_js_null_undefined').from_opt(ca),leftContent:c('bs_js_null_undefined').from_opt(da)},ea)}var u=[t],v=0;g.stringOfButtonAction=h;g.stringOfButtonType=i;g.Dialog=k;g.Header=m;g.Title=o;g.Footer=q;g.CancelButton=s;g.Button=u;g.Body=v}),null);
__d('messengerForwardAttachmentDialogReact',['ix','cx','fbt','bs_block','bs_curry','React','immutable','imageReact','bs_js_boolean','CurrentUser','fbglyph','reasonReact','AsyncRequest','bs_js_primitive','MercuryLocalIDs','MessageShareType','messengerDialogReact','messengerSpinnerReact','messengerDialogBodyReact','messengerComposeViewHeaderReact','XMessengerPlatformShareCTAController','XMessagingForwardAttachmentController'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=j._("Send"),l=c('reasonReact').reducerComponent("MessengerForwardAttachmentDialogReact");function m(s){return c('bs_block').__(0,[s])}function n(s){return c('bs_block').__(1,[s])}function o(){return 0}function p(s,t,u){new (c('AsyncRequest'))(s.getURIBuilder().getURI()).setMethod("POST").setHandler(u).setData(t).send();return 0}function q(s,t,u,v,w,x,y){var z=function da(ea,fa){if(ea){return 0}else return c('bs_curry')._1(t,0);},aa=function da(ea){if(ea.payload.success){return 2}else return c('bs_block').__(2,[c('bs_js_primitive').null_undefined_to_opt(ea.payload.error)]);},ba=function da(ea,fa){var ga={};fa[4][0].forEach(function(ia,ja,ka){ga[String(c('MercuryLocalIDs').generateOfflineThreadingID(undefined))]=ia.getUniqueID();return true});var ha=0;if(x&&u&&x[0]===c('MessageShareType').PLATFORM_SHARE_CTA){p(c('XMessengerPlatformShareCTAController'),{cta_id:s,message_id:u[0],recipient_map:ga},c('bs_curry')._1(fa[3],aa))}else ha=1;if(ha===1)p(c('XMessagingForwardAttachmentController'),{attachment_id:s,recipient_map:ga},c('bs_curry')._1(fa[3],aa));return c('bs_curry')._2(fa[3],function(){return 1},0)},ca=l.slice();ca[9]=function(da){var ea=da[4],fa=ea[2],ga=ea[1],ha;if(fa!==0){ha=c('React').createElement("div",undefined,c('reasonReact').element(0,0,c('messengerSpinnerReact').make(0,0,0,[])),c('React').createElement("span",{className:"_1e1n _3-99"},j._("Sending")))}else if(ga){var ia=h("141787");ha=c('React').createElement("div",{className:"_1e1n"},c('reasonReact').element(0,0,c('imageReact').make(0,0,[ia],0,0,0,0,[])),c('React').createElement("span",{className:"_3-99"},ga[0]))}else ha=null;return c('reasonReact').element(0,0,c('messengerDialogReact').Dialog[0](0,c('bs_curry')._1(da[0],z),0,[v],0,0,[560],[c('reasonReact').element(0,0,c('messengerDialogReact').Header[0](0,0,[c('reasonReact').element(0,0,c('messengerDialogReact').Title[0](0,[w]))])),c('reasonReact').element(0,0,c('messengerDialogBodyReact').make(0,[c('reasonReact').element(0,0,c('messengerComposeViewHeaderReact').make(["_1e1o"],0,[c('bs_curry')._1(da[3],o)],c('bs_curry')._1(da[3],m),c('bs_curry')._1(da[3],n),function(){return 0},ea[0],c('CurrentUser').getID(),[]))])),c('reasonReact').element(0,0,c('messengerDialogReact').Footer[0](0,[ha],[c('reasonReact').element(0,0,c('messengerDialogReact').CancelButton[0](0,[])),c('reasonReact').element(0,0,c('messengerDialogReact').Button[0]([2],[k],[+ea[0].isEmpty()||ea[2]],0,[c('bs_curry')._1(da[0],ba)],[0],0,0,[]))]))]))};ca[10]=function(){return [c('immutable').List([]),0,0]};ca[12]=function(da,ea){if(typeof da==="number"){switch(da){case 0:return c('bs_block').__(0,[[c('immutable').List([]),ea[1],ea[2]]]);case 1:return c('bs_block').__(0,[[ea[0],0,1]]);case 2:return c('bs_block').__(3,[[c('immutable').List([]),0,0],function(){return c('bs_curry')._1(t,0)}]);}}else switch(da.tag|0){case 0:return c('bs_block').__(0,[[ea[0].push(da[0]),ea[1],ea[2]]]);case 1:var fa=da[0];return c('bs_block').__(0,[[ea[0].filter(function(ga){return c('bs_js_boolean').to_js_boolean(+(ga!==fa))}),ea[1],ea[2]]]);case 2:return c('bs_block').__(0,[[ea[0],da[0],0]]);}};return ca}var r=c('reasonReact').wrapReasonForJs(l,function(s){return q(s.attachmentID,s.onClose,c('bs_js_primitive').null_undefined_to_opt(s.messageID),+s.shown,s.title,c('bs_js_primitive').null_undefined_to_opt(s.shareType),[])});g.sendButtonLabel=k;g.component=l;g.handleAddRecipient=m;g.handleRemoveRecipient=n;g.handleClear=o;g.sendData=p;g.make=q;g.jsComponent=r}),null);
__d('SpotlightMessengerSharedMediaViewer.react',['csx','cx','fbt','invariant','ActorURI','MessengerPhotoViewHScroll.react','Event','KeyEventController','messengerForwardAttachmentDialogReact','MessengerPhotoInfoDialogContainer.react','MessengerPhotoViewHeader.react','MessengerSharedMediaActions','MessengerVideoPlayer.react','Parent','PhotoUtils','React','SpotlightViewer','SpotlightViewerImage','SpotlightMessagesViewerPagers.react','SpotlightViewport','SubscriptionsHandler','Vector','XMessagingPhotoDownloadController','MessengerPhotoViewBottomBar.react'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m,n=c('messengerForwardAttachmentDialogReact').jsComponent,o=c('React').PropTypes,p=88,q=80,r=30,s="_4-og";l=babelHelpers.inherits(t,c('React').Component);m=l&&l.prototype;function t(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=m.constructor).call.apply(u,[this].concat(x)),this.$SpotlightMessengerSharedMediaViewer1=undefined,this.$SpotlightMessengerSharedMediaViewer2=[],this.state={photoData:null,showForward:false,showInfo:false,stageDimensions:new (c('Vector'))()},this.$SpotlightMessengerSharedMediaViewer14=function(z){if(!this.props.sharedMedia)return;var aa=this.props.sharedMedia.findIndex(function(ca){return ca.node.legacy_attachment_id===z});if(aa<0)return;var ba=this.props.sharedMedia[aa];this.setState({photoData:ba});this.$SpotlightMessengerSharedMediaViewer17(aa)}.bind(this),this.$SpotlightMessengerSharedMediaViewer4=function(z,event){if(this.state.photoData==null)return;var aa=this.state.photoData;if(event&&!!c('Parent').bySelector(event.target,"._3tsq"))return;if(event&&event.target instanceof HTMLElement&&event.target.className===s)this.$SpotlightMessengerSharedMediaViewer7();var ba=this.props.sharedMedia.findIndex(function(da){return da.node.legacy_attachment_id===aa.node.legacy_attachment_id});if(ba<0||ba===this.props.sharedMedia.length-1&&!this.props.hasNextPage&&z)return;if(ba===0&&!z){c('MessengerSharedMediaActions').loadMoreLatest(this.props.threadID,this.props.sharedMedia[0].cursor,r);return}var ca=z?this.props.sharedMedia[ba+1]:this.props.sharedMedia[ba-1];this.setState({photoData:ca});this.$SpotlightMessengerSharedMediaViewer17(ba)}.bind(this),this.$SpotlightMessengerSharedMediaViewer7=function(){if(this.props.photoID===null)return;this.setState({photoData:null});this.props.onClosePhotoView()}.bind(this),this.$SpotlightMessengerSharedMediaViewer12=function(){this.setState({showForward:true})}.bind(this),this.$SpotlightMessengerSharedMediaViewer15=function(){this.setState({showForward:false})}.bind(this),this.$SpotlightMessengerSharedMediaViewer11=function(){this.setState({showInfo:true})}.bind(this),this.$SpotlightMessengerSharedMediaViewer16=function(){this.setState({showInfo:false})}.bind(this),v}t.prototype.componentDidMount=function(){var u=this.props.sharedMedia.find(function(v){return v.node.legacy_attachment_id===this.props.photoID}.bind(this));this.setState({photoData:u,stageDimensions:this.$SpotlightMessengerSharedMediaViewer3()});this.$SpotlightMessengerSharedMediaViewer1=new (c('SubscriptionsHandler'))();this.$SpotlightMessengerSharedMediaViewer1.addSubscriptions(c('Event').listen(window,'resize',function(){this.setState({stageDimensions:this.$SpotlightMessengerSharedMediaViewer3()})}.bind(this)),c('KeyEventController').registerKey('LEFT',function(){this.$SpotlightMessengerSharedMediaViewer4(false);return false}.bind(this)),c('KeyEventController').registerKey('RIGHT',function(){this.$SpotlightMessengerSharedMediaViewer4(true);return false}.bind(this)))};t.prototype.componentWillUnmount=function(){this.$SpotlightMessengerSharedMediaViewer1&&this.$SpotlightMessengerSharedMediaViewer1.release();this.$SpotlightMessengerSharedMediaViewer1=null;this.$SpotlightMessengerSharedMediaViewer2.forEach(function(u){return u.abandon()})};t.prototype.render=function(){var u=this.$SpotlightMessengerSharedMediaViewer5(),v=this.state.stageDimensions,w=this.props.useloadingindicator&&!this.state.photoData;if(this.state.photoData==null)return null;var x=this.props.sharedMedia.findIndex(function(z){this.state.photoData!=null||k(0);return z.node.id===this.state.photoData.node.id}.bind(this)),y=c('React').createElement('div',null,this.$SpotlightMessengerSharedMediaViewer6(),this.props.disablepaging?null:c('React').createElement(c('SpotlightMessagesViewerPagers.react'),{disablePrevArrow:x<=0&&!this.props.hasPrevPage,disableNextArrow:!this.props.hasNextPage&&x>=this.props.sharedMedia.length-1}));return c('React').createElement('span',null,c('React').createElement(c('SpotlightViewer'),{className:"_53vs",onHide:this.$SpotlightMessengerSharedMediaViewer7,open:this.props.photoID!==null,ref:'spotlightViewer',rootClassName:this.props.rootClassName},c('React').createElement(c('SpotlightViewport'),{active:false,fadeInNOut:true,media:u,onClick:this.$SpotlightMessengerSharedMediaViewer4,ref:'viewport',showLoadingIndicator:w,stageDimensions:v,useWidth:true},y),this.$SpotlightMessengerSharedMediaViewer8()),this.$SpotlightMessengerSharedMediaViewer9(),this.$SpotlightMessengerSharedMediaViewer10())};t.prototype.$SpotlightMessengerSharedMediaViewer6=function(){if(!this.state.photoData)return null;var u=this.state.photoData.node.legacy_attachment_id,v=c('XMessagingPhotoDownloadController').getURIBuilder().setString('photo_id',u).getURI();if(this.props.actorid)v=c('ActorURI').create(v,this.props.actorid);return c('React').createElement(c('MessengerPhotoViewHeader.react'),{disableForward:this.props.disableForward,onClose:this.$SpotlightMessengerSharedMediaViewer7,openInfo:this.$SpotlightMessengerSharedMediaViewer11,photoID:this.props.photoID,ref:'photoviewheader',showForwardDialog:this.$SpotlightMessengerSharedMediaViewer12,url:v})};t.prototype.$SpotlightMessengerSharedMediaViewer13=function(u){return u?Math.ceil(u/q):r};t.prototype.$SpotlightMessengerSharedMediaViewer8=function(){if(!this.state.photoData)return null;var u=this.state.photoData,v=c('React').createElement('button',{className:"_2n5b",onClick:function(){return this.props.openAlbum(u.node.legacy_attachment_id)}.bind(this),type:'button'},c('React').createElement('div',{className:"_3por"}));return c('React').createElement(c('MessengerPhotoViewBottomBar.react'),null,c('React').createElement(c('MessengerPhotoViewHScroll.react'),{onScroll:this.$SpotlightMessengerSharedMediaViewer14,photoID:u.node.legacy_attachment_id,sharedPhotos:this.props.sharedMedia,width:this.state.stageDimensions.x}),v)};t.prototype.$SpotlightMessengerSharedMediaViewer9=function(){if(!this.state.photoData||this.props.disableForward)return null;var u=j._("Forward in separate messages");return c('React').createElement(n,{attachmentID:this.state.photoData.node.legacy_attachment_id,onClose:this.$SpotlightMessengerSharedMediaViewer15,shown:this.state.showForward,title:u})};t.prototype.$SpotlightMessengerSharedMediaViewer10=function(){return this.state.showInfo?c('React').createElement(c('MessengerPhotoInfoDialogContainer.react'),{closeInfo:this.$SpotlightMessengerSharedMediaViewer16,infoOpen:this.state.showInfo,photoID:this.state.photoData.node.id}):c('React').createElement('xhp',null)};t.prototype.$SpotlightMessengerSharedMediaViewer17=function(u){var v=this.$SpotlightMessengerSharedMediaViewer13(this.state.stageDimensions.x),w=this.props.sharedMedia;if(u<=v/2){c('MessengerSharedMediaActions').loadMoreLatest(this.props.threadID,w[0].cursor,v);if(w.length<v&&this.props.hasNextPage)c('MessengerSharedMediaActions').loadMorePrevious(this.props.threadID,w[w.length-1].cursor,v);}else if(u>=w.length-v/2&&this.props.hasNextPage)c('MessengerSharedMediaActions').loadMorePrevious(this.props.threadID,w[w.length-1].cursor,v);};t.prototype.$SpotlightMessengerSharedMediaViewer3=function(){var u=new (c('Vector'))(c('Vector').getViewportDimensions().x,c('Vector').getViewportDimensions().y-p);return u};t.prototype.$SpotlightMessengerSharedMediaViewer5=function(){if(this.state.photoData&&this.state.photoData.node){var u=this.state.photoData.node;if(u.__typename&&u.__typename==='MessageVideo')return this.$SpotlightMessengerSharedMediaViewer18();var v=this.state.stageDimensions,w=this.$SpotlightMessengerSharedMediaViewer19(u,v);if(!w)return null;var x=t.getImageDimensionsForStage(new (c('Vector'))(w.width,w.height),v);return this.$SpotlightMessengerSharedMediaViewer20(w,x)}else return null;};t.prototype.$SpotlightMessengerSharedMediaViewer18=function(){if(this.state.photoData)return c('React').createElement(c('MessengerVideoPlayer.react'),{isVisible:true,isOnStage:true,videoData:this.state.photoData.node,stageDimensions:this.state.stageDimensions});return null};t.prototype.$SpotlightMessengerSharedMediaViewer20=function(u,v){return c('React').createElement(c('SpotlightViewerImage'),{dimensions:v,ref:'image',src:u.uri})};t.prototype.$SpotlightMessengerSharedMediaViewer19=function(u,v){var w=null,x=c('PhotoUtils').getImagesFromData(u);x=x.sort(function(z,aa){return aa.width-z.width});if(window.devicePixelRatio&&window.devicePixelRatio>1)v=new (c('Vector'))(v.x*window.devicePixelRatio,v.y*window.devicePixelRatio);for(var y=0;y<x.length;y++)if(!w||x[y].width>=v.x||x[y].height>=v.y)w=x[y];return w};t.propTypes={disableForward:o.bool,hasPrevPage:o.bool,hasNextPage:o.bool,onClosePhotoView:o.func,openAlbum:o.func,photoID:o.string,rootClassName:o.string,threadID:o.string,sharedMedia:o.arrayOf(o.object)};t.getImageDimensionsForStage=function(u,v){var w=u.x,x=u.y,y=v.x,z=v.y,aa=w/x,ba=y/z;if(w>=y||x>=z){if(ba<aa){w=y;x=Math.round(y/aa)}else if(ba>aa){w=Math.round(z*aa);x=z}else{w=y;x=z}}else if(aa<ba){w=Math.round(x*aa)}else x=Math.round(w/aa);return new (c('Vector'))(w,x)};f.exports=t}),null);
__d('SpotlightMessengerSharedMediaViewerContainer.react',['FluxContainer','MessengerSharedMediaStore','MessengerSharedMediaActions','React','SpotlightMessengerSharedMediaViewer.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').PureComponent);i=h&&h.prototype;j.getStores=function(){return [c('MessengerSharedMediaStore')]};j.calculateState=function(k,l){var m=c('MessengerSharedMediaStore').getState(),n=m.sharedMedia.get(l.threadID),o=m.isLoading.get(l.threadID);return {sharedMedia:n,isLoading:o}};j.prototype.componentDidMount=function(){c('MessengerSharedMediaActions').loadCurrent(this.props.threadID,this.props.photoID)};j.prototype.render=function(){if(!this.state.sharedMedia)return null;var k=this.state.sharedMedia&&this.state.sharedMedia.edges.find(function(l){return l.node.legacy_attachment_id===this.props.photoID}.bind(this));if(!k)return null;return c('React').createElement(c('SpotlightMessengerSharedMediaViewer.react'),{disableForward:this.props.disableForward,hasPrevPage:this.state.sharedMedia&&this.state.sharedMedia.has_previous_page,hasNextPage:this.state.sharedMedia&&this.state.sharedMedia.has_next_page,onClosePhotoView:this.props.onClosePhotoView,openAlbum:this.props.openAlbum,photoID:this.props.photoID,rootClassName:this.props.rootClassName,sharedMedia:this.state.sharedMedia&&this.state.sharedMedia.edges,threadID:this.props.threadID})};function j(){h.apply(this,arguments)}f.exports=c('FluxContainer').create(j,{withProps:true})}),null);
__d('MessengerThreadSharedPhotos.react',['cx','MessengerSharedPhotosAlbumViewContainer.react','React','SpotlightViewer','SpotlightMessengerSharedMediaViewerContainer.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={photoView:this.props.findFBID,albumView:''},this.$MessengerThreadSharedPhotos3=function(r){this.setState({albumView:r,photoView:''})}.bind(this),this.$MessengerThreadSharedPhotos4=function(){this.setState({albumView:''})}.bind(this),this.$MessengerThreadSharedPhotos5=function(r){this.setState({albumView:'',photoView:r})}.bind(this),this.$MessengerThreadSharedPhotos6=function(){this.setState({photoView:''})}.bind(this),this.$MessengerThreadSharedPhotos7=function(r){this.setState({photoView:r})}.bind(this),n}l.prototype.componentDidUpdate=function(){!this.state.photoView&&!this.state.albumView&&this.props.onCloseSharedPhotos()};l.prototype.render=function(){var m=this.state.photoView?this.$MessengerThreadSharedPhotos1():null,n=this.state.albumView?this.$MessengerThreadSharedPhotos2():null;return c('React').createElement('div',null,n,m)};l.prototype.$MessengerThreadSharedPhotos1=function(){return c('React').createElement(c('SpotlightMessengerSharedMediaViewerContainer.react'),{disableForward:false,onClosePhotoView:this.$MessengerThreadSharedPhotos6,openAlbum:this.$MessengerThreadSharedPhotos3,photoID:this.state.photoView,rootClassName:'',threadID:this.props.threadFBID})};l.prototype.$MessengerThreadSharedPhotos2=function(){return c('React').createElement(c('SpotlightViewer'),{className:"_3ode",onHide:this.$MessengerThreadSharedPhotos4,open:true,ref:'spotlightViewer'},c('React').createElement(c('MessengerSharedPhotosAlbumViewContainer.react'),{onClick:this.$MessengerThreadSharedPhotos5,onCloseSharedPhotos:this.props.onCloseSharedPhotos,threadID:this.props.threadFBID,viewedPhoto:this.state.albumView}))};l.propTypes={findFBID:k.string,onCloseSharedPhotos:k.func,threadFBID:k.string};f.exports=l}),null);
__d('messengerThreadSharedPhotosReact',['reasonReact','MessengerThreadSharedPhotos.react'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l){return c('reasonReact').wrapJsForReason(c('MessengerThreadSharedPhotos.react'),{findFBID:i,onCloseSharedPhotos:j,threadFBID:k},l)}g.make=h}),null);
__d('messengerVideoPlayerReact',['utilsRe','reasonReact','bs_js_null_undefined','MessengerVideoPlayer.react'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l,m,n,o,p,q,r){return c('reasonReact').wrapJsForReason(c('MessengerVideoPlayer.react'),{attachment:c('bs_js_null_undefined').from_opt(i),className:c('bs_js_null_undefined').from_opt(j),isInThread:c('utilsRe').optionBoolToNullUndefinedBoolean(k),isVisible:c('utilsRe').optionBoolToNullUndefinedBoolean(l),isOnStage:c('utilsRe').optionBoolToNullUndefinedBoolean(m),stageDimensions:c('bs_js_null_undefined').from_opt(n),videoData:o,onClick:c('bs_js_null_undefined').from_opt(p),onSelect:c('bs_js_null_undefined').from_opt(q)},r)}g.make=h}),null);
__d('messengerVideoReact',['cx','ix','bs_curry','React','utilsRe','imageReact','bs_js_boolean','bs_pervasives','reasonReact','joinClasses','bs_js_primitive','messengerPhotoReact','messengerVideoPlayerReact'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('reasonReact').statelessComponent("MessengerVideo");function k(o){var p=true,q=true,r=false,s=o.metadata,t=0;if(s==null){t=1}else if(c('utilsRe').isDefined(s.fbid)){var u=+(window.screen.width>1800)&&c('utilsRe').isDefined(s.large_size)&&c('utilsRe').isDefined(s.large_preview),v=s.fbid,w=u!==0?s.large_size:s.inbox_size,x=w==null?{x:0,y:0}:{x:w.width,y:w.height},y=u!==0?s.large_preview:s.inbox_preview;return {legacy_attachment_id:v,original_dimensions:x,start_muted:p,hide_controls_on_finish:q,url:y,is_share:r}}else t=1;if(t===1)return {legacy_attachment_id:null,original_dimensions:null,start_muted:p,hide_controls_on_finish:q,url:null,is_share:r};}function l(o){var p=o%60,q=+(p<10);return c('bs_pervasives').string_of_int(o/60|0)+(":"+((q!==0?"0":"")+c('bs_pervasives').string_of_int(p)))}function m(o,p,q,r,s,t,u,v){var w=o?o[0]:"",x=function ba(){var ca=p.metadata,da=p.media,ea=ca==null?da==null?0:c('bs_js_primitive').null_undefined_to_opt(da.duration):c('bs_js_primitive').null_undefined_to_opt(ca.duration);if(ea){return l(ea[0])}else return null;},y=function ba(){if(t){return c('bs_curry')._1(t[0],p)}else return 0;},z=function ba(ca){var da=ca.legacy_attachment_id;if(c('utilsRe').isDefined(da)){return [c('reasonReact').element(0,0,c('messengerVideoPlayerReact').make([p],[c('joinClasses')(w,"_ccq","_4tsk","_3o67",c('bs_js_boolean').to_js_boolean(q)?"_52mr":'')],[1],s,0,0,ca,[y],u,[]))]}else return 0;},aa=j.slice();aa[9]=function(){var ba=k(p),ca=z(ba);if(ca){return ca[0]}else return c('reasonReact').element(0,0,c('messengerPhotoReact').make([c('joinClasses')(w,"_ccq")],p,q,r,t,[c('reasonReact').element(0,0,c('imageReact').make(["_ccr"],0,[i("27983")],0,0,0,0,[])),c('React').createElement("span",{className:"_ccs"},x(0))]));};return aa}var n=1800;g.component=j;g.large_window_width=n;g.constructVideoData=k;g.formatDuration=l;g.make=m}),null);
__d('MessengerXMATextBlock.react',['cx','LineClamp.react','React','ShimButton.react','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=26;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerXMATextBlock1=function(){this.props.url&&window.open(this.props.url)}.bind(this),o}m.prototype.render=function(){if(!this.props)return c('React').createElement('div',{className:"__6j"});var n=this.props.width?{maxWidth:this.props.width-l,textAlign:'left'}:{textAlign:'left'},o={textDecoration:'none'};return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"__6j _43kk"),style:n},c('React').createElement(c('ShimButton.react'),{form:'link',onClick:this.$MessengerXMATextBlock1,style:o},this.renderTitle(),this.renderDescription(),this.renderSource()))};m.prototype.renderTitle=function(){if(!this.props.title)return null;return c('React').createElement('div',{className:"__6k"},c('React').createElement(c('LineClamp.react'),{lines:2,lineHeight:16},this.props.title))};m.prototype.renderDescription=function(){if(!this.props.description)return null;return c('React').createElement('div',{className:"__6l"},c('React').createElement(c('LineClamp.react'),{lines:2,lineHeight:15},this.props.description))};m.prototype.renderSource=function(){if(!this.props.source)return null;return c('React').createElement('div',{className:"__6m"},c('React').createElement(c('LineClamp.react'),{lines:1,lineHeight:14},this.props.source))};m.propTypes={className:k.string,description:k.string,source:k.string,title:k.string,url:k.string,width:k.number};f.exports=m}),null);
__d('messengerXMATextBlockReact',['reasonReact','bs_js_null_undefined','MessengerXMATextBlock.react'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l,m,n,o){return c('reasonReact').wrapJsForReason(c('MessengerXMATextBlock.react'),{className:c('bs_js_null_undefined').from_opt(i),description:c('bs_js_null_undefined').from_opt(j),source:c('bs_js_null_undefined').from_opt(k),title:c('bs_js_null_undefined').from_opt(l),url:c('bs_js_null_undefined').from_opt(m),width:c('bs_js_null_undefined').from_opt(n)},o)}g.make=h}),null);
__d("messengerVideoXMAReact",["cx","React","utilsRe","bs_pervasives","reasonReact","joinClasses","bs_js_primitive","messengerVideoPlayerReact","messengerXMATextBlockReact"],(function a(b,c,d,e,f,g,h){'use strict';var i=c("reasonReact").statelessComponent("MessengerVideoXMA");function j(p){if(p==null){return null}else{var q=c("bs_pervasives").max(p.width,p.height),r=+(window.screen.width>1800),s=r!==0?640:450;if(q<=s){return {x:p.width,y:p.height}}else{var t=s/q,u=p.width*t|0,v=p.height*t|0;return {x:u,y:v}}}}function k(p){var q=p.media,r=p.target;if(q==null){return 0}else if(r==null){return 0}else if(c("utilsRe").isDefined(q.image_size)&&c("utilsRe").isDefined(r.video_id)){var s=q.image_size;return [{legacy_attachment_id:r.video_id,original_dimensions:j(s),start_muted:true,hide_controls_on_finish:true,url:q.image,is_share:true}]}else return 0;}function l(p,q,r,s,t){var u=p?p[0]:"",v=function y(z){if(z){return c("reasonReact").element(0,0,c("messengerVideoPlayerReact").make([q],[c("joinClasses")(u,"_ccq","_4tsk","_3o67","_52mr")],[1],r,0,0,z[0],0,s,[]))}else return null;},w=function y(z){return c("reasonReact").element(0,0,c("messengerXMATextBlockReact").make(["_2f5n _4br2 _29ew _3dug"],c("bs_js_primitive").null_undefined_to_opt(q.description),c("bs_js_primitive").null_undefined_to_opt(q.source),c("bs_js_primitive").null_undefined_to_opt(q.video_title),c("bs_js_primitive").null_undefined_to_opt(q.uri),z?[z[0].x]:0,[]))},x=i.slice();x[9]=function(){var y=k(q),z=v(y);return c("React").createElement("div",{className:"_3duc"},z,w(y?c("bs_js_primitive").null_undefined_to_opt(y[0].original_dimensions):0))};return x}var m=640,n=450,o=1800;g.large_preview_dim=m;g.thumbinail_inbox_dim=n;g.large_window_width=o;g.component=i;g.adjustSize=j;g.constructVideoData=k;g.make=l}),null);
__d('messengerPhotosGroupReact',['cx','URI','bs_list','bs_array','bs_block','bs_curry','React','fBIDRe','utilsRe','ActorURI','bs_caml_obj','bs_caml_array','bs_js_boolean','MercuryIDs','bs_pervasives','reasonReact','joinClasses','bs_js_primitive','bs_js_null_undefined','MessagesViewerSetID','messengerPhotoReact','messengerVideoReact','MercuryAttachmentType','getPageIDFromThreadID','messagingGiftWrapReact','messengerVideoXMAReact','bs_caml_builtin_exceptions','chatSpeakingStickerReact','MessengerAttachmentViewer','mercuryAttachmentPayloadRe','messagingFlowerBorderReact','messengerThreadSharedPhotosReact'],(function a(b,c,d,e,f,g,h){'use strict';var i="empty-spacer",j=c('reasonReact').reducerComponent("MessengerPhotosGroup");function k(m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){var ba=o?o[0]:"",ca=function ia(ja){var ka=ja.length,la=+(ka===2||ka===4);return c('joinClasses')(ba,"_2n8h",c('bs_js_boolean').to_js_boolean(+(ka===1))?"_2n8i":'',c('bs_js_boolean').to_js_boolean(la)?"_4ksk":'',c('bs_js_boolean').to_js_boolean(+(ka>1)&&1-la)?"_2n8k":'',"_5fk1")},da=function ia(){if(v){var ja=v[0],ka=ja.thread_fbid;if(ka==null){return c('MercuryIDs').getThreadFBIDFromThreadID(ja.thread_id)}else{var la=+(c('fBIDRe').compare(ka,"")===0);if(la!==0){return c('MercuryIDs').getThreadFBIDFromThreadID(ja.thread_id)}else return ka;}}else return null;},ea=function ia(ja,ka){var la=da(0),ma=ka.metadata,na=ma==null?null:ma.fbid;return c('reasonReact').element(0,0,c('messengerThreadSharedPhotosReact').make(na,c('bs_curry')._1(ja[3],function(){return 0}),la,[]))},fa=function ia(ja,ka,la,ma){var na=c('utilsRe').isDefined(ka.deduplication_key),oa=ka.metadata,pa;if(na!==0){pa=ka.deduplication_key}else if(oa==null){pa=ka.upload_id}else{var qa=oa.fbid;pa=qa==null?null:qa}var ra=c('utilsRe').$pipe$unknown(pa==null?0:[pa],""),sa;if(!la&&s!==[1]){var ta=ka.metadata,ua=0;if(ta==null){ua=1}else if(c('utilsRe').isDefined(ta.fbid)){var va=1-c('utilsRe').isDefined(ka.app_attribution);sa=va!==0?[c('bs_curry')._1(ja[3],function(gb){return [gb]})]:[function(gb){var hb=ta,ib=gb;if(c('utilsRe').isTruthy(ib.preview_uploading)){return 0}else if(ib.attach_type===c('MercuryAttachmentType').VIDEO){var jb=hb.dimensions,kb=jb==null?{x:null,y:null}:{x:jb.width,y:jb.height};c('MessengerAttachmentViewer').renderVideo({pageID:c('bs_js_null_undefined').from_opt(z),rootClassName:"_1j1h",videoID:hb.fbid,videoSize:kb,videoURI:ib.url});return 0}else if(ib.attach_type===c('MercuryAttachmentType').PHOTO||ib.attach_type===c('MercuryAttachmentType').THIRDPARTYSTICKER||ib.attach_type===c('MercuryAttachmentType').ANIMATED_IMAGE){var lb=+(m.length===1),mb=ib.url,nb;if(t!==[1]&&ib.attach_type===c('MercuryAttachmentType').PHOTO&&p!==0){var ob=da(0),pb=+(p===[1]),qb=new (c('URI'))("/ajax/messaging/attachments/sharedphotos.php").setQueryData({thread_id:ob,image_id:hb.fbid}),rb=z?new (c('ActorURI').create)(qb,z[0]):qb;nb=[c('MessagesViewerSetID').MESSAGES_VIEW_ALL_IN_THREAD,rb,pb]}else nb=[null,mb,lb];c('MessengerAttachmentViewer').bootstrapWithConfig({actorid:c('bs_js_null_undefined').from_opt(z),dimensions:hb.dimensions,disableForward:c('bs_js_boolean').to_js_boolean(+(z!==0)),disablePaging:c('bs_js_boolean').to_js_boolean(nb[2]),endpoint:nb[1],fbid:hb.fbid,rootClassName:"_1j1h",setID:nb[0],snapToPhoto:true,src:ib.preview_url});return 0}else if(c('utilsRe').isDefined(ib.uri)){return window.open(ib.uri)}else return 0;}]}else ua=1;if(ua===1){var wa=c('utilsRe').isDefined(ka.uri);if(wa!==0){var xa=ka.uri;sa=[function(){return window.open(xa)}]}else sa=0;}}else sa=0;var ya=c('utilsRe').$pipe$unknown(n,ka.attach_type);if(ya===c('MercuryAttachmentType').PHOTO||ya===c('MercuryAttachmentType').ANIMATED_IMAGE||ya===c('MercuryAttachmentType').THIRDPARTYSTICKER){return c('reasonReact').element([ra],0,c('messengerPhotoReact').make(0,ka,ma,w,sa,[]))}else if(ya===c('MercuryAttachmentType').VIDEO){var za=ka.metadata,ab=0;if(za==null){ab=1}else if(c('utilsRe').isTruthy(za.render_as_sticker)){var bb=za.dimensions,cb=bb==null?{height:null,width:null}:{height:bb.height,width:bb.width},db=ka.url;return c('reasonReact').element(0,0,c('chatSpeakingStickerReact').make(db,cb,[]))}else ab=1;if(ab===1)if(c('bs_caml_obj').caml_equal(t,[1])){return c('reasonReact').element([ra],0,c('messengerVideoXMAReact').make(0,ka,u,x,[]))}else return c('reasonReact').element([ra],0,c('messengerVideoReact').make(0,ka,ma,w,u,sa,x,[]));}else if(ya===i){var eb={className:"_4tsk _4rf-"},fb=c('bs_js_primitive').null_undefined_to_opt(ka.key);if(fb)eb.key=fb[0];return c('React').createElement("div",eb)}else throw [c('bs_caml_builtin_exceptions').invalid_argument,ya+" is not handled by MessengerPhotosGroup"];},ga=function ia(ja,ka,la){if(ka.length===1){return fa(ja,c('bs_caml_array').caml_array_get(ka,0),la,1)}else{var ma=+(ka.length===2||ka.length===4),na=ma!==0?2:3,oa=0,pa=[0],qa=ka.length;while(pa[0]<qa){var ra=c('bs_pervasives').min(na,qa-pa[0]|0),sa=c('bs_array').init(na,function(ta){return function(ua){var va=+(ua<ta);if(va!==0){return fa(ja,c('bs_caml_array').caml_array_get(ka,pa[0]+ua|0),la,0)}else{var wa="ghost"+c('bs_pervasives').string_of_int(na-ua|0),xa=c('mercuryAttachmentPayloadRe').create(i,[wa],new (c('URI'))(""));return fa(ja,xa,la,0)}}}(ra));oa=[c('React').createElement("div",{key:c('bs_pervasives').string_of_int(pa[0]),className:"_2n8g"},sa),oa];pa[0]=pa[0]+na|0}return c('bs_array').of_list(c('bs_list').rev(oa))}},ha=j.slice();ha[4]=function(){c('MessengerAttachmentViewer').preload();return 0};ha[9]=function(ia){var ja=v?c('utilsRe').isDefined(c('getPageIDFromThreadID')(v[0].thread_id)):0,ka=ga(ia,m,ja),la=+(r===[1]),ma=la!==0?c('React').createElement("div",undefined,ka):ka,na=ia[4][0],oa=na?ea(ia,na[0]):null,pa=+(r===[1]),qa=+(q===[1]);return c('React').createElement("div",{className:ca(m),tabIndex:0},oa,ma,pa!==0?c('reasonReact').element(0,0,c('messagingGiftWrapReact').make(0,y,[])):null,qa!==0?c('reasonReact').element(0,0,c('messagingFlowerBorderReact').make(-10,[])):null)};ha[10]=function(){return [0]};ha[12]=function(ia,ja){if(ia){return c('bs_block').__(0,[[[ia[0]]]])}else return c('bs_block').__(0,[[0]]);};return ha}var l=c('reasonReact').wrapReasonForJs(j,function(m){return k(m.attachments,c('bs_js_primitive').null_undefined_to_opt(m.attachType),c('bs_js_primitive').null_undefined_to_opt(m.className),m.count,c('utilsRe').nullUndefinedBooleanToOptionBool(m.hasFlowerBorder),c('utilsRe').nullUndefinedBooleanToOptionBool(m.isGiftWrapped),c('utilsRe').nullUndefinedBooleanToOptionBool(m.isPageMessage),c('utilsRe').nullUndefinedBooleanToOptionBool(m.isXMA),c('utilsRe').nullUndefinedBooleanToOptionBool(m.isVisible),c('bs_js_primitive').null_undefined_to_opt(m.message),c('bs_js_primitive').null_undefined_to_opt(m.onAttachmentLoad),c('bs_js_primitive').null_undefined_to_opt(m.onSelect),c('bs_js_primitive').null_undefined_to_opt(m.onUnwrap),c('bs_js_primitive').null_undefined_to_opt(m.pageID),[])});g.empty_spacer_type=i;g.component=j;g.make=k;g.jsComponent=l}),null);
__d('MessengerPhotosGroup.react',['messengerPhotosGroupReact'],(function a(b,c,d,e,f,g){'use strict';var h=c('messengerPhotosGroupReact').jsComponent;f.exports=h}),null);
__d('MessengerStickerUtils',['MercuryAttachmentType'],(function a(b,c,d,e,f,g){'use strict';function h(k){return !!(k&&k.attach_type===c('MercuryAttachmentType').STICKER)}function i(k){var l=k.attachments;return !!(k.is_like_preview||k.sticker_id||l&&l.length===1&&h(l[0]))}function j(k){return k.size===1&&i(k.first())}f.exports={isStickerMessageGroup:j,isStickerMessage:i,isStickerAttachment:h}}),null);
__d('MessengerVoiceClipAttachment.react',['cx','MercuryAttachmentAudioClip.react','MercuryShareAttachmentRenderLocations','MessagingGiftWrap.react','MessagingFlowerBorder.react','React','messengerCustomColorUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=this.props.attachment,n=m.metadata.duration/1000,o=!!m.app_attribution,p={};if(this.props.customColor)p=c('messengerCustomColorUtils').customBubbleStyle(this.props.customColor,p);var q=this.props.isGiftWrapped?c('React').createElement(c('MessagingGiftWrap.react'),{onUnwrap:this.props.onUnwrap}):null,r=this.props.hasFlowerBorder?c('React').createElement(c('MessagingFlowerBorder.react'),{offset:-10}):null;return c('React').createElement('div',{className:"_hh7"+(' '+"_s1-")+(!!this.props.customColor?' '+"_5sxi":'')+(!o?' '+"_52mr":'')+(o?' '+"_mxz":'')+(' '+"_1fz8")+(o?' '+"_1-wa":'')+(' '+"_1nqp"),style:p},c('React').createElement(c('MercuryAttachmentAudioClip.react'),{customColor:this.props.customColor,src:m.url,duration:n,key:'audio:'+this.props.message.message_id,showHelp:false,width:200,location:c('MercuryShareAttachmentRenderLocations').MESSENGER,rootClassName:"_3czg"+(o?' '+"_4yjw":'')+(' '+"_2poz")+(' '+"_ui9")}),q,r)};function l(){i.apply(this,arguments)}l.propTypes={attachment:k.object.isRequired,customColor:k.string,isGiftWrapped:k.bool,message:k.object.isRequired,onUnwrap:k.func};f.exports=l}),null);
__d("XStickerInTrayController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/stickers\/in_tray\/",{pack_id:{type:"Int",required:true}})}),null);
__d('StickersPackInTray',['Promise','AsyncRequest','RelayQL','RelayStore','XStickerInTrayController','createRelayQuery'],(function a(b,c,d,e,f,g){'use strict';var h={onIsPackInTray:function i(j,k,l){var m=c('createRelayQuery')(function(){return {children:[{children:[{calls:[{kind:'Call',metadata:{type:'StickerInterfaces'},name:'interface',value:{kind:'CallVariable',callVariableName:'stickerInterface'}},{kind:'Call',metadata:{type:'Int'},name:'first',value:{kind:'CallValue',callValue:10000}}],children:[{children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'StickerPack'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'PacksInTrayEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'tray_packs',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'PacksInTrayConnection'}],fieldName:'sticker_store',kind:'Field',metadata:{canHaveSubselections:true},type:'StickerStore'}],fieldName:'viewer',kind:'Query',metadata:{},name:'StickersPackInTray',type:'Viewer'}}(),{stickerInterface:k}),n=c('RelayStore').readQuery(m);n=n&&n.length>0?n[0]:null;if(n&&n.sticker_store&&n.sticker_store.tray_packs&&n.sticker_store.tray_packs.edges)return new (c('Promise'))(function(p,q){return p({in_sticker_tray:n.sticker_store.tray_packs.edges.filter(function(r){return r.node.id===j}).length>0})}).then(l);var o=c('XStickerInTrayController').getURIBuilder().setInt('pack_id',j).getURI();return new (c('Promise'))(function(p,q){return new (c('AsyncRequest'))(o).setHandler(function(r){return p(r.getPayload())}).setAllowCrossPageTransition(true).send()}).then(l)}};f.exports=h}),null);
__d('isRetina',[],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){return (window.devicePixelRatio||1)>1}}),null);
__d('MessengerAttachmentRenderer',['cx','EmojiSticker.react','MercuryAttachment','MercuryAttachmentType','MercuryAudioType','MercuryIDs','MercuryShareAttachment.react','MercuryShareAttachmentRenderLocations','MessagingFlowerBorder.react','MessagingFlowerBorderChecker','MessagingGiftWrap.react','MessagingGiftWrapChecker','MessengerErrorAttachment.react','MessengerFileAttachment.react','MessengerFromViewerUtils','MessengerHotLikePreview.react','MessengerHotLikeUtils','MessengerPhotosGroup.react','MessengerStickerUtils','MessengerSupportedEmojiUtils','MessengerVoiceClipAttachment.react','MessengerWebDriverTestIDs','React','Sticker.react','StickerAssetType','StickerConstants','StickerInterfaces','StickerUtils','StickersActions','StickersPackInTray','StickersStoreController','StoryAttachmentStyle','XStickerAssetController','idx','isRetina','wrapNullableForReact'],(function a(b,c,d,e,f,g,h){'use strict';var i=700,j='sticker:',k='giftwrap:',l='share:',m="_1c_u",n=function p(q){return q===Object(q)},o={getAttachmentsInsideBubble:function p(q,r){var s=c('MercuryAttachment').get(q).filter(n).filter(function(t){return !this.attachmentShouldAppearOutsideBubble(t)}.bind(this));return this._getAttachmentComponents(s,q,r)},getAttachmentsOutsideBubble:function p(q,r,s,t){var u=c('MercuryAttachment').get(q).filter(n).filter(function(v){return this.attachmentShouldAppearOutsideBubble(v)}.bind(this));return this._getAttachmentComponents(u,q,r,s,t)},_getAttachmentComponents:function p(q,r,s,t,u){var v=this._getPhotosGroup(q.filter(c('MercuryAttachment').isPhotoGroupAttachment),r,s,t),w=q.filter(function(x){return !c('MercuryAttachment').isPhotoGroupAttachment(x)}).map(function(x){return this._getAttachmentComponent(x,r,s,t,u)}.bind(this));if(v)w.push(v);return w},_getAttachmentComponent:function p(q,r,s,t,u){var v=t&&t.customColor,w=t&&t.onUnwrap,x=t&&t.isVisible,y=t&&t.onSelect;if(c('MessengerStickerUtils').isStickerAttachment(q))return this._getStickerComponent(q,r,v,w);if(this.isEmojiLikeAttachment(q))return this._getEmojiLikeAttachment(q,r,w);if(this.isVoiceClip(q))return this._getVoiceClip(q,r,v,w);if(this.isFileAttchment(q))return this._getFileComponent(q,r);if(this.isP2P(q)||this.isShareAttachment(q))return this._getShareAttachment(q,r,s,x,y,u);if(this.isErrorAttachment(q))return this._getErrorAttachment(q,r);return null},_getStickerComponent:function p(q,r,s,t){if(r.is_like_preview)return this._maybeGiftWrapSticker(c('React').createElement(c('MessengerHotLikePreview.react'),{customColor:s,customLike:r.customLike,key:'hlp:'+r.like_preview_since,since:r.like_preview_since}),r,t);var u=q.metadata;if(!u){u=c('MessengerHotLikeUtils').getMetadataForHotLike(r.sticker_id);if(!u){u={};var v=c('StickerUtils').getScaledDimensions(c('StickerConstants').THREAD_SIZE,c('StickerConstants').THREAD_SIZE,c('StickerConstants').THREAD_SIZE),w=v.height,x=v.width;u.height=w;u.width=x}u.stickerID=r.sticker_id}var y=c('XStickerAssetController').getURIBuilder().setInt('sticker_id',u.stickerID),z=null,aa=null;if(c('isRetina')()){z=u.paddedSpriteURI2x;aa=u.spriteURI2x}else{z=u.paddedSpriteURI;aa=u.spriteURI}var ba=u.stickerID.toString(),ca=c('React').createElement(c('Sticker.react'),{accessibilityLabel:u.accessibilityLabel,className:"_2poz"+(' '+"_ui9")+(c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(r)&&!!c('MessengerHotLikeUtils').getMetadataForHotLike(ba)?' '+"_4ue_":''),animationTrigger:'hover',customColor:s,frameCount:u.frameCount||1,frameRate:u.frameRate||c('StickerConstants').DEFAULT_FRAME_RATE,framesPerCol:u.framesPerCol||1,framesPerRow:u.framesPerRow||1,key:j+r.message_id,onStickerClick:function da(ea,fa){c('StickersPackInTray').onIsPackInTray(ea,c('StickerInterfaces').MESSAGES,function(ga){if(ga.in_sticker_tray){c('StickersActions').selectTrayPack(ea);c('StickersActions').showStickerFlyout(r.thread_id)}else c('StickersStoreController').showStore(ea);})},packID:u.packID&&u.packID.toString(),paddedSpriteURI:z,sourceHeight:u.height,sourceURI:y.setEnum('image_type',c('StickerAssetType').IMAGE).getURI().toString(),sourceWidth:u.width,spriteURI:aa,stickerID:ba,testID:c('MessengerWebDriverTestIDs').STICKER});return this._maybeGiftWrapSticker(ca,r,t)},_getEmojiLikeAttachment:function p(q,r,s){var t=c('MessengerSupportedEmojiUtils').transferSize(q.size),u=c('MessengerSupportedEmojiUtils').getNewEmojiData(r.body,t),v=u?u.emoji:undefined;if(!u)return this._getErrorAttachment(q,r);var w=c('React').createElement(c('EmojiSticker.react'),{className:"_2poz _ui9",key:j+r.message_id,emoji:r.body,emojiImage:v,sourceURI:''});return this._maybeGiftWrapSticker(w,r,s)},_getShareAttachment:function p(q,r,s,t,u,v){var w,x,y=null;if(r&&r.platform_xmd)y=JSON.parse(r.platform_xmd);var z=(w=q)!=null?(w=w.share)!=null?(w=w.messenger_ctas)!=null?(w=w[0])!=null?w.page_id:w:w:w:w,aa=(x=q)!=null?(x=x.share)!=null?(x=x.target)!=null?(x=x.items)!=null?(x=x[0])!=null?(x=x.call_to_actions)!=null?(x=x[0])!=null?x.page_id:x:x:x:x:x:x:x,ba=z||aa,ca=ba?c('MercuryIDs').getParticipantIDFromUserID(ba):r.author;return c('React').createElement(c('MercuryShareAttachment.react'),{attachment:q.share,isSponsored:r.is_sponsored,isVisible:!!t,key:l+r.message_id,location:c('MercuryShareAttachmentRenderLocations').MESSENGER,maxWidth:i,messageID:r.message_id,mnMessageType:y&&y.template_type,onComponentLoaded:s,onSelect:u,pageID:ca,threadID:r.thread_id,afterDecorators:v})},_getVoiceClip:function p(q,r,s,t){s=c('MessengerFromViewerUtils').isFromViewer(r)?s||undefined:undefined;return c('React').createElement(c('MessengerVoiceClipAttachment.react'),{attachment:q,customColor:s,isGiftWrapped:c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(r),hasFlowerBorder:c('MessagingFlowerBorderChecker').shouldRenderWithFlowerBorder(r),key:'audio:'+r.message_id,message:r,onUnwrap:function(u){function v(){return u.apply(this,arguments)}v.toString=function(){return u.toString()};return v}(function(){t&&t()})})},_getErrorAttachment:function p(q,r){return c('React').createElement(c('MessengerErrorAttachment.react'),{attachment:q,key:'error:'+r.message_id})},_getPhotosGroup:function p(q,r,s,t){if(!q.length)return null;var u=t&&t.onUnwrap,v=t&&t.isVisible,w=t&&t.onSelect,x=t&&t.isPageMessage,y=t&&t.pageID,z=c('MessagingFlowerBorderChecker').shouldRenderWithFlowerBorder(r),aa=c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(r)&&this._rendersWithoutAttribution(q);return c('React').createElement(c('MessengerPhotosGroup.react'),{attachments:q,className:"_2poz _52mr _ui9",count:q.length,hasFlowerBorder:z,isGiftWrapped:aa,isPageMessage:x,isVisible:!!v,key:'photos:'+r.message_id,message:r,onSelect:w,onUnwrap:function(ba){function ca(){return ba.apply(this,arguments)}ca.toString=function(){return ba.toString()};return ca}(function(){u&&u()}),pageID:y})},getVideoElem:function p(q,r){var s=r.getMessageElement(q);if(!s)return null;var t=s.getElementsByClassName(m);return t&&t.length?t[0]:s},_rendersWithoutAttribution:function p(q){return q.length!=1||!c('MercuryAttachment').hasAttribution(q[0])},_getFileComponent:function p(q,r){return c('React').createElement(c('MessengerFileAttachment.react'),{attachment:q,className:"_2poz",key:'file:'+q.url})},attachmentShouldAppearOutsideBubble:function p(q){return c('MessengerStickerUtils').isStickerAttachment(q)||c('MercuryAttachment').isPhotoGroupAttachment(q)||this.isShareAttachment(q)||this.isP2P(q)||this.isVoiceClip(q)||this.isErrorAttachment(q)||this.isEmojiLikeAttachment(q)},isPhotosGroupAttachment:function p(q){var r=q.props.attachments;return !!r&&r.length>1&&r.some(function(s){return !!s&&c('MercuryAttachment').isPhotoGroupAttachment(s)})},isRenderedShareAttachment:function p(q){return !!(q.key&&q.key.startsWith(l))},isFileAttchment:function p(q){return q.attach_type===c('MercuryAttachmentType').FILE},isShareAttachment:function p(q){return !!(this._isStoryBased(q)&&!this.isP2P(q)&&(q.share.style_list.indexOf(c('StoryAttachmentStyle').SHARE)>-1||q.share.style_list.indexOf(c('StoryAttachmentStyle').FALLBACK)>-1))},isSharedVideoAttachment:function p(q){var r=q.attach_type===c('MercuryAttachmentType').SHARE&&q.share&&q.share.subattachments&&q.share.subattachments[0];return !!(r&&r.target&&r.target.video_id)},isP2P:function p(q){return !!(this._isStoryBased(q)&&q.share.style_list.indexOf(c('StoryAttachmentStyle').ORION)>-1)},_isStoryBased:function p(q){return !!(q.attach_type===c('MercuryAttachmentType').SHARE&&q.share&&q.share.style_list)},isEmojiLikeAttachment:function p(q){return q.attach_type===c('MercuryAttachmentType').EMOJI_LIKE},isVoiceClip:function p(q){return !!q.metadata&&(q.metadata.type===c('MercuryAudioType').AudioClip||q.metadata.type===c('MercuryAudioType').VoiceMessageWithTranscript)},isVoiceClipAttachment:function p(q){var r=c('MercuryAttachment').get(q).filter(n).filter(function(s){return this.isVoiceClip(s)}.bind(this));return !!r.length},isP2PAttachment:function p(q){var r=c('MercuryAttachment').get(q).filter(function(s){return n(s)&&this.isP2P(s)}.bind(this));return !!r.length},isSingleVideoAttachment:function p(q){var r=c('MercuryAttachment').get(q).filter(n).filter(function(s){return c('MercuryAttachment').isVideoAttachment(s)});return r.length===1},isSharedVideoAttachmentMessage:function p(q){var r=c('MercuryAttachment').get(q).filter(n).filter(function(s){return this.isSharedVideoAttachment(s)||this.isGenieSharedVideoAttachment(s)}.bind(this));return r.length===1},isGenieSharedVideoAttachment:function p(q){return !!(q.attach_type===c('MercuryAttachmentType').SHARE&&q.share&&q.share.style_list.indexOf(c('StoryAttachmentStyle').GENIE_MESSAGE)>-1&&q.share.target&&q.share.target.attachment&&this.isSharedVideoAttachment(q.share.target.attachment))},isErrorAttachment:function p(q){return q.attach_type===c('MercuryAttachmentType').ERROR},_maybeGiftWrapComponentForMessage:function p(q,r,s){var t=c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(r),u=c('MessagingFlowerBorderChecker').shouldRenderWithFlowerBorder(r);if(!t&&!u)return q;return c('React').createElement('div',{key:k+r.message_id},q,t?c('React').createElement(c('MessagingGiftWrap.react'),{onUnwrap:c('wrapNullableForReact')(s)}):null,u?c('React').createElement(c('MessagingFlowerBorder.react'),{offset:-10}):null)},_maybeGiftWrapSticker:function p(q,r,s){var t=c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(r),u=c('MessagingFlowerBorderChecker').shouldRenderWithFlowerBorder(r);if(!t&&!u)return q;return c('React').createElement('div',{key:k+r.message_id},q,t?c('React').createElement(c('MessagingGiftWrap.react'),{isSticker:true,onUnwrap:c('wrapNullableForReact')(s)}):null,u?c('React').createElement(c('MessagingFlowerBorder.react'),{offset:-10}):null)}};f.exports=o}),null);
__d('MNRTCCallabilityStore',['MessengerDispatcher','RTCCallabilityStore'],(function a(b,c,d,e,f,g){'use strict';f.exports=new (c('RTCCallabilityStore'))(c('MessengerDispatcher'))}),null);
__d('shouldNotRenderSegoe',['MessengerConfig','UserAgent'],(function a(b,c,d,e,f,g){'use strict';var h=new RegExp('[\u0530-\u05f4\u10a0-\u10ff]'),i=c('UserAgent').isBrowser('Chrome')&&c('UserAgent').isPlatform('Windows 10');f.exports=function j(k){return !c('MessengerConfig').SegoeUIDisabled&&i&&h.test(k)}}),null);
__d('MessengerBubble.react',['cx','fbt','invariant','EmojiOnlyMessage.react','immutable','ImmutableObject','MercuryIDs','MercuryMessageBody.react','MercuryMessageRenderLocations','MessengerActions','messengerContactActionsRe','MessengerDecorator','MessengerSupportedEmojiUtils','React','SimpleXUIDialog','joinClasses','shouldNotRenderSegoe'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('messengerContactActionsRe').actions,n=c('React').PropTypes;k=babelHelpers.inherits(o,c('React').PureComponent);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={emojis:undefined},this.$MessengerBubble1=function(u,v,w){switch(u){case m.MESSAGE:this.$MessengerBubble2(v,w);break;case m.PROFILE:var x=c('MercuryIDs').getParticipantIDFromUserID(v.id),y=this.props.participants&&this.props.participants.get(x);if(y&&y.href){window.open(y.href)}else this.$MessengerBubble2(v,w);break;case m.FREE_CALL:e(['FBRTCCore','MNRTCCallabilityStore'],function(z,aa){var ba=v.id;ba||j(0);if(z.isAvailableForWebrtcCalling(ba)||aa.isCallable(ba)){z.startOutgoingCall(ba,'messenger_dot_com',false)}else c('SimpleXUIDialog').show(i._("{firstname} can't be reached at the moment.",[i.param('firstname',v.contactName)]),i._("Can't Connect Call"));});break;}}.bind(this),q}o.prototype.componentDidMount=function(){if(!this.props.emojis){var p=this.props.body||'',q=c('MessengerSupportedEmojiUtils').getEmojiOnlyContents(p);if(q&&q.length)this.setState({emojis:q});}};o.prototype.render=function(){var p=false,q=null;if(this.state.emojis){q=c('React').createElement(c('EmojiOnlyMessage.react'),{contents:this.state.emojis})}else{p=true;q=c('React').createElement(c('MercuryMessageBody.react'),{ref:this.props.bodyRef,body:this.props.body,className:"_3oh-"+(c('shouldNotRenderSegoe')(this.props.body||'')?' '+"_2por":'')+(' '+"_58nk"),threadCustomColor:this.props.threadCustomColor,isFromViewer:this.props.isFromViewer,ranges:this.props.ranges,metaRanges:this.props.metaRanges,plainText:this.props.plainText,threadID:this.props.threadID,customLike:this.props.customLike,onContactSelect:this.$MessengerBubble1,renderLocation:c('MercuryMessageRenderLocations').MESSENGER})}var r=[],s=[],t=this.props.message,u=!!this.props.isFromViewer;if(t&&!this.props.excludeAfterDecorators){c('MessengerDecorator').getInsideDecorators().concat(c('MessengerDecorator').getAfterDecorators()).forEach(function(x){if(x.check(t)){r.push(x.render(t,u,this.props));s.push(x.getAdditionalClassNames())}}.bind(this));c('MessengerDecorator').getBeforeDecorators().forEach(function(x){if(x.check(t))s.push(x.getAdditionalClassNames());})}var v=s.join(' '),w=this.props.body?c('React').createElement('div',{className:"_aok"},q,this.props.attachments):null;return c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(v,this.props.className,"_hh7"+(' '+"_s1-")+(!this.props.notBubblish?' '+"_52mr":'')+(this.props.isP2PAttachment?' '+"_4z55":'')+(!!this.state.emojis?' '+"_2f5r":'')+(!!this.state.emojis?' '+"_581a":'')+(this.props.isFromViewer&&!this.state.emojis?' '+"_43by":'')+(p?' '+"_3oh-":''))}),w,!w?q:null,!w?this.props.attachments:null,r)};o.prototype.$MessengerBubble2=function(p,q){q&&q.preventDefault();var r=c('MercuryIDs').getThreadIDFromUserID(p.id);r&&c('MessengerActions').selectThread(r)};o.propTypes={attachments:n.instanceOf(c('immutable').List),body:n.string,customColor:n.string,customLike:n.object,excludeAfterDecorators:n.bool,isFromViewer:n.bool,message:n.instanceOf(c('ImmutableObject')),metaRanges:n.array,notBubblish:n.bool,onUnwrap:n.func,participants:n.object,plainText:n.bool,ranges:n.array,threadID:n.string,threadCustomColor:n.string};f.exports=o}),null);
__d('MessengerCodePasteUtils',['cx','BanzaiODS','MessengerBubble.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=/`{3,}/;function j(l){return !!(l&&l.search(i)!==-1&&l.split('\n').length>1)}function k(l,m,n,o,p){var q=l.split(i),r=[];for(var s=0;s<q.length;s+=2){var t=q[s].trim();if(t&&t.length>0)r.push(c('React').createElement(c('MessengerBubble.react'),{key:s,body:t,customColor:o||undefined,className:"clearfix _3058 _ui9",isFromViewer:p,ranges:m,threadID:n}));if(s+1<q.length&&q[s+1]){var u=q[s+1].split('\n'),v=u[0].replace(/[^a-zA-Z]+/g,''),w=u.slice(1).join('\n');c('BanzaiODS').bumpEntityKey('messenger_code_paste','render_bubble');r.push(c('React').createElement('div',{key:s+1,className:"_3058 _wu0 _52mr"},c('React').createElement('div',{ref:'syntaxTarget'+s,className:'language-'+v},w)))}}return r}f.exports={containsCodeBlock:j,getCodeAndMessageBubbles:k}}),null);
__d('MNCommerceDialogStateActions',['MessengerDispatcher','MNCommerceActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={showDialog:function i(j,k){c('MessengerDispatcher').dispatch({type:c('MNCommerceActionTypes').DIALOG.SHOW,dialogContainer:j,state:k})},hideDialog:function i(){c('MessengerDispatcher').dispatch({type:c('MNCommerceActionTypes').DIALOG.HIDE})}};f.exports=h}),null);
__d('MNCommercePromotionStateActions',['MessengerDispatcher','MNCommerceActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={stateLoaded:function i(j){c('MessengerDispatcher').dispatch({type:c('MNCommerceActionTypes').PROMOTION_STATE.LOADED,state:j})},stateLoadError:function i(j){c('MessengerDispatcher').dispatch({type:c('MNCommerceActionTypes').PROMOTION_STATE.LOAD_ERROR,pageID:j})},stateReload:function i(j){c('MessengerDispatcher').dispatch({type:c('MNCommerceActionTypes').PROMOTION_STATE.RELOAD,pageID:j})}};f.exports=h}),null);
__d('MercuryAttachmentAttribution.react',['cx','fbt','Image.react','ImmutableObject','Link.react','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=this.$MercuryAttachmentAttribution1();if(!n)return null;return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_29ew")},c('React').createElement(c('Image.react'),{src:n.icon_url,className:"_29ex"}),c('React').createElement('span',{className:"_29ey"},n.name),this.$MercuryAttachmentAttribution2())};m.prototype.$MercuryAttachmentAttribution1=function(){return this.props.attachment&&this.props.attachment.app_attribution};m.prototype.$MercuryAttachmentAttribution2=function(){var n=this.$MercuryAttachmentAttribution1();if(!n||!n.metadata)return null;var o="_439n",p=void 0;try{p=JSON.parse(n.metadata)}catch(q){return null}if(p.spotify_link)return c('React').createElement(c('Link.react'),{className:o,href:p.spotify_link,target:'_blank'},i._("Open"));return null};function m(){j.apply(this,arguments)}m.propTypes={attachment:l.instanceOf(c('ImmutableObject'))};f.exports=m}),null);
__d('MessengerAttachmentAttribution.react',['cx','ImmutableObject','MercuryAttachmentAttribution.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){return c('React').createElement(c('MercuryAttachmentAttribution.react'),{attachment:this.props.attachment,className:"_2f5n _4br2"})};function l(){i.apply(this,arguments)}l.propTypes={attachment:k.instanceOf(c('ImmutableObject'))};f.exports=l}),null);
__d('MessengerBubbleBlock.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement('div',{className:"_52mr _4h13 _3058"},this.props.children)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d('MessengerMenu.react',['cx','Keys','MenuSeparator.react','ReactXUIMenu','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;function k(m){m.isReactLegacyFactory={};m.type=m}i=babelHelpers.inherits(l,c('ReactXUIMenu'));j=i&&i.prototype;function l(m){var n=m.className,o=babelHelpers.objectWithoutProperties(m,['className']);j.constructor.call(this,babelHelpers['extends']({className:c('joinClasses')(n,"_2i-c _150g")},o))}l.prototype.handleKeydown=function(m,n){if(m===c('Keys').DOWN||m===c('Keys').UP||m===c('Keys').SPACE)return j.handleKeydown.call(this,m,n);return true};k(l);l.Item=c('ReactXUIMenu').Item;l.Separator=c('MenuSeparator.react');f.exports=l}),null);
__d('MessengerPopoverMenu.react',['cx','ContextualDialogArrow','ContextualLayerAutoFlip','ContextualLayerUpdateOnScroll','PopoverMenu.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.showPopover=function(){this.refs.menu&&this.refs.menu.showPopover()};k.prototype.render=function(){var l=this.props,m=l.children,n=l.className,o=l.isOpen,p=babelHelpers.objectWithoutProperties(l,['children','className','isOpen']),q=c('React').Children.only(m);return c('React').createElement(c('PopoverMenu.react'),babelHelpers['extends']({className:c('joinClasses')(n,!p.disableArrowKeyActivation||o?"_150g":''),enableActivationOnEnter:true,layerBehaviors:[c('ContextualLayerAutoFlip'),c('ContextualLayerUpdateOnScroll'),c('ContextualDialogArrow')]},p,{ref:'menu'}),q)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("XSettingsEmployeeBetaController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/settings\/employee\/beta_mode\/",{enabled:{type:"Bool",defaultValue:false}})}),null);
__d('MessengerBugNub.react',['cx','fbt','ix','AsyncRequest','Image.react','Link.react','MessengerEnvironment','MessengerMenu.react','MessengerPopoverMenu.react','React','Tooltip','URI','XSettingsEmployeeBetaController','goURI'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=j("86836"),n=j("86835"),o=j("86837"),p=c('React').PropTypes,q=c('MessengerMenu.react').Item,r=c('MessengerMenu.react').Separator;k=babelHelpers.inherits(s,c('React').PureComponent);l=k&&k.prototype;s.prototype.render=function(){return c('React').createElement('div',{className:"_4_xe"},this.$MessengerBugNub1(),c('React').createElement(c('Link.react'),babelHelpers['extends']({href:'#',ajaxify:'/ajax/bugs/employee_report',className:"_1fr8",rel:'dialog'},c('Tooltip').propsFor(i._("Report a bug"))),c('React').createElement('div',{className:"_1gng"},c('React').createElement(c('Image.react'),{src:m}))))};s.prototype.$MessengerBugNub1=function(){var t=this.props.isBetaEnabled?n:o,u=i._("Internal preferences");return c('React').createElement(c('MessengerPopoverMenu.react'),babelHelpers['extends']({className:"_1fr8",menu:this.$MessengerBugNub2()},c('Tooltip').propsFor(u)),c('React').createElement(c('Link.react'),{'aria-haspopup':'true','aria-label':u,className:"_1gng",href:'#',role:'button'},c('React').createElement(c('Image.react'),{src:t})))};s.prototype.$MessengerBugNub2=function(){var t,u=this,v=null;if(this.props.unixName)(function(){var w=u.props.unixName+'.sb';v=c('React').createElement(q,{label:'Sandbox',onclick:function(){return this.$MessengerBugNub3(w)}.bind(u)})})();return c('React').createElement(c('MessengerMenu.react'),null,c('React').createElement(q,{label:'Public',onclick:function(){return this.$MessengerBugNub4(false)}.bind(this)}),c('React').createElement(q,{label:'Beta',onclick:function(){return this.$MessengerBugNub4(true)}.bind(this)}),c('React').createElement(r,null),c('React').createElement(q,{label:'C1 (trunkstable)',onclick:function(){return this.$MessengerBugNub3('trunkstable')}.bind(this)}),c('React').createElement(q,{label:'Latest',onclick:function(){return this.$MessengerBugNub3('latest')}.bind(this)}),c('React').createElement(q,{label:'Intern',onclick:function(){return this.$MessengerBugNub3('intern')}.bind(this)}),c('React').createElement(q,{label:'Production',onclick:function(){return this.$MessengerBugNub3('prod')}.bind(this)}),v)};s.prototype.$MessengerBugNub4=function(t){var u=c('XSettingsEmployeeBetaController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(u).setData({enabled:t}).setMethod('POST').setAllowCrossPageTransition(true).send()};s.prototype.$MessengerBugNub3=function(t){var u=c('URI').getRequestURI(),v=c('MessengerEnvironment').facebookdotcom?'.facebook.com':'.messenger.com',w='www'+(t?'.'+t:'')+v;c('goURI')(new (c('URI'))(window.location.href).setProtocol(u.getProtocol()).setDomain(w).setSubdomain(u.getSubdomain()).setPath(u.getPath()).setQueryData(u.getQueryData()).setFragment(u.getFragment()))};function s(){k.apply(this,arguments)}s.propTypes={isBetaEnabled:p.bool,unixName:p.string};f.exports=s}),null);
__d('MessengerCodeBubble.react',['Bootloader','immutable','MessengerCodePasteUtils','React','ReactDOM'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;k.prototype.componentDidMount=function(){c('Bootloader').loadModules(["Prism.Complete"],function(l){for(var m in this.refs){var n=c('ReactDOM').findDOMNode(this.refs[m]);l.highlightElement(n)}}.bind(this),'MessengerCodeBubble.react')};k.prototype.render=function(){var l=c('MessengerCodePasteUtils').getCodeAndMessageBubbles(this.props.body,this.props.ranges,this.props.threadID,this.props.customColor,this.props.isFromViewer);return c('React').createElement('div',{className:this.props.className},l)};function k(){h.apply(this,arguments)}k.propTypes={attachments:j.instanceOf(c('immutable').List),body:j.string.isRequired,customColor:j.string,isFromViewer:j.bool.isRequired,ranges:j.array.isRequired,threadID:j.string.isRequired};f.exports=k}),null);
__d('MessengerCollapsedLogMessageGroup.react',['cx','fbt','Link.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={collapsed:true},n}l.prototype.render=function(){var m=i._("See latest activity"),n=i._("See less activity");return c('React').createElement('div',{className:"_497p"},c('React').createElement(c('Link.react'),{className:"_4ea1",onClick:function(){return this.setState({collapsed:!this.state.collapsed})}.bind(this)},this.state.collapsed?m:n),!this.state.collapsed?c('React').createElement('div',null,c('React').createElement('div',{className:"_4ea2"}),this.props.children,c('React').createElement('div',{className:"_4ea2"})):null)};f.exports=l}),null);
__d('MessengerDateBreak.react',['cx','React','formatDate','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.shouldComponentUpdate=function(m){'use strict';return this.props.date.getTime()!==m.date.getTime()};l.prototype.render=function(){'use strict';var m=c('formatDate')(this.props.date,{today:'g:ia',withinWeek:'D g:ia',thisYear:'M jS, g:ia',older:'m/d/Y g:ia'});return c('React').createElement('h4',{className:c('joinClasses')(this.props.className,"_497p _2lpt")},c('React').createElement('time',{className:"_3oh-"},m))};function l(){'use strict';i.apply(this,arguments)}l.propTypes={date:k.instanceOf(Date).isRequired};f.exports=l}),null);
__d('MessengerMessageActionsWrapper.react',['ImmutableObject','React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'MessengerMessageActionsWrapper',propTypes:{message:h.instanceOf(c('ImmutableObject')).isRequired,onShowMenu:h.func.isRequired},render:function j(){return c('React').createElement('div',babelHelpers['extends']({onMouseEnter:this._handleShowMenu,onMouseLeave:this._handleHideMenu},this.props),this.props.children)},_handleShowMenu:function j(){this.props.onShowMenu(this.props.message.message_id,true)},_handleHideMenu:function j(){this.props.onShowMenu(this.props.message.message_id,false)}});f.exports=i}),null);
__d("messengerMessageSeenHeadsReact",["cx","fbt","cssVar","React","immutable","imageReact","bs_pervasives","reasonReact","joinClasses","MessengerConfig","MercuryTimestamp","MercuryAttachment","MercuryMessageInfo","getViewportDimensions"],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c("MessengerConfig").MaxSeenHeadCount;function l(){var p=c("getViewportDimensions")().width;if(p<parseInt("920px".replace("px",""),10)){return c("bs_pervasives").min(k,8)}else if(p<parseInt("1211px".replace("px",""),10)){return c("bs_pervasives").min(k,3)}else return k;}var m=c("reasonReact").statelessComponent("MessengerMessageSeenHeadsReact");function n(p,q,r,s,t,u,v){var w=m.slice();w[9]=function(){if(c("MercuryMessageInfo").isSending(r)||u.isEmpty()||c("MercuryMessageInfo").hasError(r)){return null}else{var x=c("immutable").Seq(u).filter(function(fa){var ga=+(fa.watermark>=r.timestamp&&fa.watermark<s);if(ga!==0){return true}else return false;}).sort(function(fa,ga){return fa.action-ga.action|0});if(x.isEmpty()){return null}else{var y=q!==0?k:l(0),z=+(x.count()>(y+1|0)),aa=z!==0?x.slice(0,y):x,ba=aa.map(function(fa,ga,ha){var ia=t.get(ga);if(ia==null){return null}else{var ja=i._("Seen by {full name} at {seen time}",[i.param("full name",ia.name),i.param("seen time",c("MercuryTimestamp").getPreciseTimestamp(fa.action))]);return c("reasonReact").element([c("bs_pervasives").string_of_int(ga)],0,c("imageReact").make(["_jf2"],[ja],[ia.image_src],0,[ja],0,0,[]))}}).toArray(),ca=ba.length;if(ca){var da=z!==0?x.slice(y,undefined).count():0;if(da>0){var ea=x.slice(y,undefined).map(function(fa,ga,ha){var ia=t.get(ga);if(ia==null){return ""}else return ia.name;}).filter(function(fa){var ga=+(fa==="");if(ga!==0){return false}else return true;}).join("\n")+" ";ba.unshift(c("React").createElement("span",{key:"overflow",className:"_jf3",title:ea},"+"+c("bs_pervasives").string_of_int(da)))}return c("React").createElement("span",{className:c("joinClasses")(p,"_jf4"+(+((ca+da|0)===1)?" "+"_jf5":"")+(+c("MercuryAttachment").isSinglePhotoGroupAttachment(r)?" "+"_ba3":""))},ba)}else return null;}}};return w}var o=c("reasonReact").wrapReasonForJs(m,function(p){return n(p.className,+p.isFromViewer,p.message,p.nextTimestamp,p.participants,p.readReceipts,[])});g.maxSeenHeads=k;g.calculateSliceNumber=l;g.component=m;g.make=n;g.jsComponent=o}),null);
__d('messengerRTLClasses',['cx','isRTL'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k){var l=c('isRTL')(j||'');return k?l?"_4pv0":'':(!l?"direction_ltr":'')+(l?' '+"direction_rtl":'')+(!l?' '+"text_align_ltr":'')+(l?' '+"text_align_rtl":'')+(l?' '+"_4pv0":'')}f.exports=i}),null);
__d("messengerURIUtilsRe",["URI","MercuryIDs","MessengerView","MessengerURISerializer"],(function a(b,c,d,e,f,g){'use strict';function h(k){var l=c("MessengerURISerializer").deserialize(new (c("URI"))(window.location.href)),m=c("MessengerView").DETAIL.THREAD,n=+l.queryAll;return c("MessengerURISerializer").serialize(Object.assign(Object.assign({},l),{activeThreadID:k,detailView:m,query:n!==0?l.query:undefined}))}function i(k){return h(c("MercuryIDs").getThreadIDFromUserID(k))}function j(k){return new (c("URI"))("/m/"+k)}g.getURIForThreadID=h;g.getURIForUserID=i;g.getURIForMessageID=j}),null);
__d('MessengerMessage.react',['cssVar','cx','fbt','EmojiLikeUtils','MercuryDisplayTimeFilterMessageRenderer','FluxContainer','immutable','ImmutableObject','MercuryAttachment','MercuryConfig','MercuryMessageDeliveryState','MercuryMessageError.react','MercuryMessageInfo','MercuryTimestamp','MessengerAttachmentAttribution.react','MessengerAttachmentRenderer','MessengerBubble.react','MessengerBubbleBlock.react','MessengerCodeBubble.react','MessengerCodePasteUtils','MessengerConfig','MessengerDecorator','MessengerInnerDecorators.react','MessengerMessageActionsWrapper.react','messengerMessageSeenHeadsReact','messengerURIUtilsRe','MessengerVideoAutoplayStore','MNCommerceMessageType','React','TooltipData','emptyFunction','getViewportDimensions','joinClasses','messengerRTLClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('messengerMessageSeenHeadsReact').jsComponent,n=c('React').PropTypes;function o(r){switch(r){case c('MercuryMessageDeliveryState').SENDING:return j._("Sending");case c('MercuryMessageDeliveryState').SENT:return j._("Sent");case c('MercuryMessageDeliveryState').DELIVERED:return j._("Delivered");case c('MercuryMessageDeliveryState').ERROR:return j._("Error");}return null}k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.state={isVisible:false,plainText:false,shown:{}},this.$MessengerMessage14=function(w){w.stopPropagation();this.props.onSelect(this.props.message.message_id)}.bind(this),this.$MessengerMessage4=function(w,x){var y;this.setState({shown:babelHelpers['extends']({},this.state.shown,(y={},y[w]=x,y))})}.bind(this),this.$MessengerMessage5=function(){this.setState({plainText:!this.state.plainText})}.bind(this),this.$MessengerMessage12=function(){this.props.onSelect(this.props.message.message_id)}.bind(this),this.$MessengerMessage6=function(){return c('MessengerCodePasteUtils').containsCodeBlock(this.props.message.body)||!!this.messageBody&&this.messageBody.hasFormatting()}.bind(this),s}p.getStores=function(){return [c('MessengerVideoAutoplayStore')]};p.calculateState=function(r,s){return {isVisible:c('MessengerVideoAutoplayStore').isVisible(s.message.thread_id,s.message.message_id)}};p.prototype.shouldComponentUpdate=function(r,s){return r.isActive!==this.props.isActive||r.isFromViewer!==this.props.isFromViewer||r.message!==this.props.message||r.nextTimestamp!==this.props.nextTimestamp||r.showDeliveryState!==this.props.showDeliveryState||r.deliveryTimestamp!==this.props.deliveryTimestamp||!c('immutable').is(r.readReceipts,this.props.readReceipts)||!c('immutable').is(r.participants,this.props.participants)||r.customColor!==this.props.customColor||s.isVisible!==this.state.isVisible};p.prototype.render=function(){var r=this.props,s=r.isActive,t=r.isFromViewer,u=r.isPageMessage,v=r.message,w=j._("{time}",[j.param('time',c('MercuryTimestamp').getPreciseTimestamp(v.timestamp))]),x=c('TooltipData').propsFor(w,q(t)),y=[],z=[],aa=this.props.message,ba=t||false;if(aa&&!this.props.hideBeforeDecorator){c('MessengerDecorator').getBeforeDecorators().forEach(function(fa){if(fa.check(aa))y.push(fa.render(aa,ba));});c('MessengerDecorator').getInnerDecorators().forEach(function(fa){if(fa.check(aa))z.push(fa.getAdditionalClassNames());})}var ca=this.$MessengerMessage1(x,false),da=this.$MessengerMessage2(x,null);if(da)ca=this.$MessengerMessage1(x,true);var ea=!!da&&this.$MessengerMessage3();return c('React').createElement(c('MessengerMessageActionsWrapper.react'),{className:c('joinClasses').apply(undefined,["clearfix"+(' '+"_o46")+(' '+"_3erg")+(s?' '+"_-5k":'')+(t?' '+"_3i_m":'')+(t?' '+"_nd_":'')+(!t?' '+"_29_7":'')+(v.isSelected?' '+"_3xsz":'')+(ea?' '+"_q4a":''),c('messengerRTLClasses')(v.body)].concat(z)),message:v,onShowMenu:this.$MessengerMessage4},y,ca,da||u?null:c('React').createElement(c('MessengerInnerDecorators.react'),{message:aa,isFromViewer:t,hovered:this.state.shown[aa.message_id],messageProps:babelHelpers['extends']({},this.props,{handleToggleOriginal:this.$MessengerMessage5,hasFormatting:this.$MessengerMessage6,isShowingOriginal:this.state.plainText})}),da,this.$MessengerMessage7(aa,ba),this.$MessengerMessage8(),this.$MessengerMessage9(),c('React').createElement(m,{className:"_4jzq",isFromViewer:t,message:v,nextTimestamp:this.props.nextTimestamp,participants:this.props.participants,readReceipts:this.props.readReceipts}))};p.prototype.$MessengerMessage7=function(r,s){var t,u=this;if(r&&!this.props.hideAfterExternalDecorator){var t=function(){var v=[],w=[];c('MessengerDecorator').getAfterExternalDecorators().forEach(function(y){if(r&&y.check(r)){v.push(y.render(r,s,this.props));w.push(y.getAdditionalClassNames())}},u);var x=w.join(' ');if(v.length===0)return {v:null};return {v:c('React').createElement('span',{className:c('joinClasses')(x,"_31gm"+(!s?' '+"isFromOther":''))},v)}}();if(typeof t==="object")return t.v;}return null};p.prototype.$MessengerMessage10=function(r){return r.every(function(s){return !s||!c('MessengerAttachmentRenderer').isRenderedShareAttachment(s)})};p.prototype.$MessengerMessage11=function(){return this.props.message.attachments.length===1&&c('MercuryAttachment').hasAttribution(this.props.message.attachments[0])};p.prototype.$MessengerMessage2=function(r,s){if(this.props.message.is_filtered_content)return null;if(this.props.message.commerce_message_type===c('MNCommerceMessageType').RIDE_INTENT)return null;var t=[],u=[],v=this.props.message,w=this.props.isFromViewer||false;if(v)c('MessengerDecorator').getAfterDecorators().forEach(function(ba){if(ba.check(v,w)){t.push(ba.render(v,w,this.props));u.push(ba.getAdditionalClassNames())}}.bind(this));var x=c('MessengerAttachmentRenderer').getAttachmentsOutsideBubble(this.props.message,this.props.onAttachmentLoad,{customColor:this.props.customColor,isPageMessage:this.props.isPageMessage,isVisible:this.state.isVisible,messageBubble:s,onSelect:this.$MessengerMessage12,onUnwrap:null,pageID:this.props.pageID},t);if(!x||!x.length)return null;if(r){var y=x.some(function(ba){return !!ba&&c('MessengerAttachmentRenderer').isPhotosGroupAttachment(ba)});if(this.$MessengerMessage11())x=[c('React').createElement('span',{key:'AttachmentWithAttribution'},x[0],c('React').createElement(c('MessengerAttachmentAttribution.react'),{attachment:new (c('ImmutableObject'))(this.props.message.attachments[0])}))];x=this.$MessengerMessage10(x)?c('React').createElement('div',babelHelpers['extends']({},r,{className:c('joinClasses').apply(undefined,["_3zvs"+(y?' '+"_2-x3":'')].concat(u))}),x,t):x.map(function(ba){return ba&&c('React').cloneElement(ba,r)})}var z=c('MessengerAttachmentRenderer').isSharedVideoAttachmentMessage(this.props.message),aa=c('React').createElement('div',{key:'renderedAttachments',className:"_3058"+(' '+"_15gf")+(z?' '+"_3duc":'')},x,this.props.isPageMessage?null:c('React').createElement(c('MessengerInnerDecorators.react'),{message:this.props.message,isFromViewer:this.props.isFromViewer||false,hovered:this.state.shown[this.props.message.message_id],messageProps:this.props}));if(this.$MessengerMessage11())return c('React').createElement(c('MessengerBubbleBlock.react'),null,aa);return aa};p.prototype.$MessengerMessage13=function(){return c('MessengerAttachmentRenderer').isP2PAttachment(this.props.message)};p.prototype.$MessengerMessage1=function(r,s){var t=this.props.message,u=c('immutable').List(c('MessengerAttachmentRenderer').getAttachmentsInsideBubble(t,this.props.onAttachmentLoad)),v=t.ranges;if(t.profile_ranges&&t.profile_ranges.length)v=(v||[]).concat(t.profile_ranges.map(function(x){return babelHelpers['extends']({},x,{url:c('messengerURIUtilsRe').getURIForUserID(x.id)})}));if(c('MessengerCodePasteUtils').containsCodeBlock(t.body)&&!this.state.plainText)return c('React').createElement(c('MessengerCodeBubble.react'),{attachments:u,body:t.body,customColor:this.props.isFromViewer?this.props.customColor:'',className:(this.props.isFromViewer?"_3uhm":'')+(!this.props.isFromViewer?' '+"_3uhn":''),isFromViewer:this.props.isFromViewer,ranges:v||[],threadID:t.thread_id||''});if(t.is_filtered_content)return c('React').createElement('div',{className:"_3058 _wiu _52mr uiBoxYellow clearfix"},c('MercuryDisplayTimeFilterMessageRenderer').renderFilteredContent(t));var w=t.body&&!c('EmojiLikeUtils').isEmojiLike(t);if(w||!u.isEmpty())return c('React').createElement(c('MessengerBubble.react'),babelHelpers['extends']({attachments:u,body:t.body,bodyRef:function(x){this.messageBody=x}.bind(this),className:"_3058"+(' '+"_ui9"),customColor:this.props.isFromViewer?this.props.customColor:'',customLike:t.customLike,excludeAfterDecorators:s,isFromViewer:this.props.isFromViewer,isP2PAttachment:this.$MessengerMessage13(),ranges:v,message:t,metaRanges:t.meta_ranges,plainText:this.state.plainText,threadCustomColor:this.props.threadCustomColor||"#0084ff",threadID:t.thread_id,participants:this.props.participants},r||{}));return null};p.prototype.$MessengerMessage9=function(){if(!this.props.isFromViewer||!this.props.showDeliveryState||this.props.message.is_like_preview)return null;var r=c('MercuryMessageInfo').getDeliveryState(this.props.message,this.props.deliveryTimestamp);if(r===c('MercuryMessageDeliveryState').UNKNOWN)return null;var s={};if(this.props.customColor&&(r===c('MercuryMessageDeliveryState').SENT||r===c('MercuryMessageDeliveryState').SENDING||r===c('MercuryMessageDeliveryState').DELIVERED))s.color=this.props.customColor;return c('React').createElement('span',{className:"_2her"+(r===c('MercuryMessageDeliveryState').SENDING?' '+"_4jzp":'')+(r===c('MercuryMessageDeliveryState').SENT?' '+"_3zzf":'')+(r===c('MercuryMessageDeliveryState').DELIVERED?' '+"_9ah":'')+(r===c('MercuryMessageDeliveryState').ERROR?' '+"_5ei9":''),onClick:this.$MessengerMessage14,role:'checkbox',style:s,tabIndex:'0',title:o(r)},c('React').createElement('i',{className:"_57e_"}))};p.prototype.$MessengerMessage8=function(){var r=this.props.message;if(!c('MercuryMessageInfo').hasError(r))return null;return c('React').createElement(c('MercuryMessageError.react'),{className:"_3058 _2ygi",message:r,authorFBID:this.props.authorFBID})};p.prototype.$MessengerMessage3=function(){var r=this.props.message,s=false;if(r)s=!!(r.reactions&&Object.keys(r.reactions).length>0);return s};p.propTypes={customColor:n.string,deliveryTimestamp:n.number.isRequired,hideAfterExternalDecorator:n.bool,hideBeforeDecorator:n.bool,isActive:n.bool,isFromViewer:n.bool,isPageMessage:n.bool,message:n.instanceOf(c('ImmutableObject')).isRequired,nextTimestamp:n.number.isRequired,onAttachmentLoad:n.func.isRequired,onDeselect:n.func.isRequired,onSelect:n.func.isRequired,participants:n.instanceOf(c('immutable').Map).isRequired,readReceipts:n.instanceOf(c('immutable').OrderedMap).isRequired,showDeliveryState:n.bool,authorFBID:n.string,threadCustomColor:n.string,pageID:n.string};p.defaultProps={onAttachmentLoad:c('emptyFunction'),threadCustomColor:"#0084ff"};function q(r){if(c('getViewportDimensions')().width<=parseInt("700px".replace('px',''),10))return 'above';return r?'right':'left'}f.exports=c('FluxContainer').create(p,{withProps:true})}),null);
__d('MessengerPageAdminNoteList.react',['cx','fbt','LeftRight.react','MessengerBubble.react','PagesMessengerCreatorInfo.react','ReactComponentWithPureRenderMixin','React','enumerate','classWithMixins','immutable','mixin'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('classWithMixins')(c('React').Component,c('mixin')(c('ReactComponentWithPureRenderMixin'))));k=j&&j.prototype;m.prototype.render=function(){var n=[],o=this.calculateGroups(this.props.notes);o.forEach(function(p,q){n.push(c('React').createElement('li',{className:"_4kd2",key:'group:'+q},this.$MessengerPageAdminNoteList1(p)))}.bind(this));return c('React').createElement('ul',{className:"_4kd3"},n)};m.prototype.$MessengerPageAdminNoteList1=function(n){var o=[];n.forEach(function(p,q){o.push(c('React').createElement('div',{className:"_4kd4",key:'note:'+q},this.$MessengerPageAdminNoteList2(p,n)))}.bind(this));return o};m.prototype.$MessengerPageAdminNoteList2=function(n,o){var p=c('immutable').List([c('React').createElement(c('LeftRight.react'),{className:"_561k"},c('React').createElement('div',{className:"_561l"},i._("Private note")),c('React').createElement(c('PagesMessengerCreatorInfo.react'),{key:'creator_info',creator_info:o[0].creator_info,isNote:true}))]);return c('React').createElement('div',{className:"_o46 _3i_m _nd_"},c('React').createElement('div',{className:'clearfix'},c('React').createElement(c('MessengerBubble.react'),{body:n.body.text,attachments:p,className:"_3058 _4kd5"})))};m.prototype.calculateGroups=function(n){var o=[],p=null,q=null,r=c('enumerate')(n),s=void 0;while(!(s=r.next()).done){var t=q&&q.value.creator_info.creatorID===s.value.creator_info.creatorID;if(!t){p=[];o.push(p)}if(p)p.push(s.value);q=s}return o};function m(){j.apply(this,arguments)}m.propTypes={notes:l.arrayOf(l.shape({id:l.string,body:l.object.isRequired,creator_info:l.shape({creatorID:l.string.isRequired,creatorName:l.string.isRequired,creatorType:l.string.isRequired,labelType:l.string.isRequired,pageID:l.string.isRequired,profileURI:l.string}),timestamp:l.number.isRequired})).isRequired};f.exports=m}),null);
__d('MessengerMessageGroup.react',['cx','fbt','invariant','BootloadOnRender.react','immutable','ImmutableObject','Image.react','JSResource','LazyComponent.react','Link.react','MercuryConfig','MercuryIDs','MercuryParticipants','MercuryParticipantSilhouettes','MessengerActions','messengerContactActionsRe','MessengerMessage.react','MessengerPageAdminNoteList.react','messengerProfileImageWrapperReact','MessengerStickerUtils','MessengerTextWithEmoticons.react','messengerURIUtilsRe','PagesMessengerCreatorInfo.react','React','ReactDOM','SimpleXUIDialog','StoreAndPropBasedStateMixin'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('messengerContactActionsRe').actions,l=c('messengerProfileImageWrapperReact').jsComponent,m=c('immutable').List,n=c('immutable').OrderedMap,o=c('React').PropTypes,p=32,q=new (c('ImmutableObject'))({image_src:c('MercuryParticipantSilhouettes').neutralSilhouette,is_messenger_user:true,name:''}),r=c('React').createClass({displayName:'MessengerMessageGroup',mixins:[c('StoreAndPropBasedStateMixin')(c('MercuryParticipants'))],propTypes:{activeMessageID:o.string,deliveryTimestamp:o.number.isRequired,hasDateBreak:o.bool,isCanonical:o.bool,isFromViewer:o.bool,isPageMessage:o.bool,lastReadTimestamp:o.number.isRequired,messages:o.instanceOf(m).isRequired,nextTimestamp:o.number.isRequired,onAttachmentLoad:o.func,onMessageDeselect:o.func.isRequired,onMessageSelect:o.func.isRequired,readReceipts:o.instanceOf(n).isRequired,thread:o.object,pageID:o.string},statics:{calculateState:function u(v){return {participants:s(v)}}},shouldComponentUpdate:function u(v,w){return this.props.activeMessageID!==v.activeMessageID||this.props.isFromViewer!==v.isFromViewer||this.props.deliveryTimestamp!==v.deliveryTimestamp||this.props.lastReadTimestamp!==v.lastReadTimestamp||!c('immutable').is(this.props.messages,v.messages)||!c('immutable').is(this.props.readReceipts,v.readReceipts)||!c('immutable').is(this.state.participants,w.participants)||!!(v.thread&&this.props.thread&&this.props.thread!==v.thread)},render:function u(){return c('React').createElement('div',null,c('React').createElement('div',{className:"_1t_p"+(' '+"clearfix")+(c('MessengerStickerUtils').isStickerMessageGroup(this.props.messages)?' '+"_5tx1":'')+(this._hasSeenHeadsAtBottom()?' '+"_35fy":'')},this._renderProfileColumn(),c('React').createElement('div',{className:"_41ud"},this._renderName(),this._renderMessages())),this.props.isPageMessage?this._renderNotes():null)},_renderProfileColumn:function u(){if(this.props.isFromViewer)return null;var v=this.props.messages.last(),w=this.state.participants.get(v.author)||q,x=i._("{name}",[i.param('name',w.name)]),y=c('React').createElement(l,{className:"_1t_r",isMessengerUser:w.is_messenger_user,size:p,showBadge:false,tooltipContent:x},c('React').createElement(c('Image.react'),{alt:w.name,src:w.image_src,height:p,width:p}));if(w.fbid){var z=c('messengerURIUtilsRe').getURIForUserID(w.fbid);if(c('MercuryConfig').WWWMessengerAvatarActions){y=c('React').createElement(c('BootloadOnRender.react'),{loader:c('JSResource')('MessengerAvatarActions.react').__setRef('MessengerMessageGroup.react'),placeholder:!this.props.isCanonical?c('React').createElement(c('Link.react'),{className:"_5f0v",href:z.toString(),onClick:this._handleContactSelect.bind(this,w),tabIndex:-1},y):y,component:c('React').createElement(c('LazyComponent.react'),{avatar:y,contact:w,showSendMessageItem:!this.props.isCanonical,onAction:this._handleContactAction})})}else if(!this.props.isCanonical)y=c('React').createElement(c('Link.react'),{className:"_5f0v",href:z.toString(),onClick:this._handleContactSelect.bind(this,w),tabIndex:-1},y);}return c('React').createElement('div',{className:"_1t_q"},y)},_handleContactAction:function u(v,w,x){switch(v){case k.MESSAGE:this._handleContactSelect(w,x);break;case k.PROFILE:var y=this.state.participants.get(w.id);if(y&&y.href){window.open(y.href)}else this._handleContactSelect(w,x);break;case k.FREE_CALL:e(['FBRTCCore','MNRTCCallabilityStore'],function(z,aa){var ba=w.fbid;ba||j(0);if(z.isAvailableForWebrtcCalling(ba)||aa.isCallable(ba)){z.startOutgoingCall(ba,'messenger_dot_com',false)}else c('SimpleXUIDialog').show(i._("{firstname} can't be reached at the moment.",[i.param('firstname',w.short_name)]),i._("Can't Connect Call"));});break;}},_renderMessages:function u(){var v=this.props.messages.size,w=[];this.props.messages.forEach(function(x,y,z){var aa=x.message_id===this.props.activeMessageID,ba=c('MercuryIDs').getUserIDFromParticipantID(this.props.author),ca=this.props.thread?this.props.thread.custom_color:'';w.push(c('React').createElement(c('MessengerMessage.react'),{customColor:ca,deliveryTimestamp:this.props.deliveryTimestamp,isActive:aa,isFromViewer:this.props.isFromViewer,isPageMessage:this.props.isPageMessage,key:x.message_id,message:x,messageActionsWrapper:this.props.messageActionWrapper,onAttachmentLoad:this.props.onAttachmentLoad,participants:this.state.participants,nextTimestamp:this._getNextTimestamp(z,v,y),onDeselect:this.props.onMessageDeselect,onSelect:this.props.onMessageSelect,readReceipts:this.props.readReceipts,showDeliveryState:x.timestamp>this.props.lastReadTimestamp,ref:x.message_id,authorFBID:ba==null?undefined:ba,threadCustomColor:ca,pageID:this.props.pageID}));if(t(this.props.isPageMessage,z,y,x))w.push(c('React').createElement(c('PagesMessengerCreatorInfo.react'),{key:'creator_info:'+y,creator_info:x.creator_info}));}.bind(this));return w},_renderNotes:function u(){var v=[];this.props.messages.forEach(function(w,x,y){if(this.props.isPageMessage&&w.page_admin_notes)v.push(c('React').createElement(c('MessengerPageAdminNoteList.react'),{key:'notes:'+w.message_id,notes:w.page_admin_notes}));}.bind(this));return v},_renderName:function u(){var v=this.state.participants.get(this.props.messages.first().author);if(!v)return null;var w=v.short_name;if(this.props.thread){var x=this.props.thread.custom_nickname?this.props.thread.custom_nickname:null,y=c('MercuryIDs').getUserIDFromParticipantID(v.id);if(x&&y&&x[y])w=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:x[y]});}return c('React').createElement('h5',{className:"_ih3"+(this.props.isFromViewer?' '+"accessible_elem":'')+(this.props.isCanonical?' '+"_-ne":'')},w)},getMessageElement:function u(v){return c('ReactDOM').findDOMNode(this.refs[v])},_hasSeenHeadsAtBottom:function u(){var v=this.props,w=v.messages,x=v.nextTimestamp,y=v.readReceipts,z=w.last().timestamp,aa=0;y.forEach(function(ba){if(ba>=z&&ba<x)if(++aa===2)return false;});return aa===2},_getNextTimestamp:function u(v,w,x){return x<w-1?v.get(x+1).timestamp:this.props.nextTimestamp},_handleContactSelect:function u(v,w){w&&w.preventDefault();var x=c('MercuryIDs').getThreadIDFromParticipantID(v.id);x&&c('MessengerActions').selectThread(x)}});function s(u){var v=u.messages.first().author;return c('immutable').Map().withMutations(function(w){u.readReceipts.forEach(function(x,y){w.set(y,c('MercuryParticipants').getOrFetch(y))});w.set(v,c('MercuryParticipants').getOrFetch(v))})}function t(u,v,w,x){if(!u||!x.creator_info)return false;if(w===v.size-1)return true;var y=v.get(w+1).creator_info;if(!y)return true;return x.creator_info.creatorID!==y.creatorID}f.exports=r}),null);
__d('MessengerResponsiveBlock.react',['React','createCancelableFunction','requestAnimationFrame','shallowEqual','throttle'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes,k={bottom:0,left:0,overflow:'hidden',position:'absolute',right:0,top:0,visibility:'hidden',zIndex:-1},l={left:0,position:'absolute',top:0,transition:'0s'},m={height:'200%',left:0,position:'absolute',top:0,transition:'0s',width:'200%'};h=babelHelpers.inherits(n,c('React').Component);i=h&&h.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=i.constructor).call.apply(o,[this].concat(r)),this.dirty=false,this.lastWidth=null,this.lastHeight=null,this.lastBreakpointsToggles=null,this.setupWeirdScrollTracking=function(){this.refs.expandChild.style.width='10000px';this.refs.expandChild.style.height='10000px';this.refs.expand.scrollLeft=100000;this.refs.expand.scrollTop=100000;this.refs.shrink.scrollLeft=100000;this.refs.shrink.scrollTop=100000}.bind(this),this.$MessengerResponsiveBlock2=function(){var t=this.refs.outer.offsetWidth,u=this.refs.outer.offsetHeight;if(t!=this.lastWidth||u!=this.lastHeight)if(!this.dirty){if(Math.abs(t-(this.lastWidth||0))<10&&Math.abs(u-(this.lastHeight||0))<16)return;this.dirty=true;this.lastWidth=t;this.lastHeight=u;var v=this.props.breakpointsToggles(t,u);if(c('shallowEqual')(this.lastBreakpointsToggles,v)){this.dirty=false}else this.forceUpdate(function(){c('requestAnimationFrame')(function(){this.dirty=false}.bind(this))}.bind(this));this.lastBreakpointsToggles=v}this.setupWeirdScrollTracking()}.bind(this),p}n.prototype.componentDidMount=function(){this.$MessengerResponsiveBlock1=c('createCancelableFunction')(this.$MessengerResponsiveBlock2);this.onScroll=c('throttle')(this.$MessengerResponsiveBlock1,50);this.setupWeirdScrollTracking();this.onScroll()};n.prototype.componentWillUnmount=function(){this.$MessengerResponsiveBlock1.cancel()};n.prototype.render=function(){return c('React').createElement('div',{ref:'outer'},this.props.children(this.props.breakpointsToggles(this.lastWidth,this.lastHeight)),c('React').createElement('div',{style:k,onScroll:this.onScroll,ref:'expand'},c('React').createElement('div',{style:l,ref:'expandChild'})),c('React').createElement('div',{style:k,onScroll:this.onScroll,ref:'shrink'},c('React').createElement('div',{style:m})))};n.propTypes={children:j.func.isRequired,breakpointsToggles:j.func.isRequired};f.exports=n}),null);
__d('MessengerTypingIndicator.react',['cx','Image.react','immutable','MercuryParticipants','MercuryTypingAnimation.react','messengerProfileImageWrapperReact','MessengerBubble.react','ReactComponentWithPureRenderMixin','React','createReactClass_DEPRECATED','StoreAndPropBasedStateMixin'],(function a(b,c,d,e,f,g,h){var i=c('messengerProfileImageWrapperReact').jsComponent,j=c('React').PropTypes,k=32,l=c('createReactClass_DEPRECATED')({displayName:'MessengerTypingIndicator',mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('MercuryParticipants'))],propTypes:{userID:j.string,showName:j.bool},statics:{calculateState:function m(n){return {author:c('MercuryParticipants').getOrFetch(n.userID)}}},render:function m(){if(!this.state.author)return null;var n=this.state.author;return c('React').createElement('div',{className:"_1t_p _1hbw"},c('React').createElement('div',{className:"_1t_q"},c('React').createElement(i,{className:"_1t_r",isMessengerUser:n.is_messenger_user,size:k,showBadge:true},c('React').createElement(c('Image.react'),{alt:'',src:n.image_src,height:k,width:k}))),c('React').createElement('div',{className:"_41ud"},c('React').createElement('div',{className:"_o46 _3erg _29_7"},c('React').createElement(c('MessengerBubble.react'),{attachments:c('immutable').List([c('React').createElement(c('MercuryTypingAnimation.react'),{key:'animation'})]),body:'',className:"_3058",ref:'bubble'}))))},getBubble:function m(){return this.refs.bubble}});f.exports=l}),null);
__d('MessengerRadioButton.react',['cx','React','XUIRadioInput.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement(c('XUIRadioInput.react'),babelHelpers['extends']({},this.props,{className:"__rm"}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d('MessengerRadioList.react',['invariant','InputLabel.react','MessengerRadioButton.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.$MessengerRadioListItem1=function(event){event.target instanceof HTMLInputElement||h(0);this.props.onSelect&&this.props.onSelect(this.props.value)}.bind(this),q}n.prototype.render=function(){return c('React').createElement('li',{className:this.props.className},c('React').createElement(c('InputLabel.react'),{display:'inline'},c('React').createElement(c('MessengerRadioButton.react'),{checked:this.props.selectedValue===this.props.value,disabled:!!this.props.disabled,name:this.props.name,onChange:this.$MessengerRadioListItem1,value:this.props.value}),c('React').createElement('label',null,this.props.children)))};n.propTypes={disabled:m.bool,name:m.string,onSelect:m.func,selectedValue:m.any,value:m.any};k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;o.prototype.render=function(){var p=c('React').Children.map(this.props.children,function(q){return c('React').cloneElement(q,{name:this.props.name,onSelect:this.props.onValueChange,selectedValue:this.props.selectedValue})},this);return c('React').createElement('ul',babelHelpers['extends']({},this.props,{name:null}),p)};function o(){k.apply(this,arguments)}o.propTypes={name:m.string,onValueChange:m.func,selectedValue:m.any};o.Item=n;f.exports=o}),null);
__d('MNCommerceAttachmentConstants',[],(function a(b,c,d,e,f,g){var h={XLARGE_IMAGE_DIMENSION:72,LARGE_IMAGE_DIMENSION:60,SMALL_IMAGE_DIMENSION:32,SINGLE_IMAGE_HEIGHT:108,BUBBLE_PADDING:6,IMAGE_HEIGHT:{CHAT:108,WEB_INBOX:130},UNLINK_ERROR_DIALOG:{WIDTH:300},DIALOG:{WIDTH:445,PADDING:12},MDOTCOMDIALOG:{WIDTH:495},ORDER_DETAIL:{SUB_TOTAL:'subTotal',SHIPPING:'shippingCost',TAX:'tax',TOTAL:'totalCost'}};f.exports=h}),null);
__d('MNCommerceDialog.react',['cx','MessengerEnvironment','LayerFadeOnHide','LayerHideOnEscape','MNCommerceAttachmentConstants','MessengerDialog.react','React','XUIDialog.react','emptyFunction','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'MNCommerceDialog',propTypes:{onToggle:i.func,shown:i.bool,width:i.number.isRequired},getDefaultProps:function k(){return {onToggle:c('emptyFunction'),repositionOnUpdate:true,shown:true,width:c('MessengerEnvironment').messengerui?c('MNCommerceAttachmentConstants').MDOTCOMDIALOG.WIDTH:c('MNCommerceAttachmentConstants').DIALOG.WIDTH}},componentDidUpdate:function k(){if(this.props.repositionOnUpdate)setTimeout(function(){if(this.isMounted()&&this.refs.dialog&&this.refs.dialog.layer)this.refs.dialog.layer.updatePosition();}.bind(this),0);},render:function k(){var l=c('MessengerEnvironment').messengerui,m=l?c('MessengerDialog.react'):c('XUIDialog.react');return c('React').createElement(m,babelHelpers['extends']({behaviors:{LayerFadeOnHide:c('LayerFadeOnHide'),LayerHideOnEscape:c('LayerHideOnEscape')}},this.props,{className:c('joinClasses')(this.props.className,l?"_3rx0":''),ref:'dialog'}),this.props.children)}});f.exports=j}),null);
__d('MNCommerceDialogBody.react',['MessengerEnvironment','MessengerDialogBody.react','React','XUIDialogBody.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=c('MessengerEnvironment').messengerui,l=k?c('MessengerDialogBody.react'):c('XUIDialogBody.react');return c('React').createElement(l,this.props,this.props.children)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('MNCommerceDialogTitle.react',['MessengerEnvironment','MessengerDialogHeader.react','React','XUIDialogTitle.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=c('MessengerEnvironment').messengerui,l=k?c('MessengerDialogHeader.react'):c('XUIDialogTitle.react');return c('React').createElement(l,this.props,this.props.children)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('MNCommerceDetailsDialog.react',['cx','fbt','React','MNCommerceDialog.react','MNCommerceDialogBody.react','MNCommerceDialogTitle.react','XUISpinner.react','XUIButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$MNCommerceDetailsDialog3=function(){return this.props.title?c('React').createElement(c('MNCommerceDialogTitle.react'),null,this.props.title):null}.bind(this),this.$MNCommerceDetailsDialog2=function(){return c('React').createElement('div',{className:"_4y9b"},c('React').createElement('p',{className:"_4y9c"},i._("Sorry, something went wrong")),c('React').createElement('p',{className:"_4y9d"},this.props.errorMessage),c('React').createElement(c('XUIButton.react'),{onClick:this.props.onTryAgain,label:i._("Try Again")}))}.bind(this),this.$MNCommerceDetailsDialog1=function(){return c('React').createElement('div',{className:"_4y9e"},c('React').createElement(c('XUISpinner.react'),{background:'light',size:'large',paused:false}))},o}m.prototype.render=function(){var n=null;if(this.props.loading){n=this.$MNCommerceDetailsDialog1()}else if(this.props.error){n=this.$MNCommerceDetailsDialog2()}else n=this.props.children;return c('React').createElement(c('MNCommerceDialog.react'),{className:this.props.className,modal:true,onToggle:this.props.onToggle,shown:this.props.shown},this.$MNCommerceDetailsDialog3(),c('React').createElement(c('MNCommerceDialogBody.react'),{useCustomPadding:true},n))};m.propTypes={error:l.object,errorMessage:l.node,loading:l.bool.isRequired,onToggle:l.func,onTryAgain:l.func,title:l.node,shown:l.bool.isRequired};m.defaultProps={shown:false};f.exports=m}),null);
__d('MNCommerceButton.react',['MessengerEnvironment','MessengerDialogButton.react','React','XUIButton.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=c('MessengerEnvironment').messengerui,l=k?c('MessengerDialogButton.react'):c('XUIButton.react'),m=this.props.type;if(!m)m=this.props.type==='confirm'?'primary':'secondary';var n=k?'default':this.props.use,o=babelHelpers['extends']({},this.props,{type:m,use:n});return c('React').createElement(l,o,this.props.children)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('MNCommerceDialogFooter.react',['cx','MessengerEnvironment','MessengerDialogFooter.react','React','XUIDialogFooter.react','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){var l=c('MessengerEnvironment').messengerui,m=l?c('MessengerDialogFooter.react'):c('XUIDialogFooter.react'),n=void 0,o=this.props.children;if(l){n=c('React').Children.count(this.props.children);o=c('React').Children.map(this.props.children,function(p,q){if(!p)return null;return c('React').cloneElement(p,{className:c('joinClasses')(p.props.className,"_4ec0"),type:q===0&&n===2?'secondary':'primary'})})}return c('React').createElement(m,this.props,o)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d('MNCommercePromotionManageBlockDialog.react',['fbt','MessengerEnvironment','Link.react','MessengerRadioList.react','MNCommerceButton.react','MNCommerceDetailsDialog.react','MNCommerceDialogBody.react','MNCommerceDialogFooter.react','MNCommerceDialogTitle.react','MNCommerceBlockTypeJSInstance','React','URI','WorkModeConfig','XUIRadioList.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('MessengerRadioList.react').Item,l=c('XUIRadioList.react').Item,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(p,q){j.constructor.call(this,p,q);o.call(this);this.state=this.$MNCommercePromotionManageBlockDialog1()}n.prototype.componentWillReceiveProps=function(p){this.setState(this.$MNCommercePromotionManageBlockDialog1(p))};n.prototype.$MNCommercePromotionManageBlockDialog1=function(p){var q=p||this.props,r=c('MNCommerceBlockTypeJSInstance').ALL;if(q.isAllBlocked||q.isPromotionBlocked)r=c('MNCommerceBlockTypeJSInstance').NONE;return {type:r}};n.prototype.render=function(){var p=this.props.merchantName||'',q=h._("Manage messages from {label for merchant name}",[h.param('label for merchant name',p)]),r=h._("Cancel"),s=h._("Confirm"),t=h._("Manage Options couldn't be shown."),u=c('WorkModeConfig').is_work_user?new (c('URI'))('https://facebook.com/help/work/1731361900459513').setSubdomain(c('WorkModeConfig').company_subdomain||''):new (c('URI'))('https://www.facebook.com/help/389645087895231'),v=c('React').createElement(c('Link.react'),{href:u,target:'_blank'},h._("Learn more"));return c('React').createElement(c('MNCommerceDetailsDialog.react'),babelHelpers['extends']({errorMessage:t,onToggle:this.props.onToggle,shown:this.props.shown},this.props),c('React').createElement(c('MNCommerceDialogTitle.react'),{showCloseButton:true},q),c('React').createElement(c('MNCommerceDialogBody.react'),null,this.$MNCommercePromotionManageBlockDialog2()),c('React').createElement(c('MNCommerceDialogFooter.react'),{leftContent:v},c('React').createElement(c('MNCommerceButton.react'),{label:r,onClick:this.props.onCancelButtonClick,use:'default'}),c('React').createElement(c('MNCommerceButton.react'),{label:s,onClick:this.$MNCommercePromotionManageBlockDialog3,use:'confirm'})))};n.propTypes={isAllBlocked:m.bool,isPromotionBlocked:m.bool,error:m.object,loading:m.bool.isRequired,merchantName:m.string,onCancelButtonClick:m.func,onConfirmButtonClick:m.func.isRequired,pageID:m.string};var o=function p(){this.onTypeChange=function(q){this.setState({type:q})}.bind(this);this.$MNCommercePromotionManageBlockDialog2=function(){var q=c('MessengerEnvironment').messengerui,r=q?c('MessengerRadioList.react'):c('XUIRadioList.react'),s=q?k:l;return c('React').createElement(r,{selectedValue:this.state.type,onValueChange:this.onTypeChange},c('React').createElement(s,{value:c('MNCommerceBlockTypeJSInstance').ALL},h._("Receive all messages")),c('React').createElement(s,{value:c('MNCommerceBlockTypeJSInstance').NONE},h._("Turn off all messages")))}.bind(this);this.$MNCommercePromotionManageBlockDialog3=function(q){var r=this.props;r.onToggle(false);if(!r.onConfirmButtonClick)return;var s=r.pageID;r.onConfirmButtonClick(s,this.state.type)}.bind(this)};f.exports=n}),null);
__d("XMNCommercePromotionBlockController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messages\/commerce\/promotion\/block\/",{page_id:{type:"String",required:true},type:{type:"String",required:true}})}),null);
__d('MNCommercePromotionBlockDataManager',['AsyncRequest','MNCommercePromotionStateActions','XMNCommercePromotionBlockController'],(function a(b,c,d,e,f,g){'use strict';h.prototype.block=function(i,j){var k=c('XMNCommercePromotionBlockController').getURIBuilder().setString('page_id',i).setString('type',j).getURI();new (c('AsyncRequest'))().setURI(k).setHandler(this.$MNCommercePromotionBlockDataManager1).setErrorHandler(this.$MNCommercePromotionBlockDataManager2).send()};h.prototype.$MNCommercePromotionBlockDataManager1=function(i){var j=i.getRequest().uri.getQueryData(),k=j.page_id;c('MNCommercePromotionStateActions').stateReload(k)};h.prototype.$MNCommercePromotionBlockDataManager2=function(i){var j=i.getRequest().uri.getQueryData(),k=j.page_id;c('MNCommercePromotionStateActions').stateLoadError(k)};function h(){}f.exports=new h()}),null);
__d('MNCommerceCacheTimeoutLimits',[],(function a(b,c,d,e,f,g){'use strict';var h={SUCCESS_TIMEOUT:10,ERROR_TIMEOUT:1};f.exports=h}),null);
__d("XMNCommercePromotionStateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messages\/commerce\/promotion\/state\/",{page_id:{type:"String",required:true}})}),null);
__d('MNCommercePromotionStateDataManager',['AsyncRequest','MNCommercePromotionStateActions','XMNCommercePromotionStateController'],(function a(b,c,d,e,f,g){'use strict';h.prototype.fetchPromotionState=function(i){var j=c('XMNCommercePromotionStateController').getURIBuilder().setString('page_id',i).getURI();new (c('AsyncRequest'))().setURI(j).setHandler(this.$MNCommercePromotionStateDataManager1).setErrorHandler(this.$MNCommercePromotionStateDataManager2).send()};h.prototype.$MNCommercePromotionStateDataManager1=function(i){var j=i.getRequest().uri.getQueryData(),k=j.page_id;i.payload.pageID=k;c('MNCommercePromotionStateActions').stateLoaded(i.payload)};h.prototype.$MNCommercePromotionStateDataManager2=function(i){var j=i.getRequest().uri.getQueryData(),k=j.page_id;c('MNCommercePromotionStateActions').stateLoadError(k)};function h(){}f.exports=new h()}),null);
__d('MNCommercePromotionStateStore',['Cache','FluxStore','LoadObject','MessengerDispatcher','MNCommerceActionTypes','MNCommerceCacheTimeoutLimits','MNCommercePromotionStateDataManager'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('MessengerDispatcher'));this.$MNCommercePromotionStateStore1=new (c('Cache'))()}j.prototype.__onDispatch=function(k){var l=k.type,m=k.pageID||k.state&&k.state.pageID;switch(l){case c('MNCommerceActionTypes').PROMOTION_STATE.LOADED:var n=k.state;this.$MNCommercePromotionStateStore1.set(m,c('LoadObject').empty().setValue(n),null,c('MNCommerceCacheTimeoutLimits').SUCCESS_TIMEOUT);this.__emitChange();break;case c('MNCommerceActionTypes').PROMOTION_STATE.LOAD_ERROR:this.$MNCommercePromotionStateStore1.set(m,c('LoadObject').empty().setError(new Error('Unable to load permissions for: '+m)),null,c('MNCommerceCacheTimeoutLimits').ERROR_TIMEOUT);this.__emitChange();break;case c('MNCommerceActionTypes').PROMOTION_STATE.RELOAD:if(m){this.$MNCommercePromotionStateStore1.set(m,c('LoadObject').loading());c('MNCommercePromotionStateDataManager').fetchPromotionState(m)}this.__emitChange();break;}};j.prototype.getPromotionState=function(k){if(k&&!this.$MNCommercePromotionStateStore1.has(k)){this.$MNCommercePromotionStateStore1.set(k,c('LoadObject').loading().setValue({pageID:k}));c('MNCommercePromotionStateDataManager').fetchPromotionState(k)}return this.$MNCommercePromotionStateStore1.get(k)||c('LoadObject').empty()};f.exports=new j()}),null);
__d('MNCommercePromotionManageBlockDialogContainer.react',['MNCommerceDialogStateActions','MNCommerceDialogStateStore','MNCommercePromotionBlockDataManager','MNCommercePromotionManageBlockDialog.react','MNCommercePromotionStateActions','MNCommercePromotionStateStore','PureStoreBasedStateMixin','React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').createClass({displayName:'MNCommercePromotionManageBlockDialogContainer',mixins:[c('PureStoreBasedStateMixin')(c('MNCommercePromotionStateStore'))],statics:{calculateState:function i(){var j=c('MNCommerceDialogStateStore').getState(),k=null;if(j)k=j.pageID;var l=c('MNCommercePromotionStateStore').getPromotionState(k);return {shown:!!j,loading:l.isLoading(),pageID:k,promotionState:l.getValue(),error:l.getError()}}},render:function i(){var j=this.state.promotionState;return c('React').createElement(c('MNCommercePromotionManageBlockDialog.react'),{error:this.state.error,isAllBlocked:j&&j.is_all_blocked,isPromotionBlocked:j&&j.is_promotion_blocked,loading:this.state.loading,merchantName:j&&j.name,onCancelButtonClick:this._hideDialog,onToggle:this._onToggle,pageID:this.state.pageID,onTryAgain:this._onTryAgainClick,onConfirmButtonClick:this._handleConfirmButtonClick,shown:this.state.shown})},_onToggle:function i(j){if(!j)this._hideDialog();},_onTryAgainClick:function i(){c('MNCommercePromotionStateActions').stateReload(this.state.pageID)},_hideDialog:function i(){c('MNCommerceDialogStateActions').hideDialog()},_handleConfirmButtonClick:function i(j,k){return c('MNCommercePromotionBlockDataManager').block(j,k)}});f.exports=h}),null);
__d('MessengerRTCGroupCallContactListItem.react',['cx','fbt','ix','FBRTCParticipantCallState','Image.react','Link.react','messengerContactImageReact','React','emptyFunction'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l=c('messengerContactImageReact').jsComponent,m=(k={},k[c('FBRTCParticipantCallState').DISCONNECTED]=i._("Disconnected"),k[c('FBRTCParticipantCallState').NO_ANSWER]=i._("No answer"),k[c('FBRTCParticipantCallState').REJECTED]=i._("Rejected"),k[c('FBRTCParticipantCallState').UNREACHABLE]=i._("Unreachable"),k[c('FBRTCParticipantCallState').CONNECTION_DROPPED]=i._("Connection dropped"),k[c('FBRTCParticipantCallState').CONTACTING]=i._("Contacting..."),k[c('FBRTCParticipantCallState').RINGING]=i._("Ringing..."),k[c('FBRTCParticipantCallState').CONNECTING]=i._("Connecting..."),k[c('FBRTCParticipantCallState').CONNECTED]=i._("Connected"),k[c('FBRTCParticipantCallState').PARTICIPANT_LIMIT_REACHED]=i._("Participant limit reached"),k[c('FBRTCParticipantCallState').IN_ANOTHER_CALL]=i._("In another call"),k),n=32,o=function s(t){var u=t.isSelected,v=t.onClick,w=t.participant,x=t.participantState;return c('React').createElement(c('Link.react'),{'aria-checked':u,className:"_4nvn",onClick:r(x)?c('emptyFunction'):v,role:'checkbox'},c('React').createElement(l,{className:"_4nvr",isMessengerUser:w.is_messenger_user,isPartiesUser:w.is_parties_user,size:n,src:w.image_src}),c('React').createElement('div',{className:"_4nvs"},c('React').createElement('div',{className:"_4nvt"},c('React').createElement('div',{className:"_4nv_"},w.name),c('React').createElement(p,{participant:w,participantState:x})),c('React').createElement(q,{isSelected:u,participantState:x})))},p=function s(t){var u=t.participant.vanity,v=t.participantState;if(v){var w=m[v.state]||i._("Unknown");return c('React').createElement('div',{className:"_4nw0"},w)}if(u)return c('React').createElement('div',{className:"_4nw0"},'@',u);return null},q=function s(t){var u=t.isSelected,v=t.participantState;if(r(v)){return c('React').createElement('div',{className:"_1j79"},i._("In call"))}else if(u)return c('React').createElement('div',{className:"_1j79"},c('React').createElement(c('Image.react'),{src:j("86852")}));return null};function r(s){if(!s)return false;switch(s.state){case c('FBRTCParticipantCallState').CONTACTING:case c('FBRTCParticipantCallState').RINGING:case c('FBRTCParticipantCallState').CONNECTING:case c('FBRTCParticipantCallState').CONNECTED:return true;default:return false;}}f.exports=o}),null);
__d('MessengerRTCGroupCallContactList.react',['cx','immutable','MessengerRTCGroupCallContactListItem.react','MessengerScrollableArea.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){var l=k.isParticipantSelected,m=k.onClick,n=k.participants,o=k.participantStates,p=o===undefined?c('immutable').Map():o,q=n.map(function(r){return c('React').createElement(c('MessengerRTCGroupCallContactListItem.react'),{isSelected:l.get(r.id),key:r.id,onClick:function(s){function t(){return s.apply(this,arguments)}t.toString=function(){return s.toString()};return t}(function(){return m(r.id)}),participant:r,participantState:p.get(r.fbid||'')})});return c('React').createElement(c('MessengerScrollableArea.react'),{className:"_12zw"},q)};f.exports=i}),null);
__d('MessengerRTCGroupCallRingParticipantsRow.react',['cx','fbt','React','intlList'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=function k(l){var m=l.names;return c('React').createElement('div',{className:"_1wsd"},c('React').createElement('div',{className:"_1wse"},i._("Ring:")),c('React').createElement('div',{className:"_1wsg"},c('intlList')(m,c('intlList').CONJUNCTIONS.NONE)))};f.exports=j}),null);
__d('RTCCallTitle.react',['immutable','MercuryIDs','MercuryParticipantListRenderer','React'],(function a(b,c,d,e,f,g){'use strict';var h=function i(j){var k=j.viewer,l=j.participants,m=j.className,n=c('MercuryIDs').getParticipantIDFromUserID(k),o=Object.keys(l.toJS());if(o.length>1)o=o.filter(function(r){return r!=n});var p=o.map(function(r){return l.get(r)}),q=new (c('MercuryParticipantListRenderer'))().setUseShortName(false).setUseAndSeparator(false).renderParticipantList(p);return c('React').createElement('span',{className:m},q)};f.exports=h}),null);
__d('MessengerRTCGroupCallThreadRow.react',['cx','fbt','MercuryParticipantsImage.react','MercuryThreadTitle.react','messengerProfileImageWrapperReact','messengerThreadImageReact','React','RTCCallTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('messengerProfileImageWrapperReact').jsComponent,k=c('messengerThreadImageReact').jsComponent,l=function p(q){var r=q.displayAddMemberWarning,s=q.participants,t=q.thread,u=q.viewerID;return c('React').createElement('div',{className:"_5y31"},c('React').createElement(k,{className:"_5y32",participants:s,thread:t,viewer:u}),c('React').createElement('div',{className:"_5y34"},c('React').createElement(c('MercuryThreadTitle.react'),{className:"_5y37",thread:t,viewer:u}),c('React').createElement(n,{displayAddMemberWarning:r})))},m=function p(q){var r=q.displayAddMemberWarning,s=q.participants,t=q.thread,u=q.viewerID;return c('React').createElement('div',{className:"_5y31"},c('React').createElement(j,{className:"_5y32",showBadge:false,size:50},c('React').createElement(c('MercuryParticipantsImage.react'),{participants:Object.keys(s.toJS())})),c('React').createElement('div',{className:"_5y34"},c('React').createElement(c('RTCCallTitle.react'),{className:"_5y37",participants:s,viewer:u}),c('React').createElement(n,{displayAddMemberWarning:r})))},n=function p(q){var r=q.displayAddMemberWarning;return r?c('React').createElement('div',{className:"_1apf"},i._("People you add to this group video will see previous messages in this conversation.")):null},o=function p(q){var r=q.thread,s=babelHelpers.objectWithoutProperties(q,['thread']);return r?c('React').createElement(l,babelHelpers['extends']({thread:r},s)):c('React').createElement(m,babelHelpers['extends']({thread:r},s))};f.exports=o}),null);
__d('MessengerRTCGroupCallParticipantsPickerDialog.react',['cx','fbt','FBRTCCore','immutable','ImmutableObject','MessengerDialog.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogHeader.react','MessengerDialogTitle.react','MessengerRTCGroupCallContactList.react','MessengerRTCGroupCallRingParticipantsRow.react','MessengerRTCGroupCallThreadRow.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=460,n=5;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={isParticipantSelected:this.props.participants.mapEntries(function(u){var v=u[0],w=u[1];return [v,this.props.participants.size<=n]}.bind(this))},this.$MessengerRTCGroupCallParticipantsPickerDialog1=function(){var u=this.$MessengerRTCGroupCallParticipantsPickerDialog2().map(function(v){return v.fbid});if(this.props.handleCall){this.props.handleCall(u)}else c('FBRTCCore').startGroupCall({conferenceName:this.props.conferenceName,hasVideo:this.props.hasVideo,trigger:this.props.trigger,usersToRing:u});this.props.onUnmount()}.bind(this),q}o.prototype.render=function(){var p=this.props,q=p.participants,r=p.thread,s=p.viewerID;return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onUnmount,type:'default',width:m},c('React').createElement('div',{className:"_2m1r"},c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogTitle.react'),null,i._("Ring group members")),c('React').createElement(c('MessengerDialogButton.react'),{label:i._("Call"),onClick:this.$MessengerRTCGroupCallParticipantsPickerDialog1,disabled:this.$MessengerRTCGroupCallParticipantsPickerDialog2().length===0,type:'primary'})),c('React').createElement(c('MessengerRTCGroupCallThreadRow.react'),{participants:q,thread:r,viewerID:s}),c('React').createElement(c('MessengerRTCGroupCallRingParticipantsRow.react'),{names:this.$MessengerRTCGroupCallParticipantsPickerDialog2().map(function(t){var u=t.name;return u}).sort(function(t,u){return t.localeCompare(u)})}),c('React').createElement(c('MessengerRTCGroupCallContactList.react'),{participants:q.toArray().sort(function(t,u){return t.name.localeCompare(u.name)}),isParticipantSelected:this.state.isParticipantSelected,onClick:function(t){return this.setState({isParticipantSelected:this.state.isParticipantSelected.set(t,!this.state.isParticipantSelected.get(t))})}.bind(this)})))};o.prototype.$MessengerRTCGroupCallParticipantsPickerDialog2=function(){return this.props.participants.filter(function(p,q){return this.state.isParticipantSelected.get(q)}.bind(this)).toArray()};o.propTypes={participants:l.instanceOf(c('immutable').Map).isRequired,thread:l.instanceOf(c('ImmutableObject')),viewerID:l.string.isRequired,trigger:l.string.isRequired,conferenceName:l.string.isRequired,hasVideo:l.bool.isRequired,handleCall:l.func,onUnmount:l.func.isRequired};f.exports=o}),null);
__d('MessengerRTCGroupCallParticipantsPickerDialogController',['DOM','MessengerRTCGroupCallParticipantsPickerDialog.react','React','ReactDOM'],(function a(b,c,d,e,f,g){'use strict';var h={_container:c('DOM').create('div'),render:function i(j){var k=j.participants,l=j.thread,m=j.viewerID,n=j.trigger,o=j.conferenceName,p=j.hasVideo,q=j.handleCall;c('ReactDOM').render(c('React').createElement(c('MessengerRTCGroupCallParticipantsPickerDialog.react'),{participants:k,thread:l,viewerID:m,trigger:n,conferenceName:o,hasVideo:p,handleCall:q,onUnmount:function(){return this._onUnmount()}.bind(this)}),this._container)},_onUnmount:function i(){c('ReactDOM').unmountComponentAtNode(this._container)}};f.exports=h}),null);
__d('MessengerConstants',[],(function a(b,c,d,e,f,g){'use strict';var h={NEW_THREAD_KEY:'new'};f.exports=h}),null);
__d('MercuryShareAttachmentSnippet.react',['MercuryShareAttachmentReactShape','MercuryShareStyleMap','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=c('MercuryShareStyleMap').getStyleFactory(this.props.attachment);if(l.factory&&!!l.factory.getSnippetComponent){var m=l.factory.getSnippetComponent();return c('React').createElement(m,babelHelpers['extends']({},this.props,{attachment:l.attachment}))}return null};function k(){h.apply(this,arguments)}k.propTypes={attachment:c('MercuryShareAttachmentReactShape'),isSenderViewer:j.bool,senderName:j.oneOfType([j.string,j.object])};f.exports=k}),null);
__d('MercuryAttachmentSnippet.react',['cx','ix','fbt','EmoticonsList','Image.react','MercuryAttachment','MercuryAttachmentSnippetRenderer','MercuryAttachmentSnippetType','MercuryAttachmentType','MercuryIDs','MercuryShareAttachmentSnippet.react','MessengerTextWithEmoticons.react','MercuryParticipants','React','StickerConstants','TextWithEmoticons.react','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.$MercuryAttachmentSnippet6=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').PHOTO,this.$MercuryAttachmentSnippet18,v,this.$MercuryAttachmentSnippet5))}.bind(this),this.$MercuryAttachmentSnippet7=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').GIF,this.$MercuryAttachmentSnippet18,v,this.$MercuryAttachmentSnippet5))}.bind(this),this.$MercuryAttachmentSnippet8=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').VIDEO,this.$MercuryAttachmentSnippet18,v))}.bind(this),this.$MercuryAttachmentSnippet9=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').AUDIO_CLIP,this.$MercuryAttachmentSnippet18,v))}.bind(this),this.$MercuryAttachmentSnippet15=function(v){return c('React').createElement('span',null,c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').THIRDPARTYSTICKER,this.$MercuryAttachmentSnippet18,v))}.bind(this),this.$MercuryAttachmentSnippet11=function(v){return c('React').createElement('span',null,c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').STICKER,this.$MercuryAttachmentSnippet18,v))}.bind(this),this.$MercuryAttachmentSnippet12=function(v){if(!!this.$MercuryAttachmentSnippet5[0].share)return c('React').createElement(c('MercuryShareAttachmentSnippet.react'),{attachment:this.$MercuryAttachmentSnippet5[0].share,senderName:v,isViewerSender:this.$MercuryAttachmentSnippet18});return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').SHARE,this.$MercuryAttachmentSnippet18,v))}.bind(this),this.$MercuryAttachmentSnippet13=function(v){return c('React').createElement('span',null,c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').GIFT,this.$MercuryAttachmentSnippet18,v))}.bind(this),this.$MercuryAttachmentSnippet16=function(v){return c('React').createElement('span',null,this.$MercuryAttachmentSnippet5.filter(function(w){return w.attach_type===c('MercuryAttachmentType').FILE||w.attach_type===c('MercuryAttachmentType').PHOTO||w.attach_type===c('MercuryAttachmentType').VIDEO}).map(function(w,x){return this.$MercuryAttachmentSnippet17(w.name,w.icon_type,x)}.bind(this)))}.bind(this),this.$MercuryAttachmentSnippet17=function(v,w,x){var y=c('MercuryAttachment').getAttachIconClass(w||this.$MercuryAttachmentSnippet5[0].icon_type),z=c('joinClasses')(y,"uiIconText _3l6h");return c('React').createElement('span',{key:x},c('React').createElement('span',{className:z},c('React').createElement(c('Image.react'),{src:i("86988")})),v)}.bind(this),this.$MercuryAttachmentSnippet14=function(v){var w=c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').ERROR,this.$MercuryAttachmentSnippet18,v);return this.$MercuryAttachmentSnippet17(w)}.bind(this),this.$MercuryAttachmentSnippet2=function(v){this.$MercuryAttachmentSnippet19=v.viewer;this.$MercuryAttachmentSnippet20=v.thread.snippet_sender;this.$MercuryAttachmentSnippet5=v.thread.snippet_attachments;this.$MercuryAttachmentSnippet18=p(this.$MercuryAttachmentSnippet20,this.$MercuryAttachmentSnippet19)}.bind(this),this.$MercuryAttachmentSnippet1=function(v){if(!v)return;this.$MercuryAttachmentSnippet3();if(!c('MercuryParticipants').getNow(v))this.$MercuryAttachmentSnippet21=c('MercuryParticipants').get(v,function(w){return this.forceUpdate()}.bind(this));}.bind(this),this.$MercuryAttachmentSnippet3=function(){this.$MercuryAttachmentSnippet21&&this.$MercuryAttachmentSnippet21.remove()}.bind(this),r}n.prototype.componentWillMount=function(){this.$MercuryAttachmentSnippet1(this.props.thread.snippet_sender);this.$MercuryAttachmentSnippet2(this.props)};n.prototype.componentWillReceiveProps=function(q){this.$MercuryAttachmentSnippet1(q.thread.snippet_sender);this.$MercuryAttachmentSnippet2(q)};n.prototype.componentWillUnmount=function(){this.$MercuryAttachmentSnippet3()};n.prototype.render=function(){var q=this.$MercuryAttachmentSnippet4(),r=c('MercuryAttachmentSnippetRenderer').getAttachmentSnippetType(this.$MercuryAttachmentSnippet5);switch(r){case c('MercuryAttachmentSnippetType').PHOTO:return this.$MercuryAttachmentSnippet6(q);case c('MercuryAttachmentSnippetType').GIF:return this.$MercuryAttachmentSnippet7(q);case c('MercuryAttachmentSnippetType').VIDEO:return this.$MercuryAttachmentSnippet8(q);case c('MercuryAttachmentSnippetType').AUDIO_CLIP:return this.$MercuryAttachmentSnippet9(q);case c('MercuryAttachmentSnippetType').LIKE_STICKER:return this.$MercuryAttachmentSnippet10(q);case c('MercuryAttachmentSnippetType').STICKER:return this.$MercuryAttachmentSnippet11(q);case c('MercuryAttachmentSnippetType').SHARE:return this.$MercuryAttachmentSnippet12(q);case c('MercuryAttachmentSnippetType').GIFT:return this.$MercuryAttachmentSnippet13(q);case c('MercuryAttachmentSnippetType').ERROR:return this.$MercuryAttachmentSnippet14(q);case c('MercuryAttachmentSnippetType').THIRDPARTYSTICKER:return this.$MercuryAttachmentSnippet15(q);default:return this.$MercuryAttachmentSnippet16(q);}};n.prototype.$MercuryAttachmentSnippet10=function(q){var r=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,text:c('EmoticonsList').symbols.like});if(this.$MercuryAttachmentSnippet18){return c('React').createElement('span',null,j._("You: {conversation_snippet}",[j.param('conversation_snippet',r)]))}else return this.props.thread.is_canonical?c('React').createElement('span',null,j._("{conversation_snippet}",[j.param('conversation_snippet',r)])):c('React').createElement('span',null,j._("{sender name}: {conversation_snippet}",[j.param('sender name',q),j.param('conversation_snippet',r)]));};n.prototype.$MercuryAttachmentSnippet4=function(){if(!this.$MercuryAttachmentSnippet20||this.$MercuryAttachmentSnippet18)return null;var q=c('MercuryParticipants').getNow(this.$MercuryAttachmentSnippet20);if(!q)return null;var r=c('MercuryIDs').getUserIDFromParticipantID(this.$MercuryAttachmentSnippet20),s=this.props.thread.custom_nickname&&this.props.thread.custom_nickname[r];if(s)s=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:s});return s?s:q.short_name};n.propTypes={thread:m.object.isRequired,viewer:m.string.isRequired};function o(q){return q==c('StickerConstants').LIKE_STICKER_ID||q==c('StickerConstants').HOT_LIKE_SMALL_STICKER_ID||q==c('StickerConstants').HOT_LIKE_MEDIUM_STICKER_ID||q==c('StickerConstants').HOT_LIKE_LARGE_STICKER_ID}function p(q,r){return !!(q&&c('MercuryIDs').getParticipantIDFromUserID(r)==q)}f.exports=n}),null);
__d("AdPageMessageTypeEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({AD_ADMIN_TEXT:"ad_admin_text",AD_TEXT:"ad_text",AD_BUBBLE:"ad_bubble"})}),null);
__d("MNAdsLoggerEventEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LINK_CLICK:"messenger_ads_link_click",LINK_CLICK_CTA:"messenger_ads_link_click_cta",MESSAGE_SEEN_THREAD:"messenger_ads_message_seen_thread",MESSAGE_SEEN_INBOX:"messenger_ads_message_seen_inbox",MESSAGE_SEEN_REQUEST:"messenger_ads_message_seen_request"})}),null);
__d('MNAdsLogMessageUtils',['MercuryConfig','MessagingTag','MessengerAdsWebTypedLogger','MNAdsLoggerEventEnum','AdPageMessageTypeEnum'],(function a(b,c,d,e,f,g){'use strict';var h=c('MercuryConfig').LOG_INTERVAL_MS||60000;function i(){this.$MNAdsLogMessageUtils1={}}i.prototype.isLoggedWithinInterval=function(j){if(this.$MNAdsLogMessageUtils1[j]&&this.$MNAdsLogMessageUtils1[j]-Date.now()<h)return true;return false};i.prototype.setLoggingTime=function(j){this.$MNAdsLogMessageUtils1[j]=Date.now()};i.prototype.logAdsThreadListImpression=function(j){switch(j.folder){case c('MessagingTag').INBOX:this.logWithThreadMetaData(j,c('MNAdsLoggerEventEnum').MESSAGE_SEEN_INBOX);break;case c('MessagingTag').PENDING:this.logWithThreadMetaData(j,c('MNAdsLoggerEventEnum').MESSAGE_SEEN_REQUEST);break;default:return;}};i.prototype.logWithThreadMetaData=function(j,event){if(j.last_message_type!==c('AdPageMessageTypeEnum').NON_AD){var k=j.last_message_timestamp+String(event);if(!c('MercuryConfig').MercuryThreadListEnableImpressionLog||this.isLoggedWithinInterval(k))return;new (c('MessengerAdsWebTypedLogger'))().setEvent(event).setMessageTimestamp(j.last_message_timestamp).setPageID(j.other_user_fbid).log();this.setLoggingTime(k)}};f.exports=new i()}),null);
__d('MercuryThreadSnippet.react',['cx','fbt','immutable','MercuryAttachmentSnippet.react','MercuryIDs','MessengerTextWithEmoticons.react','MNAdsLogMessageUtils','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.shouldComponentUpdate=function(p){return this.props.shouldRenderYou!==p.shouldRenderYou||this.props.thread!==p.thread||this.props.viewer!==p.viewer||this.props.className!==p.className||!c('immutable').is(p.participants,this.props.participants)};m.prototype.render=function(){return c('React').createElement('span',{className:this.props.className},this.$MercuryThreadSnippet1(),this.$MercuryThreadSnippet2())};m.prototype.$MercuryThreadSnippet1=function(){if(!this.props.thread.snippet||!n(this.props.thread))return null;return c('React').createElement('span',{className:"_j0r"})};m.prototype.$MercuryThreadSnippet2=function(){var p=this.props.thread,q=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer),r=p.snippet,s=this.props.shouldRenderYou;if(p.snippetCount!=null)return i._({"*":"{number} results","_1":"1 result"},[i.plural(p.snippetCount,'number')]);if(p.snippet_attachments&&p.snippet_attachments.length>0||!p.snippet_sender)return this.$MercuryThreadSnippet3(r);var t=this.$MercuryThreadSnippet3(r);c('MNAdsLogMessageUtils').logAdsThreadListImpression(p);var u=o(p);if(u)return i._("{name}: {conversation_snippet}",[i.param('name',u),i.param('conversation_snippet',t)]);if(p.snippet_sender===q){if(!s)return t;return i._("You: {conversation_snippet}",[i.param('conversation_snippet',t)])}if(c('MercuryIDs').isCanonical(p.thread_id)&&!this.props.shouldAlwaysRenderSender)return t;var v=this.props.participants.get(p.snippet_sender);if(!v)return t;var w=v.short_name||v.name;if(p){var x=p.custom_nickname?p.custom_nickname:null,y=c('MercuryIDs').getUserIDFromParticipantID(v.id);if(x&&y&&x[y])w=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:x[y]});}if(!w)return t;return i._("{name}: {conversation_snippet}",[i.param('name',w),i.param('conversation_snippet',t)])};m.prototype.$MercuryThreadSnippet3=function(p){if(p&&p.startsWith('?OTR'))return i._("[encrypted message]");if(p)return c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:p.replace(/\r\n|[\r\n]/g,' ')});var q=this.props.thread;if(n(q))return c('React').createElement(c('MercuryAttachmentSnippet.react'),{thread:q,viewer:this.props.viewer});return null};function m(){j.apply(this,arguments)}m.propTypes={participants:l.instanceOf(c('immutable').Map).isRequired,shouldAlwaysRenderSender:l.bool,shouldRenderYou:l.bool,thread:l.object.isRequired,viewer:l.string.isRequired};function n(p){return !!(p.snippet_attachments&&p.snippet_attachments.length>0)}function o(p){if(p&&p.snippet_attachments&&p.snippet_attachments[0]&&p.snippet_attachments[0].share&&p.snippet_attachments[0].share.target&&p.snippet_attachments[0].share.target.genie_name)return p.snippet_attachments[0].share.target.genie_name;return null}f.exports=m}),null);
__d('MercuryMessageList',['immutable','Map','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g){'use strict';function h(i){this.$MercuryMessageList1=c('immutable').List(i||[]);this.$MercuryMessageList2()}h.prototype.append=function(i){var j;this.$MercuryMessageList1=(j=this.$MercuryMessageList1).push.apply(j,i);this.$MercuryMessageList2()};h.prototype.prepend=function(i){var j;this.$MercuryMessageList1=(j=this.$MercuryMessageList1).unshift.apply(j,i);this.$MercuryMessageList2()};h.prototype.update=function(i){var j=i.filter(function(k){return this.contains(k)}.bind(this));if(j.length===0)return;this.$MercuryMessageList1=this.$MercuryMessageList1.withMutations(function(k){j.forEach(function(l){var m=this.$MercuryMessageList3.get(l.message_id);if(m!==undefined)k.set(m,l);}.bind(this))}.bind(this))};h.prototype.reorder=function(i){this.$MercuryMessageList1=c('immutable').List(i.filter(Boolean));this.$MercuryMessageList2()};h.prototype.at=function(i){return this.$MercuryMessageList1.get(i)};h.prototype.contains=function(i){return this.$MercuryMessageList3.has(i.message_id)};h.prototype.toArray=function(){return this.$MercuryMessageList1.toArray()};h.prototype.toMap=function(){return new (c('Map'))(c('immutable').Seq(this.$MercuryMessageList1).map(function(i){return [i.message_id,i]}))};h.prototype.$MercuryMessageList2=function(){this.$MercuryMessageList3=new (c('Map'))(c('immutable').Seq(this.$MercuryMessageList1).map(function(i,j){return [i.message_id,j]}))};f.exports=h}),null);
__d('MercuryMessageStore',['MercuryAPIArgsSource','LogHistory','MercuryMessages','MercuryViewer','MercuryMessageList','SubscriptionsHandler','MercuryThreadInformer','MercuryThreadlistConstants','MercuryThreads','mixInEventEmitter','setImmediate','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g){'use strict';var h=c('MercuryThreads').get(),i=c('LogHistory').getInstance('mercury_message_store');function j(k,l,m){this.$MercuryMessageStore9=k;this.$MercuryMessageStore6=new (c('MercuryMessageList'))();this.$MercuryMessageStore4=m?c('MercuryMessages').getForFBID(m):c('MercuryMessages').get();this.$MercuryMessageStore2=1;this.$MercuryMessageStore1=null;this.$MercuryMessageStore5=0;this.$MercuryMessageStore3=l||c('MercuryThreadlistConstants').RECENT_MESSAGES_LIMIT;this.$MercuryMessageStore10=m?c('MercuryThreadInformer').getForFBID(m):c('MercuryThreadInformer').get();this.$MercuryMessageStore8=new (c('SubscriptionsHandler'))();this.$MercuryMessageStore8.addSubscriptions(this.$MercuryMessageStore10.subscribe('messages-received',function(n,o){return this.$MercuryMessageStore11(o)}.bind(this)),this.$MercuryMessageStore10.subscribe('messages-updated',function(n,o){return o[this.$MercuryMessageStore9]&&this.$MercuryMessageStore12(o[this.$MercuryMessageStore9])}.bind(this)),this.$MercuryMessageStore10.subscribe('messages-reordered',function(n,o){return o[this.$MercuryMessageStore9]&&this.$MercuryMessageStore13()}.bind(this)),this.$MercuryMessageStore10.subscribe('thread-invalidated',function(n,o){return o[this.$MercuryMessageStore9]&&this.$MercuryMessageStore14()}.bind(this)));i.debug('constructed',JSON.stringify({threadID:this.$MercuryMessageStore9}));this.$MercuryMessageStore15()}j.prototype.setNewThreadID=function(k){this.$MercuryMessageStore7=k};j.prototype.destroy=function(){this.$MercuryMessageStore8&&this.$MercuryMessageStore8.release();i.debug('destroyed',JSON.stringify({threadID:this.$MercuryMessageStore9}))};j.prototype.subscribe=function(k){return this.addRetroactiveListener('updated',k)};j.prototype.fetchMoreMessages=function(){if(this.hasFetchedAll())return false;this.$MercuryMessageStore15();return true};j.prototype.hasFetchedAll=function(){if(this.$MercuryMessageStore4.hasLoadedExactlyNMessages(this.$MercuryMessageStore9,this.$MercuryMessageStore5)&&this.$MercuryMessageStore4.hasLoadedAllMessages(this.$MercuryMessageStore9))return true;return h.isNewEmptyLocalThread(this.$MercuryMessageStore9)};j.prototype.$MercuryMessageStore15=function(){var k=this.$MercuryMessageStore5+this.$MercuryMessageStore3*this.$MercuryMessageStore2;this.$MercuryMessageStore4.getThreadMessagesRange(this.$MercuryMessageStore9,0,k,this.$MercuryMessageStore16.bind(this),null,c('MercuryAPIArgsSource').MERCURY);if(this.$MercuryMessageStore2<10)this.$MercuryMessageStore2+=1;if(this.$MercuryMessageStore4.hasLoadedNMessages(this.$MercuryMessageStore9,k))c('setImmediate')(function(){this.$MercuryMessageStore13()}.bind(this));};j.prototype.$MercuryMessageStore16=function(k){if(k&&k.length){this.$MercuryMessageStore1=k[0].timestamp;this.$MercuryMessageStore5=k.length}else if(k&&!k.length&&!this.$MercuryMessageStore5)this.$MercuryMessageStore17(j.THREAD_IS_EMPTY);};j.prototype.$MercuryMessageStore11=function(k){var l=[],m=k[this.$MercuryMessageStore9];if(m&&m.length)l=l.concat(m.filter(function(p){return !!p}));if(this.$MercuryMessageStore7){var n=k[this.$MercuryMessageStore7];if(n&&n.length){l=l.concat(n.filter(function(p){return !!p}));this.$MercuryMessageStore7=null}}if(l.length){this.$MercuryMessageStore6.append(l);this.$MercuryMessageStore5+=l.length;var o=l.every(function(p){return p.author!=c('MercuryViewer').getID()});this.$MercuryMessageStore17(j.MESSAGES_RECEIVED,{allFromOthers:o})}};j.prototype.$MercuryMessageStore12=function(k){this.$MercuryMessageStore6.update(this.$MercuryMessageStore4.getMessagesFromIDs(Object.keys(k)));this.$MercuryMessageStore18();this.$MercuryMessageStore17(j.MESSAGES_CHANGED)};j.prototype.$MercuryMessageStore13=function(){if(!this.$MercuryMessageStore1)return;this.$MercuryMessageStore6.reorder(this.$MercuryMessageStore4.getThreadMessagesSinceTimestamp(this.$MercuryMessageStore9,this.$MercuryMessageStore1));this.$MercuryMessageStore18();this.$MercuryMessageStore17(j.MESSAGES_REORDERED)};j.prototype.$MercuryMessageStore14=function(){this.$MercuryMessageStore6=new (c('MercuryMessageList'))();this.$MercuryMessageStore2=1;this.$MercuryMessageStore1=null;this.$MercuryMessageStore5=0;this.$MercuryMessageStore15()};j.prototype.$MercuryMessageStore17=function(k,l){var m=this.$MercuryMessageStore6.toArray();this.releaseHeldEventType('updated');this.emitAndHold('updated',babelHelpers['extends']({messages:m,eventType:k},l))};j.prototype.$MercuryMessageStore18=function(){var k=this.$MercuryMessageStore6.at(0);if(k)this.$MercuryMessageStore1=k.timestamp;};Object.assign(j,{MESSAGES_FETCHED:'fetched',MESSAGES_CHANGED:'changed',MESSAGES_RECEIVED:'received',MESSAGES_REORDERED:'reordered',THREAD_IS_EMPTY:'thread-is-empty'});c('mixInEventEmitter')(j,{updated:true});f.exports=j}),null);
__d('MercuryOrderedThreadlist',['invariant','LogHistory','MercuryActionType','MercuryAPIArgsSource','MercuryConfig','MercuryDispatcher','MercuryFilters','MercuryFolders','MercuryPayloadSource','MercuryServerRequests','MercurySingletonProvider','MercuryThreadIDMap','MessagingTag','PageMessageEnumTag','RangedCallbackManager','MercuryThreadInformer','MercuryThreads'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('LogHistory').getInstance('ordered_threadlist_model'),j=c('MercuryFilters').getSupportedFilters().concat([c('MercuryFilters').ALL,c('MessagingTag').GROUPS]),k=c('MercuryFolders').getSupportedFolders().concat([c('MessagingTag').SPAM]);l.getForFBID=function(o){return n.getForFBID(o)};l.get=function(){return n.get()};function l(o){this.$MercuryOrderedThreadlist1=o;this.$MercuryOrderedThreadlist2=c('MercuryThreadIDMap').getForFBID(this.$MercuryOrderedThreadlist1);this.$MercuryOrderedThreadlist3=c('MercuryThreadInformer').getForFBID(this.$MercuryOrderedThreadlist1);this.$MercuryOrderedThreadlist4=c('MercuryThreads').getForFBID(this.$MercuryOrderedThreadlist1);this.$MercuryOrderedThreadlist5=c('MercuryDispatcher').getForFBID(this.$MercuryOrderedThreadlist1);this.$MercuryOrderedThreadlist6={};this.$MercuryOrderedThreadlist7();this.$MercuryOrderedThreadlist5.subscribe('update-threadlist',function(p,q){if(!m(q))return;var r=q.ordered_threadlists;if(r&&r.length){this.$MercuryOrderedThreadlist8(r)}else{var s=(q.actions||[]).filter(function(t){return t.thread_id});this.$MercuryOrderedThreadlist9(q.threads||[]);this.$MercuryOrderedThreadlist10(s)}this.$MercuryOrderedThreadlist3.updatedThreadlist()}.bind(this));this.$MercuryOrderedThreadlist5.subscribe('invalidate-global-state',function(){return this.$MercuryOrderedThreadlist11()}.bind(this))}l.prototype.getThreadlistOrderMap=function(o,p){if(!this.$MercuryOrderedThreadlist6[o][p]){j=j.concat([p]);k.forEach(function(q){this.$MercuryOrderedThreadlist6[q][p]=new (c('RangedCallbackManager'))(function(r){var s=this.$MercuryOrderedThreadlist4.getThreadMetaNow(r);return s&&s.timestamp}.bind(this),function(r,s){return s-r},this.$MercuryOrderedThreadlist2.canLinkExternally.bind(this.$MercuryOrderedThreadlist2))}.bind(this))}return this.$MercuryOrderedThreadlist6[o][p]};l.prototype.getThreadlist=function(o,p,q,r,s,t){return this.getFilteredThreadlist(o,p,q,c('MercuryFilters').ALL,r,s,t)};l.prototype.getFilteredThreadlist=function(o,p,q,r,s,t,u){var v=this.getThreadlistOrderMap(q,r),w=v.executeOrEnqueue(o,p,s,t),x=v.getUnavailableResources(w),y=v.getError(o,p,t);if(x.length||y){if(v.getCurrentArraySize()<o){var z={start:o,limit:p,filter:r,resources_size:v.getCurrentArraySize()};i.warn('range_with_gap',JSON.stringify(z))}v.setError(false);this.getServerRequests().fetchThreadlistInfo(v.getCurrentArraySize(),x.length,q,r==c('MercuryFilters').ALL?null:r,u,this.$MercuryOrderedThreadlist12(v.getAllResources()))}return w};l.prototype.getServerRequests=function(){return c('MercuryServerRequests').getForFBID(this.$MercuryOrderedThreadlist1)};l.prototype.getThreadlistUntilTimestamp=function(o,p,q){q=q||c('MercuryFilters').ALL;return this.getThreadlistOrderMap(p,q).getElementsUntil(o)};l.prototype.getAvailableThreadlistNow=function(o,p){p=p||c('MercuryFilters').ALL;return this.getThreadlistOrderMap(o,p).getAllResources()};l.prototype.getThreadCount=function(o,p){p=p||c('MercuryFilters').ALL;return this.getThreadlistOrderMap(o,p).getCurrentArraySize()};l.prototype.hasLoadedThreadlist=function(o,p){p=p||c('MercuryFilters').ALL;return this.getThreadlistOrderMap(o,p).hasReachedEndOfArray()};l.prototype.unsubscribe=function(o,p,q){q=q||c('MercuryFilters').ALL;this.getThreadlistOrderMap(p,q).unsubscribe(o)};l.prototype.$MercuryOrderedThreadlist11=function(){this.$MercuryOrderedThreadlist6={};this.$MercuryOrderedThreadlist7()};l.prototype.$MercuryOrderedThreadlist7=function(){k.forEach(function(o){this.$MercuryOrderedThreadlist6[o]={};j.forEach(function(p){this.$MercuryOrderedThreadlist6[o][p]=new (c('RangedCallbackManager'))(function(q){var r=this.$MercuryOrderedThreadlist4.getThreadMetaNow(q);return r&&r.timestamp}.bind(this),function(q,r){return r-q},this.$MercuryOrderedThreadlist2.canLinkExternally.bind(this.$MercuryOrderedThreadlist2))}.bind(this))}.bind(this))};l.prototype.$MercuryOrderedThreadlist13=function(o,p,q){var r=this.$MercuryOrderedThreadlist4.getThreadMetaNow(o);return !!(r&&r.timestamp&&q&&p&&this.$MercuryOrderedThreadlist14(o)==p&&this.$MercuryOrderedThreadlist15(o).includes(q))};l.prototype.$MercuryOrderedThreadlist16=function(o,p,q){var r,s=this,t=[],u=false,v=false,w=(o||[]).filter(function(aa){var ba=aa.filter||c('MercuryFilters').ALL;return (aa.folder==p||!aa.folder&&p==c('MessagingTag').INBOX)&&ba==q}),x=this.$MercuryOrderedThreadlist6[p][q].getAllResources(),y=void 0;w.forEach(function(aa){t=t.concat(aa.thread_ids);if(aa.error){if(aa.end>x.length)v=aa.error;}else{var ba=aa.end-aa.start;if(aa.thread_ids.length<ba)u=true;}if(!y||aa.end>y)y=aa.end;});this.$MercuryOrderedThreadlist17(t,p,q);if(u){this.$MercuryOrderedThreadlist6[p][q].setReachedEndOfArray()}else if(v){this.$MercuryOrderedThreadlist6[p][q].setError(v)}else{var z=this.$MercuryOrderedThreadlist6[p][q].getCurrentArraySize();if(y&&z<y)(function(){var aa={},ba=x.concat(t),ca=ba.filter(function(da){var ea=aa[da];aa[da]=true;return ea});if(ca.length){i.warn('duplicate_threads',JSON.stringify({folder:p,expected_final_size:y,actual_final_size:z,duplicate_thread_ids:ca}));s.getServerRequests().fetchThreadlistInfo(y,ca.length,p,q==c('MercuryFilters').ALL?null:q,c('MercuryAPIArgsSource').MERCURY,s.$MercuryOrderedThreadlist12(s.$MercuryOrderedThreadlist6[p][q].getAllResources()))}})();}};l.prototype.$MercuryOrderedThreadlist8=function(o){k.forEach(function(p){j.forEach(function(q){this.$MercuryOrderedThreadlist16(o,p,q)}.bind(this))}.bind(this))};l.prototype.$MercuryOrderedThreadlist10=function(o){var p={},q=this.$MercuryOrderedThreadlist4;k.forEach(function(r){p[r]={};j.forEach(function(s){p[r][s]={to_add:[],to_remove:[],to_remove_if_last_after_add:{}}})});o.forEach(function(r){var s=r.thread_id;this.$MercuryOrderedThreadlist18(s,function(t){this.$MercuryOrderedThreadlist19(s,function(u){var v=function(){u.forEach(function(x){if(!j.includes(x))return;!!t||h(0);p[t][x].to_add.push(s);if(!this.$MercuryOrderedThreadlist6[t][x].hasReachedEndOfArray()&&!this.$MercuryOrderedThreadlist6[t][x].hasResource(s))p[t][x].to_remove_if_last_after_add[s]=true;}.bind(this))}.bind(this);function w(x){!!t||h(0);if(j.includes(x))if(u.includes(x)){p[t][x].to_add.push(s)}else p[t][x].to_remove.push(s);}if(!t){if(r.action_type===c('MercuryActionType').CHANGE_FOLDER||r.action_type===c('MercuryActionType').CHANGE_ARCHIVED_STATUS)k.forEach(function(x){if(x!==t)j.forEach(function(y){this.$MercuryOrderedThreadlist6[x][y].removeResources([s])}.bind(this));}.bind(this));return}!!t||h(0);switch(r.action_type){case c('MercuryActionType').DELETE_THREAD:u.forEach(function(x){if(!j.includes(x))return;p[t][x].to_remove.push(s)});break;case c('MercuryActionType').CHANGE_ARCHIVED_STATUS:case c('MercuryActionType').CHANGE_FOLDER:v();break;case c('MercuryActionType').CHANGE_READ_STATUS:w(c('MessagingTag').UNREAD);break;case c('MercuryActionType').USER_GENERATED_MESSAGE:case c('MercuryActionType').LOG_MESSAGE:u.forEach(function(x){if(!j.includes(x))return;if(this.$MercuryOrderedThreadlist13(s,t,x))p[t][x].to_add.push(s);}.bind(this));break;case c('MercuryActionType').CHANGE_FLAG:w(c('PageMessageEnumTag').FLAG);break;}}.bind(this))}.bind(this))}.bind(this));k.forEach(function(r){j.forEach(function(s){var t=this.$MercuryOrderedThreadlist6[r][s];this.$MercuryOrderedThreadlist17(p[r][s].to_add,r,s);for(var u=t.getCurrentArraySize()-1;u>=0;u--){var v=t.getResourceAtIndex(u);if(!p[r][s].to_remove_if_last_after_add[v])break;p[r][s].to_remove.push(v)}t.removeResources(p[r][s].to_remove)}.bind(this))}.bind(this))};l.prototype.$MercuryOrderedThreadlist9=function(o){var p={};k.forEach(function(q){p[q]={};j.forEach(function(r){p[q][r]=[]})});o.forEach(function(q){this.$MercuryOrderedThreadlist18(q.thread_id,function(r){this.$MercuryOrderedThreadlist19(q.thread_id,function(s){if(r)s.forEach(function(t){if(this.$MercuryOrderedThreadlist13(q.thread_id,r,t))p[r][t].push(q.thread_id);}.bind(this));}.bind(this))}.bind(this))}.bind(this));k.forEach(function(q){j.forEach(function(r){if(p[q][r].length>0)this.$MercuryOrderedThreadlist17(p[q][r],q,r);}.bind(this))}.bind(this))};l.prototype.$MercuryOrderedThreadlist17=function(o,p,q){q=q||c('MercuryFilters').ALL;this.$MercuryOrderedThreadlist6[p][q].addResources(o);k.forEach(function(r){if(r!=p)this.$MercuryOrderedThreadlist6[r][q].removeResources(o);}.bind(this))};l.prototype.$MercuryOrderedThreadlist18=function(o,p){this.$MercuryOrderedThreadlist4.getThreadMeta(o,function(q){p(this.$MercuryOrderedThreadlist14(o,q))}.bind(this))};l.prototype.$MercuryOrderedThreadlist14=function(o,p){p=p||this.$MercuryOrderedThreadlist4.getThreadMetaNow(o);var q=null;if(!p){q='No thread metadata'}else if(!p.folder)q='No thread folder';if(q){var r={error:q,tid:o};i.warn('no_thread_folder',JSON.stringify(r));return null}!!p||h(0);var s=p.folder;if(p.is_archived)s=c('MessagingTag').ACTION_ARCHIVED;if(this.$MercuryOrderedThreadlist6[s]){return s}else return null;};l.prototype.$MercuryOrderedThreadlist19=function(o,p){this.$MercuryOrderedThreadlist4.getThreadMeta(o,function(q){p(this.$MercuryOrderedThreadlist15(o,q))}.bind(this))};l.prototype.$MercuryOrderedThreadlist15=function(o,p){p=p||this.$MercuryOrderedThreadlist4.getThreadMetaNow(o);var q=[c('MercuryFilters').ALL];if(!p){var r={error:'no_thread_metadata',tid:o};i.warn('no_thread_metadata',JSON.stringify(r));return []}if(p.unread_count)q.push(c('MessagingTag').UNREAD);if(!p.is_canonical)q.push(c('MessagingTag').GROUPS);var s=p.page_thread_info;if(s&&s.flagged)q.push(c('PageMessageEnumTag').FLAG);return q};l.prototype.$MercuryOrderedThreadlist12=function(o){var p=null;if(c('MercuryConfig').SulfurThreadlist)if(o.length>0){var q=this.$MercuryOrderedThreadlist4.getThreadMetaNow(o[o.length-1]);p=q?q.timestamp:null}return p};function m(o){switch(o.payload_source){case c('MercuryPayloadSource').CLIENT_CHANGE_ARCHIVED_STATUS:case c('MercuryPayloadSource').CLIENT_CHANGE_READ_STATUS:case c('MercuryPayloadSource').CLIENT_CHANGE_FOLDER:case c('MercuryPayloadSource').CLIENT_CHANNEL_MESSAGE:case c('MercuryPayloadSource').CLIENT_DELETE_MESSAGES:case c('MercuryPayloadSource').CLIENT_DELETE_THREAD:case c('MercuryPayloadSource').CLIENT_SEND_MESSAGE:case c('MercuryPayloadSource').SERVER_SEND_MESSAGE:case c('MercuryPayloadSource').SERVER_FETCH_THREADLIST_INFO:case c('MercuryPayloadSource').SERVER_THREAD_SYNC:case c('MercuryPayloadSource').SERVER_INVALIDATE_GLOBAL_STATE:return true;case c('MercuryPayloadSource').SERVER_INITIAL_DATA:return !!o.ordered_threadlists;default:return false;}}var n=new (c('MercurySingletonProvider'))(l);f.exports=l}),null);
__d('MercurySearchSnippetResults',['MessengerEnvironment','MercuryAPIArgsSource','MercuryIDs','MercurySingletonMixin','MercuryThreadlistConstants','MercuryThreadIDMap','RangedCallbackManager','MercuryServerDispatcher','MercuryServerPayloadPreprocessor'],(function a(b,c,d,e,f,g){var h=c('MessengerEnvironment').messengerui?c('MercuryAPIArgsSource').MESSENGER:c('MercuryAPIArgsSource').WEBMESSENGER,i={},j={},k=null,l=c('MercuryThreadlistConstants').WEBMESSENGER_SEARCH_SNIPPET_COUNT,m=c('MercuryThreadlistConstants').WEBMESSENGER_SEARCH_SNIPPET_LIMIT,n=c('MercuryThreadlistConstants').WEBMESSENGER_SEARCH_SNIPPET_MORE;function o(x){'use strict';this.$MercurySearchSnippetResults1=x;this.$MercurySearchSnippetResults2=c('MercuryServerPayloadPreprocessor').getForFBID(x);c('MercuryServerDispatcher').registerEndpoints({'/ajax/mercury/search_snippets.php':{request_user_id:x,mode:c('MercuryServerDispatcher').IMMEDIATE,handler:function(y){this.handleUpdate(y)}.bind(this)}});this.$MercurySearchSnippetResults3=c('MercuryThreadIDMap').getForFBID(x)}o.prototype.getFBID=function(){'use strict';return this.$MercurySearchSnippetResults1};o.prototype.getThreadIDMap=function(){'use strict';return this.$MercurySearchSnippetResults3};o.prototype.getAllThreadSearchResults=function(x,y){'use strict';if(x)p(this.$MercurySearchSnippetResults1,x,m,0,y);};o.prototype.getAllLocalThreadSearchResults=function(x,y){'use strict';if(x){var z=i[x];if(z){var aa=z.getCurrentArraySize();p(this.$MercurySearchSnippetResults1,x,0,aa,y)}}};o.prototype.getAllThreadSearchMoreResults=function(x,y){'use strict';if(x){var z=i[x];if(z){var aa=z.getCurrentArraySize();p(this.$MercurySearchSnippetResults1,x,n,aa,y)}}};o.prototype.getSingleThreadSearchResults=function(x,y,z){'use strict';if(!x||!y)return;q.call(this,x,y,l,0,z)};o.prototype.getSingleThreadSearchMoreResults=function(x,y,z){'use strict';if(!x||!y)return;if(!j[y])return;var aa=j[y][x];if(aa){var ba=aa.num_total_snippets,ca=aa.snippets_cbm.getCurrentArraySize(),da=ba-ca;if(da>0){var ea=da>n?n:da;q.call(this,x,y,ea,ca,z)}}};o.prototype.countSnippetsMatchingQueryInThread=function(x,y){'use strict';var z=j[y][x];if(z)return z.num_total_snippets;};o.prototype.findIndexOfSnippet=function(x,y,z,aa){'use strict';var ba=v(x,y),ca=ba.getAllResources();for(var da=0;da<ca.length;da++)if(z===ca[da].message_id)return da;};o.prototype.findSnippetAtIndex=function(x,y,z,aa){'use strict';s(x,y,z);t.call(this,x,y,z,aa)};o.prototype.handleUpdate=function(x){'use strict';if(x.mercury_payload)this.$MercurySearchSnippetResults2.handleUpdate(x.mercury_payload);var y=x.search_snippets||{};Object.keys(y).filter(function(oa){return !!y[oa]}).forEach(function(oa){Object.keys(y[oa]).forEach(function(pa){if(!y[oa][pa].snippets)return;y[oa][pa].snippets.forEach(function(qa){qa.matched_keywords=r(qa.matched_keywords)})})});var z=x.offset,aa=[];for(var ba in y){var ca=y[ba];for(var da in ca){var ea=ca[da],fa=x.other_user_fbid||x.thread_fbid,ga=this.$MercurySearchSnippetResults3.getClientIDFromServerIDNow(da),ha=ea.snippets,ia=v(ba,ga),ja=ia.getCurrentArraySize();if(!fa){aa.push(ga);if(ja)continue;}else if(z!=ja)continue;var ka=j[ga][ba];ka.num_total_snippets=ea.num_total_snippets;var la=ha?ha.length:0;if(la>0)ia.addResourcesWithoutSorting(ha,ja);if(!fa||x.limit>la)if(ia.getCurrentArraySize()==ka.num_total_snippets)ia.setReachedEndOfArray();}if(!fa){var ma=u(ba),na=ma.getCurrentArraySize();if(z==na){ma.addResourcesWithoutSorting(aa,na);if(x.limit>aa.length)ma.setReachedEndOfArray();}}}};function p(x,y,z,aa,ba){if(k)if(!k.thread_id){var ca=u(k.query);ca.unsubscribe(k.subscriber_id);k=null}var ca=u(y),da=aa+z,ea=ca.executeOrEnqueue(0,da,function(ha){var ia={};for(var ja=0;ja<ha.length;ja++){var ka=ha[ja],la=j[ka][y];ia[ka]={num_total_snippets:la.num_total_snippets,snippets:la.snippets_cbm.getAllResources()}}var ma=ca.hasReachedEndOfArray();ba(ia,ma)}),fa=ca.getUnavailableResources(ea);if(fa.length){k={query:y,thread_id:null,subscriber_id:ea};var ga={query:y,offset:aa,limit:z+1,snippetLimit:l};ga.identifier='thread_fbid';w(ga,x)}}function q(x,y,z,aa,ba){if(k)if(k.thread_id){var ca=v(k.query,k.thread_id);ca.unsubscribe(k.subscriber_id);k=null}var ca=v(x,y),da=aa+z,ea=ca.executeOrEnqueue(0,da,function(){var ka=ca.getAllResources(),la=j[y][x].num_total_snippets;ba(ka,la)}),fa=ca.getUnavailableResources(ea);if(fa.length){k={query:x,thread_id:y,subscriber_id:ea};var ga={query:x,snippetOffset:aa,snippetLimit:z},ha=this.getThreadIDMap().getServerIDFromClientIDNow(y),ia=c('MercuryIDs').tokenize(y),ja=ia.type;if(ja=='user'){ga.other_user_fbid=ha}else ga.thread_fbid=ha;ga.identifier='thread_fbid';w(ga,this.getFBID())}}function r(x){if(x instanceof Array){var y={};for(var z=0;z<x.length;z++)y[z.toString()]=x[z];return y}else return x;}function s(x,y,z){}function t(x,y,z,aa){var ba=j[y][x],ca=ba.snippets_cbm.getAllResources(),da=ba.num_total_snippets,ea=ca.length;if(z<ea){aa(ca[z].message_id);return}var fa=da-ea,ga=fa>n?n:fa;q.call(this,x,y,ga,ea,function(ha,ia){t.call(this,x,y,z,aa)})}function u(x){if(!i[x])i[x]=new (c('RangedCallbackManager'))();return i[x]}function v(x,y){if(!j[y])j[y]={};var z=j[y][x];if(!z){z={num_total_snippets:-1,snippets_cbm:new (c('RangedCallbackManager'))()};j[y][x]=z}return z.snippets_cbm}function w(x,y){x.client=h;c('MercuryServerDispatcher').trySend('/ajax/mercury/search_snippets.php',x,null,y)}Object.assign(o,c('MercurySingletonMixin'));f.exports=o}),null);
__d('MNAdsMessageUtils',['cx','fbt','AdPageMessageTypeEnum','Bootloader','FBJSON','Link.react','MercuryConfig','MercuryIDs','MessagingGenericAdminTextType','MessagingTag','MNCommerceDialogStateActions','MNCommercePromotionBlockDataManager','React','getPageIDFromThreadID'],(function a(b,c,d,e,f,g,h,i){'use strict';var j='offsite_ad';k.prototype.isAdsMessageRequest=function(l){return l.folder==c('MessagingTag').PENDING&&!!l.last_message_type&&l.last_message_type!==c('AdPageMessageTypeEnum').NON_AD};k.prototype.renderAdsMessageRequestStatus=function(){var l=i._("Sponsored");return c('React').createElement('span',null,l)};k.prototype.isAdsAdminMessage=function(l){return l&&l.log_message_data&&l.log_message_data.message_type&&l.log_message_data.message_type===c('MessagingGenericAdminTextType').AD_MANAGE_MESSAGE};k.prototype.isOffsiteAd=function(l){if(l.log_message_data&&l.log_message_data.untypedData&&l.log_message_data.untypedData.ad_properties){var m=c('FBJSON').parse(l.log_message_data.untypedData.ad_properties);for(var n=m,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;if(r===j)return true;}}return false};k.prototype.getadPreferencesUrl=function(l){if(l.log_message_data&&l.log_message_data.untypedData&&l.log_message_data.untypedData.ad_preferences_url)return l.log_message_data.untypedData.ad_preferences_url;return ''};k.prototype.getAdsPageManage=function(l,m){var n=null;if(c('MercuryConfig').WWWMessengerManageAdminGK){var o=function(){var p=this.isOffsiteAd(l),q=c('getPageIDFromThreadID')(l.thread_id);if(!q)q=c('MercuryIDs').getUserIDFromParticipantID(l.author);var r=this.getadPreferencesUrl(l),s=function t(u,v){return c('MNCommercePromotionBlockDataManager').block(u,v)};c('Bootloader').loadModules(["MNAdsMessagesManageBlockDialogContainer.react"],function(t){c('MNCommerceDialogStateActions').showDialog(t,{adPreferencesUrl:r,isOffsiteAd:p,onConfirmButtonClick:s,pageID:q})},'MNAdsMessageUtils')}.bind(this);n=c('React').createElement(c('Link.react'),{className:(!m?"_3kyk":'')+(m?' '+"_3kyl":''),onClick:o},i._("Manage"));return c('React').createElement('span',{className:!m?"_3kym":''},l.log_message_body,' ','\u00B7',' ',n)}return c('React').createElement('span',{className:!m?"_3kym":''},l.log_message_body)};function k(){}f.exports=new k()}),null);